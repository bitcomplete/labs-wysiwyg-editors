import{c as gr,g as ze,r as rr,R as _l}from"../react-uubelm5h.js";import"../react-dom-kZ5ognbQ.js";function wi(e){var r,t,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(r=0;r<a;r++)e[r]&&(t=wi(e[r]))&&(n&&(n+=" "),n+=t)}else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function $O(){for(var e,r,t=0,n="",a=arguments.length;t<a;t++)(e=arguments[t])&&(r=wi(e))&&(n&&(n+=" "),n+=r);return n}/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function Su(e){return Object.prototype.toString.call(e)==="[object Object]"}function ie(e){var r,t;return Su(e)===!1?!1:(r=e.constructor,r===void 0?!0:(t=r.prototype,!(Su(t)===!1||t.hasOwnProperty("isPrototypeOf")===!1)))}var Oi=Symbol.for("immer-nothing"),Pu=Symbol.for("immer-draftable"),k=Symbol.for("immer-state");function Se(e,...r){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var jr=Object.getPrototypeOf;function br(e){return!!e&&!!e[k]}function nr(e){var r;return e?$i(e)||Array.isArray(e)||!!e[Pu]||!!((r=e.constructor)!=null&&r[Pu])||hn(e)||pn(e):!1}var Tl=Object.prototype.constructor.toString();function $i(e){if(!e||typeof e!="object")return!1;const r=jr(e);if(r===null)return!0;const t=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===Tl}function it(e,r){gn(e)===0?Reflect.ownKeys(e).forEach(t=>{r(t,e[t],e)}):e.forEach((t,n)=>r(n,t,e))}function gn(e){const r=e[k];return r?r.type_:Array.isArray(e)?1:hn(e)?2:pn(e)?3:0}function ia(e,r){return gn(e)===2?e.has(r):Object.prototype.hasOwnProperty.call(e,r)}function Si(e,r,t){const n=gn(e);n===2?e.set(r,t):n===3?e.add(t):e[r]=t}function xl(e,r){return e===r?e!==0||1/e===1/r:e!==e&&r!==r}function hn(e){return e instanceof Map}function pn(e){return e instanceof Set}function se(e){return e.copy_||e.base_}function oa(e,r){if(hn(e))return new Map(e);if(pn(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const t=$i(e);if(r===!0||r==="class_only"&&!t){const n=Object.getOwnPropertyDescriptors(e);delete n[k];let a=Reflect.ownKeys(n);for(let u=0;u<a.length;u++){const s=a[u],i=n[s];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(n[s]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[s]})}return Object.create(jr(e),n)}else{const n=jr(e);if(n!==null&&t)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function $a(e,r=!1){return Dn(e)||br(e)||!nr(e)||(gn(e)>1&&(e.set=e.add=e.clear=e.delete=Nl),Object.freeze(e),r&&Object.entries(e).forEach(([t,n])=>$a(n,!0))),e}function Nl(){Se(2)}function Dn(e){return Object.isFrozen(e)}var fa={};function Fr(e){const r=fa[e];return r||Se(0,e),r}function jl(e,r){fa[e]||(fa[e]=r)}var ot;function Zt(){return ot}function Rl(e,r){return{drafts_:[],parent_:e,immer_:r,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function _u(e,r){r&&(Fr("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=r)}function la(e){ca(e),e.drafts_.forEach(Il),e.drafts_=null}function ca(e){e===ot&&(ot=e.parent_)}function Tu(e){return ot=Rl(ot,e)}function Il(e){const r=e[k];r.type_===0||r.type_===1?r.revoke_():r.revoked_=!0}function xu(e,r){r.unfinalizedDrafts_=r.drafts_.length;const t=r.drafts_[0];return e!==void 0&&e!==t?(t[k].modified_&&(la(r),Se(4)),nr(e)&&(e=Xt(r,e),r.parent_||Qt(r,e)),r.patches_&&Fr("Patches").generateReplacementPatches_(t[k].base_,e,r.patches_,r.inversePatches_)):e=Xt(r,t,[]),la(r),r.patches_&&r.patchListener_(r.patches_,r.inversePatches_),e!==Oi?e:void 0}function Xt(e,r,t){if(Dn(r))return r;const n=r[k];if(!n)return it(r,(a,u)=>Nu(e,n,r,a,u,t)),r;if(n.scope_!==e)return r;if(!n.modified_)return Qt(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let u=a,s=!1;n.type_===3&&(u=new Set(a),a.clear(),s=!0),it(u,(i,o)=>Nu(e,n,a,i,o,t,s)),Qt(e,a,!1),t&&e.patches_&&Fr("Patches").generatePatches_(n,t,e.patches_,e.inversePatches_)}return n.copy_}function Nu(e,r,t,n,a,u,s){if(br(a)){const i=u&&r&&r.type_!==3&&!ia(r.assigned_,n)?u.concat(n):void 0,o=Xt(e,a,i);if(Si(t,n,o),br(o))e.canAutoFreeze_=!1;else return}else s&&t.add(a);if(nr(a)&&!Dn(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Xt(e,a),(!r||!r.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,n)&&Qt(e,a)}}function Qt(e,r,t=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&$a(r,t)}function Ml(e,r){const t=Array.isArray(e),n={type_:t?1:0,scope_:r?r.scope_:Zt(),modified_:!1,finalized_:!1,assigned_:{},parent_:r,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,u=Sa;t&&(a=[n],u=ft);const{revoke:s,proxy:i}=Proxy.revocable(a,u);return n.draft_=i,n.revoke_=s,i}var Sa={get(e,r){if(r===k)return e;const t=se(e);if(!ia(t,r))return Ll(e,t,r);const n=t[r];return e.finalized_||!nr(n)?n:n===Vn(e.base_,r)?(kn(e),e.copy_[r]=lt(n,e)):n},has(e,r){return r in se(e)},ownKeys(e){return Reflect.ownKeys(se(e))},set(e,r,t){const n=Pi(se(e),r);if(n!=null&&n.set)return n.set.call(e.draft_,t),!0;if(!e.modified_){const a=Vn(se(e),r),u=a==null?void 0:a[k];if(u&&u.base_===t)return e.copy_[r]=t,e.assigned_[r]=!1,!0;if(xl(t,a)&&(t!==void 0||ia(e.base_,r)))return!0;kn(e),tr(e)}return e.copy_[r]===t&&(t!==void 0||r in e.copy_)||Number.isNaN(t)&&Number.isNaN(e.copy_[r])||(e.copy_[r]=t,e.assigned_[r]=!0),!0},deleteProperty(e,r){return Vn(e.base_,r)!==void 0||r in e.base_?(e.assigned_[r]=!1,kn(e),tr(e)):delete e.assigned_[r],e.copy_&&delete e.copy_[r],!0},getOwnPropertyDescriptor(e,r){const t=se(e),n=Reflect.getOwnPropertyDescriptor(t,r);return n&&{writable:!0,configurable:e.type_!==1||r!=="length",enumerable:n.enumerable,value:t[r]}},defineProperty(){Se(11)},getPrototypeOf(e){return jr(e.base_)},setPrototypeOf(){Se(12)}},ft={};it(Sa,(e,r)=>{ft[e]=function(){return arguments[0]=arguments[0][0],r.apply(this,arguments)}});ft.deleteProperty=function(e,r){return ft.set.call(this,e,r,void 0)};ft.set=function(e,r,t){return Sa.set.call(this,e[0],r,t,e[0])};function Vn(e,r){const t=e[k];return(t?se(t):e)[r]}function Ll(e,r,t){var a;const n=Pi(r,t);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function Pi(e,r){if(!(r in e))return;let t=jr(e);for(;t;){const n=Object.getOwnPropertyDescriptor(t,r);if(n)return n;t=jr(t)}}function tr(e){e.modified_||(e.modified_=!0,e.parent_&&tr(e.parent_))}function kn(e){e.copy_||(e.copy_=oa(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Hl=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(r,t,n)=>{if(typeof r=="function"&&typeof t!="function"){const u=t;t=r;const s=this;return function(o=u,...f){return s.produce(o,c=>t.call(this,c,...f))}}typeof t!="function"&&Se(6),n!==void 0&&typeof n!="function"&&Se(7);let a;if(nr(r)){const u=Tu(this),s=lt(r,void 0);let i=!0;try{a=t(s),i=!1}finally{i?la(u):ca(u)}return _u(u,n),xu(a,u)}else if(!r||typeof r!="object"){if(a=t(r),a===void 0&&(a=r),a===Oi&&(a=void 0),this.autoFreeze_&&$a(a,!0),n){const u=[],s=[];Fr("Patches").generateReplacementPatches_(r,a,u,s),n(u,s)}return a}else Se(1,r)},this.produceWithPatches=(r,t)=>{if(typeof r=="function")return(s,...i)=>this.produceWithPatches(s,o=>r(o,...i));let n,a;return[this.produce(r,t,(s,i)=>{n=s,a=i}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){nr(e)||Se(8),br(e)&&(e=zl(e));const r=Tu(this),t=lt(e,void 0);return t[k].isManual_=!0,ca(r),t}finishDraft(e,r){const t=e&&e[k];(!t||!t.isManual_)&&Se(9);const{scope_:n}=t;return _u(n,r),xu(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,r){let t;for(t=r.length-1;t>=0;t--){const a=r[t];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}t>-1&&(r=r.slice(t+1));const n=Fr("Patches").applyPatches_;return br(e)?n(e,r):this.produce(e,a=>n(a,r))}};function lt(e,r){const t=hn(e)?Fr("MapSet").proxyMap_(e,r):pn(e)?Fr("MapSet").proxySet_(e,r):Ml(e,r);return(r?r.scope_:Zt()).drafts_.push(t),t}function zl(e){return br(e)||Se(10,e),_i(e)}function _i(e){if(!nr(e)||Dn(e))return e;const r=e[k];let t;if(r){if(!r.modified_)return r.base_;r.finalized_=!0,t=oa(e,r.scope_.immer_.useStrictShallowCopy_)}else t=oa(e,!0);return it(t,(n,a)=>{Si(t,n,_i(a))}),r&&(r.finalized_=!1),t}function Kl(){class e extends Map{constructor(o,f){super(),this[k]={type_:2,parent_:f,scope_:f?f.scope_:Zt(),modified_:!1,finalized_:!1,copy_:void 0,assigned_:void 0,base_:o,draft_:this,isManual_:!1,revoked_:!1}}get size(){return se(this[k]).size}has(o){return se(this[k]).has(o)}set(o,f){const c=this[k];return s(c),(!se(c).has(o)||se(c).get(o)!==f)&&(t(c),tr(c),c.assigned_.set(o,!0),c.copy_.set(o,f),c.assigned_.set(o,!0)),this}delete(o){if(!this.has(o))return!1;const f=this[k];return s(f),t(f),tr(f),f.base_.has(o)?f.assigned_.set(o,!1):f.assigned_.delete(o),f.copy_.delete(o),!0}clear(){const o=this[k];s(o),se(o).size&&(t(o),tr(o),o.assigned_=new Map,it(o.base_,f=>{o.assigned_.set(f,!1)}),o.copy_.clear())}forEach(o,f){const c=this[k];se(c).forEach((g,p,d)=>{o.call(f,this.get(p),p,this)})}get(o){const f=this[k];s(f);const c=se(f).get(o);if(f.finalized_||!nr(c)||c!==f.base_.get(o))return c;const g=lt(c,f);return t(f),f.copy_.set(o,g),g}keys(){return se(this[k]).keys()}values(){const o=this.keys();return{[Symbol.iterator]:()=>this.values(),next:()=>{const f=o.next();return f.done?f:{done:!1,value:this.get(f.value)}}}}entries(){const o=this.keys();return{[Symbol.iterator]:()=>this.entries(),next:()=>{const f=o.next();if(f.done)return f;const c=this.get(f.value);return{done:!1,value:[f.value,c]}}}}[Symbol.iterator](){return this.entries()}}function r(i,o){return new e(i,o)}function t(i){i.copy_||(i.assigned_=new Map,i.copy_=new Map(i.base_))}class n extends Set{constructor(o,f){super(),this[k]={type_:3,parent_:f,scope_:f?f.scope_:Zt(),modified_:!1,finalized_:!1,copy_:void 0,base_:o,draft_:this,drafts_:new Map,revoked_:!1,isManual_:!1}}get size(){return se(this[k]).size}has(o){const f=this[k];return s(f),f.copy_?!!(f.copy_.has(o)||f.drafts_.has(o)&&f.copy_.has(f.drafts_.get(o))):f.base_.has(o)}add(o){const f=this[k];return s(f),this.has(o)||(u(f),tr(f),f.copy_.add(o)),this}delete(o){if(!this.has(o))return!1;const f=this[k];return s(f),u(f),tr(f),f.copy_.delete(o)||(f.drafts_.has(o)?f.copy_.delete(f.drafts_.get(o)):!1)}clear(){const o=this[k];s(o),se(o).size&&(u(o),tr(o),o.copy_.clear())}values(){const o=this[k];return s(o),u(o),o.copy_.values()}entries(){const o=this[k];return s(o),u(o),o.copy_.entries()}keys(){return this.values()}[Symbol.iterator](){return this.values()}forEach(o,f){const c=this.values();let g=c.next();for(;!g.done;)o.call(f,g.value,g.value,this),g=c.next()}}function a(i,o){return new n(i,o)}function u(i){i.copy_||(i.copy_=new Set,i.base_.forEach(o=>{if(nr(o)){const f=lt(o,i);i.drafts_.set(o,f),i.copy_.add(f)}else i.copy_.add(o)}))}function s(i){i.revoked_&&Se(3,JSON.stringify(se(i)))}jl("MapSet",{proxyMap_:r,proxySet_:a})}var Fe=new Hl,dn=Fe.produce;Fe.produceWithPatches.bind(Fe);var Wl=Fe.setAutoFreeze.bind(Fe);Fe.setUseStrictShallowCopy.bind(Fe);Fe.applyPatches.bind(Fe);var ju=Fe.createDraft.bind(Fe),Ru=Fe.finishDraft.bind(Fe),Ul={transform(e,r){var{current:t,affinity:n}=e;if(t!=null){var a=D.transform(t,r,{affinity:n});e.current=a,a==null&&e.unref()}}},ql={transform(e,r){var{current:t,affinity:n}=e;if(t!=null){var a=U.transform(t,r,{affinity:n});e.current=a,a==null&&e.unref()}}},Gl={transform(e,r){var{current:t,affinity:n}=e;if(t!=null){var a=b.transform(t,r,{affinity:n});e.current=a,a==null&&e.unref()}}},en=new WeakMap,rn=new WeakMap,ut=new WeakMap,Ti=new WeakMap,Iu=new WeakMap,Mu=new WeakMap,Lu=new WeakMap,D={ancestors(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:t=!1}=r,n=D.levels(e,r);return t?n=n.slice(1):n=n.slice(0,-1),n},common(e,r){for(var t=[],n=0;n<e.length&&n<r.length;n++){var a=e[n],u=r[n];if(a!==u)break;t.push(a)}return t},compare(e,r){for(var t=Math.min(e.length,r.length),n=0;n<t;n++){if(e[n]<r[n])return-1;if(e[n]>r[n])return 1}return 0},endsAfter(e,r){var t=e.length-1,n=e.slice(0,t),a=r.slice(0,t),u=e[t],s=r[t];return D.equals(n,a)&&u>s},endsAt(e,r){var t=e.length,n=e.slice(0,t),a=r.slice(0,t);return D.equals(n,a)},endsBefore(e,r){var t=e.length-1,n=e.slice(0,t),a=r.slice(0,t),u=e[t],s=r[t];return D.equals(n,a)&&u<s},equals(e,r){return e.length===r.length&&e.every((t,n)=>t===r[n])},hasPrevious(e){return e[e.length-1]>0},isAfter(e,r){return D.compare(e,r)===1},isAncestor(e,r){return e.length<r.length&&D.compare(e,r)===0},isBefore(e,r){return D.compare(e,r)===-1},isChild(e,r){return e.length===r.length+1&&D.compare(e,r)===0},isCommon(e,r){return e.length<=r.length&&D.compare(e,r)===0},isDescendant(e,r){return e.length>r.length&&D.compare(e,r)===0},isParent(e,r){return e.length+1===r.length&&D.compare(e,r)===0},isPath(e){return Array.isArray(e)&&(e.length===0||typeof e[0]=="number")},isSibling(e,r){if(e.length!==r.length)return!1;var t=e.slice(0,-1),n=r.slice(0,-1),a=e[e.length-1],u=r[r.length-1];return a!==u&&D.equals(t,n)},levels(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:t=!1}=r,n=[],a=0;a<=e.length;a++)n.push(e.slice(0,a));return t&&n.reverse(),n},next(e){if(e.length===0)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var r=e[e.length-1];return e.slice(0,-1).concat(r+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(e.length===0)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(e.length===0)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var r=e[e.length-1];if(r<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(r-1)},relative(e,r){if(!D.isAncestor(r,e)&&!D.equals(e,r))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(r,"], because it is not above or equal to the path."));return e.slice(r.length)},transform(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e)return null;var n=[...e],{affinity:a="forward"}=t;if(e.length===0)return n;switch(r.type){case"insert_node":{var{path:u}=r;(D.equals(u,n)||D.endsBefore(u,n)||D.isAncestor(u,n))&&(n[u.length-1]+=1);break}case"remove_node":{var{path:s}=r;if(D.equals(s,n)||D.isAncestor(s,n))return null;D.endsBefore(s,n)&&(n[s.length-1]-=1);break}case"merge_node":{var{path:i,position:o}=r;D.equals(i,n)||D.endsBefore(i,n)?n[i.length-1]-=1:D.isAncestor(i,n)&&(n[i.length-1]-=1,n[i.length]+=o);break}case"split_node":{var{path:f,position:c}=r;if(D.equals(f,n)){if(a==="forward")n[n.length-1]+=1;else if(a!=="backward")return null}else D.endsBefore(f,n)?n[f.length-1]+=1:D.isAncestor(f,n)&&e[f.length]>=c&&(n[f.length-1]+=1,n[f.length]-=c);break}case"move_node":{var{path:g,newPath:p}=r;if(D.equals(g,p))return n;if(D.isAncestor(g,n)||D.equals(g,n)){var d=p.slice();return D.endsBefore(g,p)&&g.length<p.length&&(d[g.length-1]-=1),d.concat(n.slice(g.length))}else D.isSibling(g,p)&&(D.isAncestor(p,n)||D.equals(p,n))?D.endsBefore(g,n)?n[g.length-1]-=1:n[g.length-1]+=1:D.endsBefore(p,n)||D.equals(p,n)||D.isAncestor(p,n)?(D.endsBefore(g,n)&&(n[g.length-1]-=1),n[p.length-1]+=1):D.endsBefore(g,n)&&(D.equals(p,n)&&(n[p.length-1]+=1),n[g.length-1]-=1);break}}return n}};function ct(e){"@babel/helpers - typeof";return ct=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ct(e)}function Vl(e,r){if(ct(e)!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(ct(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function kl(e){var r=Vl(e,"string");return ct(r)==="symbol"?r:String(r)}function he(e,r,t){return r=kl(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Hu(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function rt(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Hu(Object(t),!0).forEach(function(n){he(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Hu(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var Jl=(e,r,t)=>{switch(t.type){case"insert_node":{var{path:n,node:a}=t,u=S.parent(e,n),s=n[n.length-1];if(s>u.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(n,"] because the destination is past the end of the node."));if(u.children.splice(s,0,a),r)for(var[i,o]of b.points(r))r[o]=U.transform(i,t);break}case"insert_text":{var{path:f,offset:c,text:g}=t;if(g.length===0)break;var p=S.leaf(e,f),d=p.text.slice(0,c),m=p.text.slice(c);if(p.text=d+g+m,r)for(var[C,A]of b.points(r))r[A]=U.transform(C,t);break}case"merge_node":{var{path:y}=t,B=S.get(e,y),P=D.previous(y),N=S.get(e,P),w=S.parent(e,y),j=y[y.length-1];if(x.isText(B)&&x.isText(N))N.text+=B.text;else if(!x.isText(B)&&!x.isText(N))N.children.push(...B.children);else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(y,"] to nodes of different interfaces: ").concat(Ee.stringify(B)," ").concat(Ee.stringify(N)));if(w.children.splice(j,1),r)for(var[F,I]of b.points(r))r[I]=U.transform(F,t);break}case"move_node":{var{path:_,newPath:T}=t;if(D.isAncestor(_,T))throw new Error("Cannot move a path [".concat(_,"] to new path [").concat(T,"] because the destination is inside itself."));var z=S.get(e,_),G=S.parent(e,_),ee=_[_.length-1];G.children.splice(ee,1);var J=D.transform(_,t),oe=S.get(e,D.parent(J)),pe=J[J.length-1];if(oe.children.splice(pe,0,z),r)for(var[De,de]of b.points(r))r[de]=U.transform(De,t);break}case"remove_node":{var{path:re}=t,ce=re[re.length-1],xe=S.parent(e,re);if(xe.children.splice(ce,1),r)for(var[me,Ne]of b.points(r)){var qe=U.transform(me,t);if(r!=null&&qe!=null)r[Ne]=qe;else{var K=void 0,ae=void 0;for(var[Ie,V]of S.texts(e))if(D.compare(V,re)===-1)K=[Ie,V];else{ae=[Ie,V];break}var Ge=!1;K&&ae&&(D.equals(ae[1],re)?Ge=!D.hasPrevious(ae[1]):Ge=D.common(K[1],re).length<D.common(ae[1],re).length),K&&!Ge?(me.path=K[1],me.offset=K[0].text.length):ae?(me.path=ae[1],me.offset=0):r=null}}break}case"remove_text":{var{path:Dr,offset:Ce,text:ir}=t;if(ir.length===0)break;var Ve=S.leaf(e,Dr),fe=Ve.text.slice(0,Ce),$r=Ve.text.slice(Ce+ir.length);if(Ve.text=fe+$r,r)for(var[Bt,Et]of b.points(r))r[Et]=U.transform(Bt,t);break}case"set_node":{var{path:bt,properties:xn,newProperties:Zr}=t;if(bt.length===0)throw new Error("Cannot set properties on the root node!");var Xr=S.get(e,bt);for(var or in Zr){if(or==="children"||or==="text")throw new Error('Cannot set the "'.concat(or,'" property of nodes!'));var Sr=Zr[or];Sr==null?delete Xr[or]:Xr[or]=Sr}for(var Ft in xn)Zr.hasOwnProperty(Ft)||delete Xr[Ft];break}case"set_selection":{var{newProperties:ke}=t;if(ke==null)r=ke;else{if(r==null){if(!b.isRange(ke))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(Ee.stringify(ke)," when there is no current selection."));r=rt({},ke)}for(var fr in ke){var wt=ke[fr];if(wt==null){if(fr==="anchor"||fr==="focus")throw new Error('Cannot remove the "'.concat(fr,'" selection property'));delete r[fr]}else r[fr]=wt}}break}case"split_node":{var{path:lr,position:Je,properties:Pr}=t;if(lr.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(lr,"] because the root node cannot be split."));var Me=S.get(e,lr),Ot=S.parent(e,lr),je=lr[lr.length-1],Le;if(x.isText(Me)){var Nn=Me.text.slice(0,Je),$t=Me.text.slice(Je);Me.text=Nn,Le=rt(rt({},Pr),{},{text:$t})}else{var St=Me.children.slice(0,Je),jn=Me.children.slice(Je);Me.children=St,Le=rt(rt({},Pr),{},{children:jn})}if(Ot.children.splice(je+1,0,Le),r)for(var[Rn,In]of b.points(r))r[In]=U.transform(Rn,t);break}}return r},Yl={transform(e,r){e.children=ju(e.children);var t=e.selection&&ju(e.selection);try{t=Jl(e,t,r)}finally{e.children=Ru(e.children),t?e.selection=br(t)?Ru(t):t:e.selection=null}}},Zl={insertNodes(e,r,t){e.insertNodes(r,t)},liftNodes(e,r){e.liftNodes(r)},mergeNodes(e,r){e.mergeNodes(r)},moveNodes(e,r){e.moveNodes(r)},removeNodes(e,r){e.removeNodes(r)},setNodes(e,r,t){e.setNodes(r,t)},splitNodes(e,r){e.splitNodes(r)},unsetNodes(e,r,t){e.unsetNodes(r,t)},unwrapNodes(e,r){e.unwrapNodes(r)},wrapNodes(e,r,t){e.wrapNodes(r,t)}},Xl={collapse(e,r){e.collapse(r)},deselect(e){e.deselect()},move(e,r){e.move(r)},select(e,r){e.select(r)},setPoint(e,r,t){e.setPoint(r,t)},setSelection(e,r){e.setSelection(r)}},xi=(e,r)=>{for(var t in e){var n=e[t],a=r[t];if(ie(n)&&ie(a)){if(!xi(n,a))return!1}else if(Array.isArray(n)&&Array.isArray(a)){if(n.length!==a.length)return!1;for(var u=0;u<n.length;u++)if(n[u]!==a[u])return!1}else if(n!==a)return!1}for(var s in r)if(e[s]===void 0&&r[s]!==void 0)return!1;return!0};function Ql(e,r){if(e==null)return{};var t={},n=Object.keys(e),a,u;for(u=0;u<n.length;u++)a=n[u],!(r.indexOf(a)>=0)&&(t[a]=e[a]);return t}function ar(e,r){if(e==null)return{};var t=Ql(e,r),n,a;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(a=0;a<u.length;a++)n=u[a],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}var ec=["anchor","focus"];function zu(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function rc(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?zu(Object(t),!0).forEach(function(n){he(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):zu(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var b={edges(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:t=!1}=r,{anchor:n,focus:a}=e;return b.isBackward(e)===t?[n,a]:[a,n]},end(e){var[,r]=b.edges(e);return r},equals(e,r){return U.equals(e.anchor,r.anchor)&&U.equals(e.focus,r.focus)},surrounds(e,r){var t=b.intersection(e,r);return t?b.equals(t,r):!1},includes(e,r){if(b.isRange(r)){if(b.includes(e,r.anchor)||b.includes(e,r.focus))return!0;var[t,n]=b.edges(e),[a,u]=b.edges(r);return U.isBefore(t,a)&&U.isAfter(n,u)}var[s,i]=b.edges(e),o=!1,f=!1;return U.isPoint(r)?(o=U.compare(r,s)>=0,f=U.compare(r,i)<=0):(o=D.compare(r,s.path)>=0,f=D.compare(r,i.path)<=0),o&&f},intersection(e,r){var t=ar(e,ec),[n,a]=b.edges(e),[u,s]=b.edges(r),i=U.isBefore(n,u)?u:n,o=U.isBefore(a,s)?a:s;return U.isBefore(o,i)?null:rc({anchor:i,focus:o},t)},isBackward(e){var{anchor:r,focus:t}=e;return U.isAfter(r,t)},isCollapsed(e){var{anchor:r,focus:t}=e;return U.equals(r,t)},isExpanded(e){return!b.isCollapsed(e)},isForward(e){return!b.isBackward(e)},isRange(e){return ie(e)&&U.isPoint(e.anchor)&&U.isPoint(e.focus)},*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[r]=b.edges(e);return r},transform(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return dn(e,n=>{if(n===null)return null;var{affinity:a="inward"}=t,u,s;if(a==="inward"){var i=b.isCollapsed(n);b.isForward(n)?(u="forward",s=i?u:"backward"):(u="backward",s=i?u:"forward")}else a==="outward"?b.isForward(n)?(u="backward",s="forward"):(u="forward",s="backward"):(u=a,s=a);var o=U.transform(n.anchor,r,{affinity:u}),f=U.transform(n.focus,r,{affinity:s});if(!o||!f)return null;n.anchor=o,n.focus=f})}},Ku=e=>ie(e)&&S.isNodeList(e.children)&&!v.isEditor(e),M={isAncestor(e){return ie(e)&&S.isNodeList(e.children)},isElement:Ku,isElementList(e){return Array.isArray(e)&&e.every(r=>M.isElement(r))},isElementProps(e){return e.children!==void 0},isElementType:function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return Ku(r)&&r[n]===t},matches(e,r){for(var t in r)if(t!=="children"&&e[t]!==r[t])return!1;return!0}},tc=["children"],nc=["text"],Wu=new WeakMap,S={ancestor(e,r){var t=S.get(e,r);if(x.isText(t))throw new Error("Cannot get the ancestor node at path [".concat(r,"] because it refers to a text node instead: ").concat(Ee.stringify(t)));return t},ancestors(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var n of D.ancestors(r,t)){var a=S.ancestor(e,n),u=[a,n];yield u}}()},child(e,r){if(x.isText(e))throw new Error("Cannot get the child of a text node: ".concat(Ee.stringify(e)));var t=e.children[r];if(t==null)throw new Error("Cannot get child at index `".concat(r,"` in node: ").concat(Ee.stringify(e)));return t},children(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var{reverse:n=!1}=t,a=S.ancestor(e,r),{children:u}=a,s=n?u.length-1:0;n?s>=0:s<u.length;){var i=S.child(a,s),o=r.concat(s);yield[i,o],s=n?s-1:s+1}}()},common(e,r,t){var n=D.common(r,t),a=S.get(e,n);return[a,n]},descendant(e,r){var t=S.get(e,r);if(v.isEditor(t))throw new Error("Cannot get the descendant node at path [".concat(r,"] because it refers to the root editor node instead: ").concat(Ee.stringify(t)));return t},descendants(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[t,n]of S.nodes(e,r))n.length!==0&&(yield[t,n])}()},elements(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[t,n]of S.nodes(e,r))M.isElement(t)&&(yield[t,n])}()},extractProps(e){if(M.isAncestor(e)){var r=ar(e,tc);return r}else{var r=ar(e,nc);return r}},first(e,r){for(var t=r.slice(),n=S.get(e,t);n&&!(x.isText(n)||n.children.length===0);)n=n.children[0],t.push(0);return[n,t]},fragment(e,r){if(x.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(Ee.stringify(e)));var t=dn({children:e.children},n=>{var[a,u]=b.edges(r),s=S.nodes(n,{reverse:!0,pass:p=>{var[,d]=p;return!b.includes(r,d)}});for(var[,i]of s){if(!b.includes(r,i)){var o=S.parent(n,i),f=i[i.length-1];o.children.splice(f,1)}if(D.equals(i,u.path)){var c=S.leaf(n,i);c.text=c.text.slice(0,u.offset)}if(D.equals(i,a.path)){var g=S.leaf(n,i);g.text=g.text.slice(a.offset)}}v.isEditor(n)&&(n.selection=null)});return t.children},get(e,r){var t=S.getIf(e,r);if(t===void 0)throw new Error("Cannot find a descendant at path [".concat(r,"] in node: ").concat(Ee.stringify(e)));return t},getIf(e,r){for(var t=e,n=0;n<r.length;n++){var a=r[n];if(x.isText(t)||!t.children[a])return;t=t.children[a]}return t},has(e,r){for(var t=e,n=0;n<r.length;n++){var a=r[n];if(x.isText(t)||!t.children[a])return!1;t=t.children[a]}return!0},isNode(e){return x.isText(e)||M.isElement(e)||v.isEditor(e)},isNodeList(e){if(!Array.isArray(e))return!1;var r=Wu.get(e);if(r!==void 0)return r;var t=e.every(n=>S.isNode(n));return Wu.set(e,t),t},last(e,r){for(var t=r.slice(),n=S.get(e,t);n&&!(x.isText(n)||n.children.length===0);){var a=n.children.length-1;n=n.children[a],t.push(a)}return[n,t]},leaf(e,r){var t=S.get(e,r);if(!x.isText(t))throw new Error("Cannot get the leaf node at path [".concat(r,"] because it refers to a non-leaf node: ").concat(Ee.stringify(t)));return t},levels(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var n of D.levels(r,t)){var a=S.get(e,n);yield[a,n]}}()},matches(e,r){return M.isElement(e)&&M.isElementProps(r)&&M.matches(e,r)||x.isText(e)&&x.isTextProps(r)&&x.matches(e,r)},nodes(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var{pass:t,reverse:n=!1}=r,{from:a=[],to:u}=r,s=new Set,i=[],o=e;!(u&&(n?D.isBefore(i,u):D.isAfter(i,u)));){if(s.has(o)||(yield[o,i]),!s.has(o)&&!x.isText(o)&&o.children.length!==0&&(t==null||t([o,i])===!1)){s.add(o);var f=n?o.children.length-1:0;D.isAncestor(i,a)&&(f=a[i.length]),i=i.concat(f),o=S.get(e,i);continue}if(i.length===0)break;if(!n){var c=D.next(i);if(S.has(e,c)){i=c,o=S.get(e,i);continue}}if(n&&i[i.length-1]!==0){var g=D.previous(i);i=g,o=S.get(e,i);continue}i=D.parent(i),o=S.get(e,i),s.add(o)}}()},parent(e,r){var t=D.parent(r),n=S.get(e,t);if(x.isText(n))throw new Error("Cannot get the parent of path [".concat(r,"] because it does not exist in the root."));return n},string(e){return x.isText(e)?e.text:e.children.map(S.string).join("")},texts(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[t,n]of S.nodes(e,r))x.isText(t)&&(yield[t,n])}()}};function Uu(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function X(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Uu(Object(t),!0).forEach(function(n){he(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Uu(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var hr={isNodeOperation(e){return hr.isOperation(e)&&e.type.endsWith("_node")},isOperation(e){if(!ie(e))return!1;switch(e.type){case"insert_node":return D.isPath(e.path)&&S.isNode(e.node);case"insert_text":return typeof e.offset=="number"&&typeof e.text=="string"&&D.isPath(e.path);case"merge_node":return typeof e.position=="number"&&D.isPath(e.path)&&ie(e.properties);case"move_node":return D.isPath(e.path)&&D.isPath(e.newPath);case"remove_node":return D.isPath(e.path)&&S.isNode(e.node);case"remove_text":return typeof e.offset=="number"&&typeof e.text=="string"&&D.isPath(e.path);case"set_node":return D.isPath(e.path)&&ie(e.properties)&&ie(e.newProperties);case"set_selection":return e.properties===null&&b.isRange(e.newProperties)||e.newProperties===null&&b.isRange(e.properties)||ie(e.properties)&&ie(e.newProperties);case"split_node":return D.isPath(e.path)&&typeof e.position=="number"&&ie(e.properties);default:return!1}},isOperationList(e){return Array.isArray(e)&&e.every(r=>hr.isOperation(r))},isSelectionOperation(e){return hr.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation(e){return hr.isOperation(e)&&e.type.endsWith("_text")},inverse(e){switch(e.type){case"insert_node":return X(X({},e),{},{type:"remove_node"});case"insert_text":return X(X({},e),{},{type:"remove_text"});case"merge_node":return X(X({},e),{},{type:"split_node",path:D.previous(e.path)});case"move_node":{var{newPath:r,path:t}=e;if(D.equals(r,t))return e;if(D.isSibling(t,r))return X(X({},e),{},{path:r,newPath:t});var n=D.transform(t,e),a=D.transform(D.next(t),e);return X(X({},e),{},{path:n,newPath:a})}case"remove_node":return X(X({},e),{},{type:"insert_node"});case"remove_text":return X(X({},e),{},{type:"insert_text"});case"set_node":{var{properties:u,newProperties:s}=e;return X(X({},e),{},{properties:s,newProperties:u})}case"set_selection":{var{properties:i,newProperties:o}=e;return i==null?X(X({},e),{},{properties:o,newProperties:null}):o==null?X(X({},e),{},{properties:null,newProperties:i}):X(X({},e),{},{properties:o,newProperties:i})}case"split_node":return X(X({},e),{},{type:"merge_node",path:D.next(e.path)})}}},qu=new WeakMap,ac=e=>{var r=qu.get(e);if(r!==void 0)return r;if(!ie(e))return!1;var t=typeof e.addMark=="function"&&typeof e.apply=="function"&&typeof e.deleteFragment=="function"&&typeof e.insertBreak=="function"&&typeof e.insertSoftBreak=="function"&&typeof e.insertFragment=="function"&&typeof e.insertNode=="function"&&typeof e.insertText=="function"&&typeof e.isElementReadOnly=="function"&&typeof e.isInline=="function"&&typeof e.isSelectable=="function"&&typeof e.isVoid=="function"&&typeof e.normalizeNode=="function"&&typeof e.onChange=="function"&&typeof e.removeMark=="function"&&typeof e.getDirtyPaths=="function"&&(e.marks===null||ie(e.marks))&&(e.selection===null||b.isRange(e.selection))&&S.isNodeList(e.children)&&hr.isOperationList(e.operations);return qu.set(e,t),t},v={above(e,r){return e.above(r)},addMark(e,r,t){e.addMark(r,t)},after(e,r,t){return e.after(r,t)},before(e,r,t){return e.before(r,t)},deleteBackward(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:t="character"}=r;e.deleteBackward(t)},deleteForward(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:t="character"}=r;e.deleteForward(t)},deleteFragment(e,r){e.deleteFragment(r)},edges(e,r){return e.edges(r)},elementReadOnly(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.elementReadOnly(r)},end(e,r){return e.end(r)},first(e,r){return e.first(r)},fragment(e,r){return e.fragment(r)},hasBlocks(e,r){return e.hasBlocks(r)},hasInlines(e,r){return e.hasInlines(r)},hasPath(e,r){return e.hasPath(r)},hasTexts(e,r){return e.hasTexts(r)},insertBreak(e){e.insertBreak()},insertFragment(e,r,t){e.insertFragment(r,t)},insertNode(e,r){e.insertNode(r)},insertSoftBreak(e){e.insertSoftBreak()},insertText(e,r){e.insertText(r)},isBlock(e,r){return e.isBlock(r)},isEdge(e,r,t){return e.isEdge(r,t)},isEditor(e){return ac(e)},isElementReadOnly(e,r){return e.isElementReadOnly(r)},isEmpty(e,r){return e.isEmpty(r)},isEnd(e,r,t){return e.isEnd(r,t)},isInline(e,r){return e.isInline(r)},isNormalizing(e){return e.isNormalizing()},isSelectable(e,r){return e.isSelectable(r)},isStart(e,r,t){return e.isStart(r,t)},isVoid(e,r){return e.isVoid(r)},last(e,r){return e.last(r)},leaf(e,r,t){return e.leaf(r,t)},levels(e,r){return e.levels(r)},marks(e){return e.getMarks()},next(e,r){return e.next(r)},node(e,r,t){return e.node(r,t)},nodes(e,r){return e.nodes(r)},normalize(e,r){e.normalize(r)},parent(e,r,t){return e.parent(r,t)},path(e,r,t){return e.path(r,t)},pathRef(e,r,t){return e.pathRef(r,t)},pathRefs(e){return e.pathRefs()},point(e,r,t){return e.point(r,t)},pointRef(e,r,t){return e.pointRef(r,t)},pointRefs(e){return e.pointRefs()},positions(e,r){return e.positions(r)},previous(e,r){return e.previous(r)},range(e,r,t){return e.range(r,t)},rangeRef(e,r,t){return e.rangeRef(r,t)},rangeRefs(e){return e.rangeRefs()},removeMark(e,r){e.removeMark(r)},setNormalizing(e,r){e.setNormalizing(r)},start(e,r){return e.start(r)},string(e,r,t){return e.string(r,t)},unhangRange(e,r,t){return e.unhangRange(r,t)},void(e,r){return e.void(r)},withoutNormalizing(e,r){e.withoutNormalizing(r)},shouldMergeNodesRemovePrevNode:(e,r,t)=>e.shouldMergeNodesRemovePrevNode(r,t)},Ni={isSpan(e){return Array.isArray(e)&&e.length===2&&e.every(D.isPath)}};function Gu(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Vu(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Gu(Object(t),!0).forEach(function(n){he(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Gu(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var U={compare(e,r){var t=D.compare(e.path,r.path);return t===0?e.offset<r.offset?-1:e.offset>r.offset?1:0:t},isAfter(e,r){return U.compare(e,r)===1},isBefore(e,r){return U.compare(e,r)===-1},equals(e,r){return e.offset===r.offset&&D.equals(e.path,r.path)},isPoint(e){return ie(e)&&typeof e.offset=="number"&&D.isPath(e.path)},transform(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return dn(e,n=>{if(n===null)return null;var{affinity:a="forward"}=t,{path:u,offset:s}=n;switch(r.type){case"insert_node":case"move_node":{n.path=D.transform(u,r,t);break}case"insert_text":{D.equals(r.path,u)&&(r.offset<s||r.offset===s&&a==="forward")&&(n.offset+=r.text.length);break}case"merge_node":{D.equals(r.path,u)&&(n.offset+=r.position),n.path=D.transform(u,r,t);break}case"remove_text":{D.equals(r.path,u)&&r.offset<=s&&(n.offset-=Math.min(s-r.offset,r.text.length));break}case"remove_node":{if(D.equals(r.path,u)||D.isAncestor(r.path,u))return null;n.path=D.transform(u,r,t);break}case"split_node":{if(D.equals(r.path,u)){if(r.position===s&&a==null)return null;(r.position<s||r.position===s&&a==="forward")&&(n.offset-=r.position,n.path=D.transform(u,r,Vu(Vu({},t),{},{affinity:"forward"})))}else n.path=D.transform(u,r,t);break}}})}},ku=void 0,Ee={setScrubber(e){ku=e},stringify(e){return JSON.stringify(e,ku)}},uc=["text"],sc=["anchor","focus"];function Ju(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function er(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ju(Object(t),!0).forEach(function(n){he(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ju(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var x={equals(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:n=!1}=t;function a(u){var s=ar(u,uc);return s}return xi(n?a(e):e,n?a(r):r)},isText(e){return ie(e)&&typeof e.text=="string"},isTextList(e){return Array.isArray(e)&&e.every(r=>x.isText(r))},isTextProps(e){return e.text!==void 0},matches(e,r){for(var t in r)if(t!=="text"&&(!e.hasOwnProperty(t)||e[t]!==r[t]))return!1;return!0},decorations(e,r){var t=[er({},e)];for(var n of r){var a=ar(n,sc),[u,s]=b.edges(n),i=[],o=0,f=u.offset,c=s.offset;for(var g of t){var{length:p}=g.text,d=o;if(o+=p,f<=d&&o<=c){Object.assign(g,a),i.push(g);continue}if(f!==c&&(f===o||c===d)||f>o||c<d||c===d&&d!==0){i.push(g);continue}var m=g,C=void 0,A=void 0;if(c<o){var y=c-d;A=er(er({},m),{},{text:m.text.slice(y)}),m=er(er({},m),{},{text:m.text.slice(0,y)})}if(f>d){var B=f-d;C=er(er({},m),{},{text:m.text.slice(0,B)}),m=er(er({},m),{},{text:m.text.slice(B)})}Object.assign(m,a),C&&i.push(C),i.push(m),A&&i.push(A)}t=i}return t}},Pa=e=>e.selection?e.selection:e.children.length>0?v.end(e,[]):[0],Hr=(e,r)=>{var[t]=v.node(e,r);return n=>n===t},_a=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=!t,a=t?vc(r):r,u=L.None,s=L.None,i=0,o=null,f=null;for(var c of a){var g=c.codePointAt(0);if(!g)break;var p=bc(c,g);if([u,s]=n?[s,p]:[p,u],Nr(u,L.ZWJ)&&Nr(s,L.ExtPict)&&(n?o=Yu(r.substring(0,i)):o=Yu(r.substring(0,r.length-i)),!o)||Nr(u,L.RI)&&Nr(s,L.RI)&&(f!==null?f=!f:n?f=!0:f=Sc(r.substring(0,r.length-i)),!f)||u!==L.None&&s!==L.None&&wc(u,s))break;i+=c.length}return i||1},ic=/\s/,oc=/[\u002B\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,fc=/['\u2018\u2019]/,lc=function(r){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=0,a=!1;r.length>0;){var u=_a(r,t),[s,i]=Ta(r,u,t);if(cc(s,i,t))a=!0,n+=u;else if(!a)n+=u;else break;r=i}return n},Ta=(e,r,t)=>{if(t){var n=e.length-r;return[e.slice(n,e.length),e.slice(0,n)]}return[e.slice(0,r),e.slice(r)]},cc=function e(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(ic.test(r))return!1;if(fc.test(r)){var a=_a(t,n),[u,s]=Ta(t,a,n);if(e(u,s,n))return!0}return!oc.test(r)},vc=function*(r){for(var t=r.length-1,n=0;n<r.length;n++){var a=r.charAt(t-n);if(hc(a.charCodeAt(0))){var u=r.charAt(t-n-1);if(gc(u.charCodeAt(0))){yield u+a,n++;continue}}yield a}},gc=e=>e>=55296&&e<=56319,hc=e=>e>=56320&&e<=57343,L;(function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"})(L||(L={}));var pc=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,Dc=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,dc=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,mc=/^[\u1100-\u115F\uA960-\uA97C]$/,Cc=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,Ac=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,yc=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,Bc=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,Ec=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,bc=(e,r)=>{var t=L.Any;return e.search(pc)!==-1&&(t|=L.Extend),r===8205&&(t|=L.ZWJ),r>=127462&&r<=127487&&(t|=L.RI),e.search(Dc)!==-1&&(t|=L.Prepend),e.search(dc)!==-1&&(t|=L.SpacingMark),e.search(mc)!==-1&&(t|=L.L),e.search(Cc)!==-1&&(t|=L.V),e.search(Ac)!==-1&&(t|=L.T),e.search(yc)!==-1&&(t|=L.LV),e.search(Bc)!==-1&&(t|=L.LVT),e.search(Ec)!==-1&&(t|=L.ExtPict),t};function Nr(e,r){return(e&r)!==0}var Fc=[[L.L,L.L|L.V|L.LV|L.LVT],[L.LV|L.V,L.V|L.T],[L.LVT|L.T,L.T],[L.Any,L.Extend|L.ZWJ],[L.Any,L.SpacingMark],[L.Prepend,L.Any],[L.ZWJ,L.ExtPict],[L.RI,L.RI]];function wc(e,r){return Fc.findIndex(t=>Nr(e,t[0])&&Nr(r,t[1]))===-1}var Oc=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,Yu=e=>e.search(Oc)!==-1,$c=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,Sc=e=>{var r=e.match($c);if(r===null)return!1;var t=r[0].length/2;return t%2===1},Pc={delete(e,r){e.delete(r)},insertFragment(e,r,t){e.insertFragment(r,t)},insertText(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};v.withoutNormalizing(e,()=>{var{voids:n=!1}=t,{at:a=Pa(e)}=t;if(D.isPath(a)&&(a=v.range(e,a)),b.isRange(a))if(b.isCollapsed(a))a=a.anchor;else{var u=b.end(a);if(!n&&v.void(e,{at:u}))return;var s=b.start(a),i=v.pointRef(e,s),o=v.pointRef(e,u);O.delete(e,{at:a,voids:n});var f=i.unref(),c=o.unref();a=f||c,O.setSelection(e,{anchor:a,focus:a})}if(!(!n&&v.void(e,{at:a})||v.elementReadOnly(e,{at:a}))){var{path:g,offset:p}=a;r.length>0&&e.apply({type:"insert_text",path:g,offset:p,text:r})}})}};function Zu(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function zt(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Zu(Object(t),!0).forEach(function(n){he(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Zu(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var O=zt(zt(zt(zt({},Yl),Zl),Xl),Pc),Gt=new WeakMap,_c=e=>Gt.get(e)||!1,Tc=(e,r,t)=>{var n=Gt.get(e)||!1;Gt.set(e,!0);try{r(),t()}finally{Gt.set(e,n)}};function ji(e,r,t){var n=en.get(e)||[],a=rn.get(e)||new Set,u,s,i=g=>{if(g){var p=g.join(",");s.has(p)||(s.add(p),u.push(g))}};if(t){u=[],s=new Set;for(var o of n){var f=t(o);i(f)}}else u=n,s=a;for(var c of r)i(c);en.set(e,u),rn.set(e,s)}var xc=(e,r)=>{for(var t of v.pathRefs(e))Ul.transform(t,r);for(var n of v.pointRefs(e))ql.transform(n,r);for(var a of v.rangeRefs(e))Gl.transform(a,r);if(!_c(e)){var u=D.operationCanTransformPath(r)?s=>D.transform(s,r):void 0;ji(e,e.getDirtyPaths(r),u)}O.transform(e,r),e.operations.push(r),v.normalize(e,{operation:r}),r.type==="set_selection"&&(e.marks=null),ut.get(e)||(ut.set(e,!0),Promise.resolve().then(()=>{ut.set(e,!1),e.onChange({operation:r}),e.operations=[]}))},Nc=(e,r)=>{switch(r.type){case"insert_text":case"remove_text":case"set_node":{var{path:t}=r;return D.levels(t)}case"insert_node":{var{node:n,path:a}=r,u=D.levels(a),s=x.isText(n)?[]:Array.from(S.nodes(n),T=>{var[,z]=T;return a.concat(z)});return[...u,...s]}case"merge_node":{var{path:i}=r,o=D.ancestors(i),f=D.previous(i);return[...o,f]}case"move_node":{var{path:c,newPath:g}=r;if(D.equals(c,g))return[];var p=[],d=[];for(var m of D.ancestors(c)){var C=D.transform(m,r);p.push(C)}for(var A of D.ancestors(g)){var y=D.transform(A,r);d.push(y)}var B=d[d.length-1],P=g[g.length-1],N=B.concat(P);return[...p,...d,N]}case"remove_node":{var{path:w}=r,j=D.ancestors(w);return[...j]}case"split_node":{var{path:F}=r,I=D.levels(F),_=D.next(F);return[...I,_]}default:return[]}},jc=e=>{var{selection:r}=e;return r?S.fragment(e,r):[]},Rc=(e,r)=>{var[t,n]=r;if(!x.isText(t)){if(M.isElement(t)&&t.children.length===0){var a={text:""};O.insertNodes(e,a,{at:n.concat(0),voids:!0});return}for(var u=v.isEditor(t)?!1:M.isElement(t)&&(e.isInline(t)||t.children.length===0||x.isText(t.children[0])||e.isInline(t.children[0])),s=0,i=0;i<t.children.length;i++,s++){var o=S.get(e,n);if(!x.isText(o)){var f=o.children[s],c=o.children[s-1],g=i===t.children.length-1,p=x.isText(f)||M.isElement(f)&&e.isInline(f);if(p!==u)O.removeNodes(e,{at:n.concat(s),voids:!0}),s--;else if(M.isElement(f)){if(e.isInline(f)){if(c==null||!x.isText(c)){var d={text:""};O.insertNodes(e,d,{at:n.concat(s),voids:!0}),s++}else if(g){var m={text:""};O.insertNodes(e,m,{at:n.concat(s+1),voids:!0}),s++}}}else{if(!x.isText(f)&&!("children"in f)){var C=f;C.children=[]}c!=null&&x.isText(c)&&(x.equals(f,c,{loose:!0})?(O.mergeNodes(e,{at:n.concat(s),voids:!0}),s--):c.text===""?(O.removeNodes(e,{at:n.concat(s-1),voids:!0}),s--):f.text===""&&(O.removeNodes(e,{at:n.concat(s),voids:!0}),s--))}}}}},Ic=(e,r)=>{var{iteration:t,initialDirtyPathsLength:n}=r,a=n*42;if(t>a)throw new Error("Could not completely normalize the editor after ".concat(a," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0},Mc=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:n=!1,mode:a="lowest",at:u=r.selection,match:s}=t;if(u){var i=v.path(r,u),o=a==="lowest";for(var[f,c]of v.levels(r,{at:i,voids:n,match:s,reverse:o}))if(!x.isText(f)){if(b.isRange(u)){if(D.isAncestor(c,u.anchor.path)&&D.isAncestor(c,u.focus.path))return[f,c]}else if(!D.equals(i,c))return[f,c]}}};function Xu(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Qu(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Xu(Object(t),!0).forEach(function(n){he(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Xu(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var Lc=(e,r,t)=>{var{selection:n}=e;if(n){var a=(g,p)=>{if(!x.isText(g))return!1;var[d,m]=v.parent(e,p);return!e.isVoid(d)||e.markableVoid(d)},u=b.isExpanded(n),s=!1;if(!u){var[i,o]=v.node(e,n);if(i&&a(i,o)){var[f]=v.parent(e,o);s=f&&e.markableVoid(f)}}if(u||s)O.setNodes(e,{[r]:t},{match:a,split:!0,voids:!0});else{var c=Qu(Qu({},v.marks(e)||{}),{},{[r]:t});e.marks=c,ut.get(e)||e.onChange()}}};function es(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function rs(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?es(Object(t),!0).forEach(function(n){he(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):es(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var Hc=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=v.point(r,t,{edge:"end"}),u=v.end(r,[]),s={anchor:a,focus:u},{distance:i=1}=n,o=0,f;for(var c of v.positions(r,rs(rs({},n),{},{at:s}))){if(o>i)break;o!==0&&(f=c),o++}return f};function ts(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function ns(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ts(Object(t),!0).forEach(function(n){he(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ts(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var zc=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=v.start(r,[]),u=v.point(r,t,{edge:"start"}),s={anchor:a,focus:u},{distance:i=1}=n,o=0,f;for(var c of v.positions(r,ns(ns({},n),{},{at:s,reverse:!0}))){if(o>i)break;o!==0&&(f=c),o++}return f},Kc=(e,r)=>{var{selection:t}=e;t&&b.isCollapsed(t)&&O.delete(e,{unit:r,reverse:!0})},Wc=(e,r)=>{var{selection:t}=e;t&&b.isCollapsed(t)&&O.delete(e,{unit:r})},Uc=function(r){var{direction:t="forward"}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:n}=r;n&&b.isExpanded(n)&&O.delete(r,{reverse:t==="backward"})},qc=(e,r)=>[v.start(e,r),v.end(e,r)];function as(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function us(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?as(Object(t),!0).forEach(function(n){he(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):as(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var Gc=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return v.above(r,us(us({},t),{},{match:n=>M.isElement(n)&&v.isElementReadOnly(r,n)}))},Vc=(e,r)=>v.point(e,r,{edge:"end"}),kc=(e,r)=>{var t=v.path(e,r,{edge:"start"});return v.node(e,t)},Jc=(e,r)=>{var t=v.range(e,r);return S.fragment(e,t)};function ss(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function is(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ss(Object(t),!0).forEach(function(n){he(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ss(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var Yc=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return v.above(r,is(is({},t),{},{match:n=>M.isElement(n)&&v.isVoid(r,n)}))},Zc=(e,r)=>r.children.some(t=>M.isElement(t)&&v.isBlock(e,t)),Xc=(e,r)=>r.children.some(t=>x.isText(t)||v.isInline(e,t)),Qc=(e,r)=>S.has(e,r),ev=(e,r)=>r.children.every(t=>x.isText(t)),rv=e=>{O.splitNodes(e,{always:!0})},tv=(e,r,t)=>{O.insertNodes(e,r,t)},nv=e=>{O.splitNodes(e,{always:!0})};function os(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function av(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?os(Object(t),!0).forEach(function(n){he(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):os(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var uv=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:a,marks:u}=r;if(a){if(u){var s=av({text:t},u);O.insertNodes(r,s,{at:n.at,voids:n.voids})}else O.insertText(r,t,n);r.marks=null}},sv=(e,r)=>!e.isInline(r),iv=(e,r,t)=>v.isStart(e,r,t)||v.isEnd(e,r,t),ov=(e,r)=>{var{children:t}=r,[n]=t;return t.length===0||t.length===1&&x.isText(n)&&n.text===""&&!e.isVoid(r)},fv=(e,r,t)=>{var n=v.end(e,t);return U.equals(r,n)},lv=e=>{var r=Ti.get(e);return r===void 0?!0:r},cv=(e,r,t)=>{if(r.offset!==0)return!1;var n=v.start(e,t);return U.equals(r,n)},vv=(e,r)=>{var t=v.path(e,r,{edge:"end"});return v.node(e,t)},gv=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=v.path(r,t,n),u=S.leaf(r,a);return[u,a]};function hv(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:t=e.selection,reverse:n=!1,voids:a=!1}=r,{match:u}=r;if(u==null&&(u=()=>!0),!!t){var s=[],i=v.path(e,t);for(var[o,f]of S.levels(e,i))if(u(o,f)&&(s.push([o,f]),!a&&M.isElement(o)&&v.isVoid(e,o)))break;n&&s.reverse(),yield*s}}()}var pv=["text"],Dv=["text"],dv=function(r){var{marks:t,selection:n}=r;if(!n)return null;var{anchor:a,focus:u}=n;if(t)return t;if(b.isExpanded(n)){var s=b.isBackward(n);s&&([u,a]=[a,u]);var i=v.isEnd(r,a,a.path);if(i){var o=v.after(r,a);o&&(a=o)}var[f]=v.nodes(r,{match:x.isText,at:{anchor:a,focus:u}});if(f){var[c]=f,g=ar(c,pv);return g}else return{}}var{path:p}=a,[d]=v.leaf(r,p);if(a.offset===0){var m=v.previous(r,{at:p,match:x.isText}),C=v.above(r,{match:w=>M.isElement(w)&&v.isVoid(r,w)&&r.markableVoid(w)});if(!C){var A=v.above(r,{match:w=>M.isElement(w)&&v.isBlock(r,w)});if(m&&A){var[y,B]=m,[,P]=A;D.isAncestor(P,B)&&(d=y)}}}var N=ar(d,Dv);return N},mv=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:n="lowest",voids:a=!1}=t,{match:u,at:s=r.selection}=t;if(s){var i=v.after(r,s,{voids:a});if(i){var[,o]=v.last(r,[]),f=[i.path,o];if(D.isPath(s)&&s.length===0)throw new Error("Cannot get the next node from the root node!");if(u==null)if(D.isPath(s)){var[c]=v.parent(r,s);u=p=>c.children.includes(p)}else u=()=>!0;var[g]=v.nodes(r,{at:f,match:u,mode:n,voids:a});return g}}},Cv=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=v.path(r,t,n),u=S.get(r,a);return[u,a]};function Av(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:t=e.selection,mode:n="all",universal:a=!1,reverse:u=!1,voids:s=!1,ignoreNonSelectable:i=!1}=r,{match:o}=r;if(o||(o=()=>!0),!!t){var f,c;if(Ni.isSpan(t))f=t[0],c=t[1];else{var g=v.path(e,t,{edge:"start"}),p=v.path(e,t,{edge:"end"});f=u?p:g,c=u?g:p}var d=S.nodes(e,{reverse:u,from:f,to:c,pass:N=>{var[w]=N;return M.isElement(w)?!!(!s&&(v.isVoid(e,w)||v.isElementReadOnly(e,w))||i&&!v.isSelectable(e,w)):!1}}),m=[],C;for(var[A,y]of d)if(!(i&&M.isElement(A)&&!v.isSelectable(e,A))){var B=C&&D.compare(y,C[1])===0;if(!(n==="highest"&&B)){if(!o(A,y)){if(a&&!B&&x.isText(A))return;continue}if(n==="lowest"&&B){C=[A,y];continue}var P=n==="lowest"?C:[A,y];P&&(a?m.push(P):yield P),C=[A,y]}}n==="lowest"&&C&&(a?m.push(C):yield C),a&&(yield*m)}}()}var yv=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:n=!1,operation:a}=t,u=c=>en.get(c)||[],s=c=>rn.get(c)||new Set,i=c=>{var g=u(c).pop(),p=g.join(",");return s(c).delete(p),g};if(v.isNormalizing(r)){if(n){var o=Array.from(S.nodes(r),c=>{var[,g]=c;return g}),f=new Set(o.map(c=>c.join(",")));en.set(r,o),rn.set(r,f)}u(r).length!==0&&v.withoutNormalizing(r,()=>{for(var c of u(r))if(S.has(r,c)){var g=v.node(r,c),[p,d]=g;M.isElement(p)&&p.children.length===0&&r.normalizeNode(g,{operation:a})}for(var m=u(r),C=m.length,A=0;m.length!==0;){if(!r.shouldNormalize({dirtyPaths:m,iteration:A,initialDirtyPathsLength:C,operation:a}))return;var y=i(r);if(S.has(r,y)){var B=v.node(r,y);r.normalizeNode(B,{operation:a})}A++,m=u(r)}})}},Bv=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=v.path(r,t,n),u=D.parent(a),s=v.node(r,u);return s},Ev=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:a="forward"}=n,u={current:t,affinity:a,unref(){var{current:i}=u,o=v.pathRefs(r);return o.delete(u),u.current=null,i}},s=v.pathRefs(r);return s.add(u),u},bv=e=>{var r=Iu.get(e);return r||(r=new Set,Iu.set(e,r)),r},Fv=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:a,edge:u}=n;if(D.isPath(t)){if(u==="start"){var[,s]=S.first(r,t);t=s}else if(u==="end"){var[,i]=S.last(r,t);t=i}}return b.isRange(t)&&(u==="start"?t=b.start(t):u==="end"?t=b.end(t):t=D.common(t.anchor.path,t.focus.path)),U.isPoint(t)&&(t=t.path),a!=null&&(t=t.slice(0,a)),t},wv=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:a="forward"}=n,u={current:t,affinity:a,unref(){var{current:i}=u,o=v.pointRefs(r);return o.delete(u),u.current=null,i}},s=v.pointRefs(r);return s.add(u),u},Ov=e=>{var r=Mu.get(e);return r||(r=new Set,Mu.set(e,r)),r},$v=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:a="start"}=n;if(D.isPath(t)){var u;if(a==="end"){var[,s]=S.last(r,t);u=s}else{var[,i]=S.first(r,t);u=i}var o=S.get(r,u);if(!x.isText(o))throw new Error("Cannot get the ".concat(a," point in the node at path [").concat(t,"] because it has no ").concat(a," text node."));return{path:u,offset:a==="end"?o.text.length:0}}if(b.isRange(t)){var[f,c]=b.edges(t);return a==="start"?f:c}return t};function Sv(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:t=e.selection,unit:n="offset",reverse:a=!1,voids:u=!1,ignoreNonSelectable:s=!1}=r;if(!t)return;var i=v.range(e,t),[o,f]=b.edges(i),c=a?f:o,g=!1,p="",d=0,m=0,C=0;for(var[A,y]of v.nodes(e,{at:t,reverse:a,voids:u,ignoreNonSelectable:s})){if(M.isElement(A)){if(!u&&(e.isVoid(A)||e.isElementReadOnly(A))){yield v.start(e,y);continue}if(e.isInline(A))continue;if(v.hasInlines(e,A)){var B=D.isAncestor(y,f.path)?f:v.end(e,y),P=D.isAncestor(y,o.path)?o:v.start(e,y);p=v.string(e,{anchor:P,focus:B},{voids:u}),g=!0}}if(x.isText(A)){var N=D.equals(y,c.path);for(N?(m=a?c.offset:A.text.length-c.offset,C=c.offset):(m=A.text.length,C=a?m:0),(N||g||n==="offset")&&(yield{path:y,offset:C},g=!1);;){if(d===0){if(p==="")break;d=w(p,n,a),p=Ta(p,d,a)[1]}if(C=a?C-d:C+d,m=m-d,m<0){d=-m;break}d=0,yield{path:y,offset:C}}}}function w(j,F,I){return F==="character"?_a(j,I):F==="word"?lc(j,I):F==="line"||F==="block"?j.length:1}}()}var Pv=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:n="lowest",voids:a=!1}=t,{match:u,at:s=r.selection}=t;if(s){var i=v.before(r,s,{voids:a});if(i){var[,o]=v.first(r,[]),f=[i.path,o];if(D.isPath(s)&&s.length===0)throw new Error("Cannot get the previous node from the root node!");if(u==null)if(D.isPath(s)){var[c]=v.parent(r,s);u=p=>c.children.includes(p)}else u=()=>!0;var[g]=v.nodes(r,{reverse:!0,at:f,match:u,mode:n,voids:a});return g}}},_v=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:a="forward"}=n,u={current:t,affinity:a,unref(){var{current:i}=u,o=v.rangeRefs(r);return o.delete(u),u.current=null,i}},s=v.rangeRefs(r);return s.add(u),u},Tv=e=>{var r=Lu.get(e);return r||(r=new Set,Lu.set(e,r)),r},xv=(e,r,t)=>{if(b.isRange(r)&&!t)return r;var n=v.start(e,r),a=v.end(e,t||r);return{anchor:n,focus:a}};function fs(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Nv(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?fs(Object(t),!0).forEach(function(n){he(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):fs(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var jv=(e,r)=>{var{selection:t}=e;if(t){var n=(c,g)=>{if(!x.isText(c))return!1;var[p,d]=v.parent(e,g);return!e.isVoid(p)||e.markableVoid(p)},a=b.isExpanded(t),u=!1;if(!a){var[s,i]=v.node(e,t);if(s&&n(s,i)){var[o]=v.parent(e,i);u=o&&e.markableVoid(o)}}if(a||u)O.unsetNodes(e,r,{match:n,split:!0,voids:!0});else{var f=Nv({},v.marks(e)||{});delete f[r],e.marks=f,ut.get(e)||e.onChange()}}},Rv=(e,r)=>{Ti.set(e,r)},Iv=(e,r)=>v.point(e,r,{edge:"start"}),Mv=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:a=!1}=n,u=v.range(r,t),[s,i]=b.edges(u),o="";for(var[f,c]of v.nodes(r,{at:u,match:x.isText,voids:a})){var g=f.text;D.equals(c,i.path)&&(g=g.slice(0,i.offset)),D.equals(c,s.path)&&(g=g.slice(s.offset)),o+=g}return o},Lv=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:a=!1}=n,[u,s]=b.edges(t);if(u.offset!==0||s.offset!==0||b.isCollapsed(t)||D.hasPrevious(s.path))return t;var i=v.above(r,{at:s,match:m=>M.isElement(m)&&v.isBlock(r,m),voids:a}),o=i?i[1]:[],f=v.start(r,u),c={anchor:f,focus:s},g=!0;for(var[p,d]of v.nodes(r,{at:c,match:x.isText,reverse:!0,voids:a})){if(g){g=!1;continue}if(p.text!==""||D.isBefore(d,o)){s={path:d,offset:p.text.length};break}}return{anchor:u,focus:s}},Ri=(e,r)=>{var t=v.isNormalizing(e);v.setNormalizing(e,!1);try{r()}finally{v.setNormalizing(e,t)}v.normalize(e)},Hv=(e,r,t)=>{var[n,a]=r;return M.isElement(n)&&v.isEmpty(e,n)||x.isText(n)&&n.text===""&&a[a.length-1]!==0},zv=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};v.withoutNormalizing(r,()=>{var n,a,{reverse:u=!1,unit:s="character",distance:i=1,voids:o=!1}=t,{at:f=r.selection,hanging:c=!1}=t;if(f){var g=!1;if(b.isRange(f)&&b.isCollapsed(f)&&(g=!0,f=f.anchor),U.isPoint(f)){var p=v.void(r,{at:f,mode:"highest"});if(!o&&p){var[,d]=p;f=d}else{var m={unit:s,distance:i},C=u?v.before(r,f,m)||v.start(r,[]):v.after(r,f,m)||v.end(r,[]);f={anchor:f,focus:C},c=!0}}if(D.isPath(f)){O.removeNodes(r,{at:f,voids:o});return}if(!b.isCollapsed(f)){if(!c){var[,A]=b.edges(f),y=v.end(r,[]);U.equals(A,y)||(f=v.unhangRange(r,f,{voids:o}))}var[B,P]=b.edges(f),N=v.above(r,{match:fe=>M.isElement(fe)&&v.isBlock(r,fe),at:B,voids:o}),w=v.above(r,{match:fe=>M.isElement(fe)&&v.isBlock(r,fe),at:P,voids:o}),j=N&&w&&!D.equals(N[1],w[1]),F=D.equals(B.path,P.path),I=o?null:(n=v.void(r,{at:B,mode:"highest"}))!==null&&n!==void 0?n:v.elementReadOnly(r,{at:B,mode:"highest"}),_=o?null:(a=v.void(r,{at:P,mode:"highest"}))!==null&&a!==void 0?a:v.elementReadOnly(r,{at:P,mode:"highest"});if(I){var T=v.before(r,B);T&&N&&D.isAncestor(N[1],T.path)&&(B=T)}if(_){var z=v.after(r,P);z&&w&&D.isAncestor(w[1],z.path)&&(P=z)}var G=[],ee;for(var J of v.nodes(r,{at:f,voids:o})){var[oe,pe]=J;ee&&D.compare(pe,ee)===0||(!o&&M.isElement(oe)&&(v.isVoid(r,oe)||v.isElementReadOnly(r,oe))||!D.isCommon(pe,B.path)&&!D.isCommon(pe,P.path))&&(G.push(J),ee=pe)}var De=Array.from(G,fe=>{var[,$r]=fe;return v.pathRef(r,$r)}),de=v.pointRef(r,B),re=v.pointRef(r,P),ce="";if(!F&&!I){var xe=de.current,[me]=v.leaf(r,xe),{path:Ne}=xe,{offset:qe}=B,K=me.text.slice(qe);K.length>0&&(r.apply({type:"remove_text",path:Ne,offset:qe,text:K}),ce=K)}if(De.reverse().map(fe=>fe.unref()).filter(fe=>fe!==null).forEach(fe=>O.removeNodes(r,{at:fe,voids:o})),!_){var ae=re.current,[Ie]=v.leaf(r,ae),{path:V}=ae,Ge=F?B.offset:0,Dr=Ie.text.slice(Ge,P.offset);Dr.length>0&&(r.apply({type:"remove_text",path:V,offset:Ge,text:Dr}),ce=Dr)}!F&&j&&re.current&&de.current&&O.mergeNodes(r,{at:re.current,hanging:!0,voids:o}),g&&u&&s==="character"&&ce.length>1&&ce.match(/[\u0E00-\u0E7F]+/)&&O.insertText(r,ce.slice(0,ce.length-i));var Ce=de.unref(),ir=re.unref(),Ve=u?Ce||ir:ir||Ce;t.at==null&&Ve&&O.select(r,Ve)}}})},Kv=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};v.withoutNormalizing(r,()=>{var{hanging:a=!1,voids:u=!1}=n,{at:s=Pa(r),batchDirty:i=!0}=n;if(t.length){if(b.isRange(s))if(a||(s=v.unhangRange(r,s,{voids:u})),b.isCollapsed(s))s=s.anchor;else{var[,o]=b.edges(s);if(!u&&v.void(r,{at:o}))return;var f=v.pointRef(r,o);O.delete(r,{at:s}),s=f.unref()}else D.isPath(s)&&(s=v.start(r,s));if(!(!u&&v.void(r,{at:s}))){var c=v.above(r,{at:s,match:K=>M.isElement(K)&&v.isInline(r,K),mode:"highest",voids:u});if(c){var[,g]=c;if(v.isEnd(r,s,g)){var p=v.after(r,g);s=p}else if(v.isStart(r,s,g)){var d=v.before(r,g);s=d}}var m=v.above(r,{match:K=>M.isElement(K)&&v.isBlock(r,K),at:s,voids:u}),[,C]=m,A=v.isStart(r,s,C),y=v.isEnd(r,s,C),B=A&&y,P=!A||A&&y,N=!y,[,w]=S.first({children:t},[]),[,j]=S.last({children:t},[]),F=[],I=K=>{var[ae,Ie]=K,V=Ie.length===0;return V?!1:B?!0:!(P&&D.isAncestor(Ie,w)&&M.isElement(ae)&&!r.isVoid(ae)&&!r.isInline(ae)||N&&D.isAncestor(Ie,j)&&M.isElement(ae)&&!r.isVoid(ae)&&!r.isInline(ae))};for(var _ of S.nodes({children:t},{pass:I}))I(_)&&F.push(_);var T=[],z=[],G=[],ee=!0,J=!1;for(var[oe]of F)M.isElement(oe)&&!r.isInline(oe)?(ee=!1,J=!0,z.push(oe)):ee?T.push(oe):G.push(oe);var[pe]=v.nodes(r,{at:s,match:K=>x.isText(K)||v.isInline(r,K),mode:"highest",voids:u}),[,De]=pe,de=v.isStart(r,s,De),re=v.isEnd(r,s,De),ce=v.pathRef(r,y&&!G.length?D.next(C):C),xe=v.pathRef(r,re?D.next(De):De);O.splitNodes(r,{at:s,match:K=>J?M.isElement(K)&&v.isBlock(r,K):x.isText(K)||v.isInline(r,K),mode:J?"lowest":"highest",always:J&&(!A||T.length>0)&&(!y||G.length>0),voids:u});var me=v.pathRef(r,!de||de&&re?D.next(De):De);if(O.insertNodes(r,T,{at:me.current,match:K=>x.isText(K)||v.isInline(r,K),mode:"highest",voids:u,batchDirty:i}),B&&!T.length&&z.length&&!G.length&&O.delete(r,{at:C,voids:u}),O.insertNodes(r,z,{at:ce.current,match:K=>M.isElement(K)&&v.isBlock(r,K),mode:"lowest",voids:u,batchDirty:i}),O.insertNodes(r,G,{at:xe.current,match:K=>x.isText(K)||v.isInline(r,K),mode:"highest",voids:u,batchDirty:i}),!n.at){var Ne;if(G.length>0&&xe.current?Ne=D.previous(xe.current):z.length>0&&ce.current?Ne=D.previous(ce.current):me.current&&(Ne=D.previous(me.current)),Ne){var qe=v.end(r,Ne);O.select(r,qe)}}me.unref(),ce.unref(),xe.unref()}}})},Wv=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:n="anchor"}=t,{selection:a}=r;if(a){if(n==="anchor")O.select(r,a.anchor);else if(n==="focus")O.select(r,a.focus);else if(n==="start"){var[u]=b.edges(a);O.select(r,u)}else if(n==="end"){var[,s]=b.edges(a);O.select(r,s)}}else return},Uv=e=>{var{selection:r}=e;r&&e.apply({type:"set_selection",properties:r,newProperties:null})},qv=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:n}=r,{distance:a=1,unit:u="character",reverse:s=!1}=t,{edge:i=null}=t;if(n){i==="start"&&(i=b.isBackward(n)?"focus":"anchor"),i==="end"&&(i=b.isBackward(n)?"anchor":"focus");var{anchor:o,focus:f}=n,c={distance:a,unit:u,ignoreNonSelectable:!0},g={};if(i==null||i==="anchor"){var p=s?v.before(r,o,c):v.after(r,o,c);p&&(g.anchor=p)}if(i==null||i==="focus"){var d=s?v.before(r,f,c):v.after(r,f,c);d&&(g.focus=d)}O.setSelection(r,g)}},Gv=(e,r)=>{var{selection:t}=e;if(r=v.range(e,r),t){O.setSelection(e,r);return}if(!b.isRange(r))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(Ee.stringify(r)));e.apply({type:"set_selection",properties:t,newProperties:r})};function ls(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function cs(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ls(Object(t),!0).forEach(function(n){he(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ls(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var Vv=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:a}=r,{edge:u="both"}=n;if(a){u==="start"&&(u=b.isBackward(a)?"focus":"anchor"),u==="end"&&(u=b.isBackward(a)?"anchor":"focus");var{anchor:s,focus:i}=a,o=u==="anchor"?s:i;O.setSelection(r,{[u==="anchor"?"anchor":"focus"]:cs(cs({},o),t)})}},kv=(e,r)=>{var{selection:t}=e,n={},a={};if(t){for(var u in r)(u==="anchor"&&r.anchor!=null&&!U.equals(r.anchor,t.anchor)||u==="focus"&&r.focus!=null&&!U.equals(r.focus,t.focus)||u!=="anchor"&&u!=="focus"&&r[u]!==t[u])&&(n[u]=t[u],a[u]=r[u]);Object.keys(n).length>0&&e.apply({type:"set_selection",properties:n,newProperties:a})}},Jv=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};v.withoutNormalizing(r,()=>{var{hanging:a=!1,voids:u=!1,mode:s="lowest",batchDirty:i=!0}=n,{at:o,match:f,select:c}=n;if(S.isNode(t)&&(t=[t]),t.length!==0){var[g]=t;if(o||(o=Pa(r),c!==!1&&(c=!0)),c==null&&(c=!1),b.isRange(o))if(a||(o=v.unhangRange(r,o,{voids:u})),b.isCollapsed(o))o=o.anchor;else{var[,p]=b.edges(o),d=v.pointRef(r,p);O.delete(r,{at:o}),o=d.unref()}if(U.isPoint(o)){f==null&&(x.isText(g)?f=T=>x.isText(T):r.isInline(g)?f=T=>x.isText(T)||v.isInline(r,T):f=T=>M.isElement(T)&&v.isBlock(r,T));var[m]=v.nodes(r,{at:o.path,match:f,mode:s,voids:u});if(m){var[,C]=m,A=v.pathRef(r,C),y=v.isEnd(r,o,C);O.splitNodes(r,{at:o,match:f,mode:s,voids:u});var B=A.unref();o=y?D.next(B):B}else return}var P=D.parent(o),N=o[o.length-1];if(!(!u&&v.void(r,{at:P}))){if(i){var w=[],j=D.levels(P);Tc(r,()=>{var T=function(){var ee=P.concat(N);N++;var J={type:"insert_node",path:ee,node:z};r.apply(J),o=D.next(o),w.push(J),x.isText?j.push(...Array.from(S.nodes(z),oe=>{var[,pe]=oe;return ee.concat(pe)})):j.push(ee)};for(var z of t)T()},()=>{ji(r,j,T=>{var z=T;for(var G of w)if(D.operationCanTransformPath(G)&&(z=D.transform(z,G),!z))return null;return z})})}else for(var F of t){var I=P.concat(N);N++,r.apply({type:"insert_node",path:I,node:F}),o=D.next(o)}if(o=D.previous(o),c){var _=v.end(r,o);_&&O.select(r,_)}}}})},Yv=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};v.withoutNormalizing(r,()=>{var{at:n=r.selection,mode:a="lowest",voids:u=!1}=t,{match:s}=t;if(s==null&&(s=D.isPath(n)?Hr(r,n):N=>M.isElement(N)&&v.isBlock(r,N)),!!n){var i=v.nodes(r,{at:n,match:s,mode:a,voids:u}),o=Array.from(i,N=>{var[,w]=N;return v.pathRef(r,w)});for(var f of o){var c=f.unref();if(c.length<2)throw new Error("Cannot lift node at a path [".concat(c,"] because it has a depth of less than `2`."));var g=v.node(r,D.parent(c)),[p,d]=g,m=c[c.length-1],{length:C}=p.children;if(C===1){var A=D.next(d);O.moveNodes(r,{at:c,to:A,voids:u}),O.removeNodes(r,{at:d,voids:u})}else if(m===0)O.moveNodes(r,{at:c,to:d,voids:u});else if(m===C-1){var y=D.next(d);O.moveNodes(r,{at:c,to:y,voids:u})}else{var B=D.next(c),P=D.next(d);O.splitNodes(r,{at:B,voids:u}),O.moveNodes(r,{at:c,to:P,voids:u})}}}})},Zv=["text"],Xv=["children"],Ii=(e,r)=>{if(M.isElement(r)){var t=r;return v.isVoid(e,r)?!0:t.children.length===1?Ii(e,t.children[0]):!1}else return!v.isEditor(r)},Qv=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};v.withoutNormalizing(r,()=>{var{match:n,at:a=r.selection}=t,{hanging:u=!1,voids:s=!1,mode:i="lowest"}=t;if(a){if(n==null)if(D.isPath(a)){var[o]=v.parent(r,a);n=T=>o.children.includes(T)}else n=T=>M.isElement(T)&&v.isBlock(r,T);if(!u&&b.isRange(a)&&(a=v.unhangRange(r,a,{voids:s})),b.isRange(a))if(b.isCollapsed(a))a=a.anchor;else{var[,f]=b.edges(a),c=v.pointRef(r,f);O.delete(r,{at:a}),a=c.unref(),t.at==null&&O.select(r,a)}var[g]=v.nodes(r,{at:a,match:n,voids:s,mode:i}),p=v.previous(r,{at:a,match:n,voids:s,mode:i});if(!(!g||!p)){var[d,m]=g,[C,A]=p;if(!(m.length===0||A.length===0)){var y=D.next(A),B=D.common(m,A),P=D.isSibling(m,A),N=Array.from(v.levels(r,{at:m}),T=>{var[z]=T;return z}).slice(B.length).slice(0,-1),w=v.above(r,{at:m,mode:"highest",match:T=>N.includes(T)&&Ii(r,T)}),j=w&&v.pathRef(r,w[1]),F,I;if(x.isText(d)&&x.isText(C)){var _=ar(d,Zv);I=C.text.length,F=_}else if(M.isElement(d)&&M.isElement(C)){var _=ar(d,Xv);I=C.children.length,F=_}else throw new Error("Cannot merge the node at path [".concat(m,"] with the previous sibling because it is not the same kind: ").concat(Ee.stringify(d)," ").concat(Ee.stringify(C)));P||O.moveNodes(r,{at:m,to:y,voids:s}),j&&O.removeNodes(r,{at:j.current,voids:s}),v.shouldMergeNodesRemovePrevNode(r,p,g)?O.removeNodes(r,{at:A,voids:s}):r.apply({type:"merge_node",path:y,position:I,properties:F}),j&&j.unref()}}}})},eg=(e,r)=>{v.withoutNormalizing(e,()=>{var{to:t,at:n=e.selection,mode:a="lowest",voids:u=!1}=r,{match:s}=r;if(n){s==null&&(s=D.isPath(n)?Hr(e,n):d=>M.isElement(d)&&v.isBlock(e,d));var i=v.pathRef(e,t),o=v.nodes(e,{at:n,match:s,mode:a,voids:u}),f=Array.from(o,d=>{var[,m]=d;return v.pathRef(e,m)});for(var c of f){var g=c.unref(),p=i.current;g.length!==0&&e.apply({type:"move_node",path:g,newPath:p}),i.current&&D.isSibling(p,g)&&D.isAfter(p,g)&&(i.current=D.next(i.current))}i.unref()}})},Mi=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};v.withoutNormalizing(r,()=>{var{hanging:n=!1,voids:a=!1,mode:u="lowest"}=t,{at:s=r.selection,match:i}=t;if(s){i==null&&(i=D.isPath(s)?Hr(r,s):d=>M.isElement(d)&&v.isBlock(r,d)),!n&&b.isRange(s)&&(s=v.unhangRange(r,s,{voids:a}));var o=v.nodes(r,{at:s,match:i,mode:u,voids:a}),f=Array.from(o,d=>{var[,m]=d;return v.pathRef(r,m)});for(var c of f){var g=c.unref();if(g){var[p]=v.node(r,g);r.apply({type:"remove_node",path:g,node:p})}}}})},rg=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};v.withoutNormalizing(r,()=>{var{match:a,at:u=r.selection,compare:s,merge:i}=n,{hanging:o=!1,mode:f="lowest",split:c=!1,voids:g=!1}=n;if(u){if(a==null&&(a=D.isPath(u)?Hr(r,u):I=>M.isElement(I)&&v.isBlock(r,I)),!o&&b.isRange(u)&&(u=v.unhangRange(r,u,{voids:g})),c&&b.isRange(u)){if(b.isCollapsed(u)&&v.leaf(r,u.anchor)[0].text.length>0)return;var p=v.rangeRef(r,u,{affinity:"inward"}),[d,m]=b.edges(u),C=f==="lowest"?"lowest":"highest",A=v.isEnd(r,m,m.path);O.splitNodes(r,{at:m,match:a,mode:C,voids:g,always:!A});var y=v.isStart(r,d,d.path);O.splitNodes(r,{at:d,match:a,mode:C,voids:g,always:!y}),u=p.unref(),n.at==null&&O.select(r,u)}s||(s=(I,_)=>I!==_);for(var[B,P]of v.nodes(r,{at:u,match:a,mode:f,voids:g})){var N={},w={};if(P.length!==0){var j=!1;for(var F in t)F==="children"||F==="text"||s(t[F],B[F])&&(j=!0,B.hasOwnProperty(F)&&(N[F]=B[F]),i?t[F]!=null&&(w[F]=i(B[F],t[F])):t[F]!=null&&(w[F]=t[F]));j&&r.apply({type:"set_node",path:P,properties:N,newProperties:w})}}}})},tg=(e,r)=>{if(b.isCollapsed(r))return r.anchor;var[,t]=b.edges(r),n=v.pointRef(e,t);return O.delete(e,{at:r}),n.unref()},ng=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};v.withoutNormalizing(r,()=>{var{mode:n="lowest",voids:a=!1}=t,{match:u,at:s=r.selection,height:i=0,always:o=!1}=t;if(u==null&&(u=re=>M.isElement(re)&&v.isBlock(r,re)),b.isRange(s)&&(s=tg(r,s)),D.isPath(s)){var f=s,c=v.point(r,f),[g]=v.parent(r,f);u=re=>re===g,i=c.path.length-f.length+1,s=c,o=!0}if(s){var p=v.pointRef(r,s,{affinity:"backward"}),d;try{var[m]=v.nodes(r,{at:s,match:u,mode:n,voids:a});if(!m)return;var C=v.void(r,{at:s,mode:"highest"}),A=0;if(!a&&C){var[y,B]=C;if(M.isElement(y)&&r.isInline(y)){var P=v.after(r,B);if(!P){var N={text:""},w=D.next(B);O.insertNodes(r,N,{at:w,voids:a}),P=v.point(r,w)}s=P,o=!0}var j=s.path.length-B.length;i=j+1,o=!0}d=v.pointRef(r,s);var F=s.path.length-i,[,I]=m,_=s.path.slice(0,F),T=i===0?s.offset:s.path[F]+A;for(var[z,G]of v.levels(r,{at:_,reverse:!0,voids:a})){var ee=!1;if(G.length<I.length||G.length===0||!a&&M.isElement(z)&&v.isVoid(r,z))break;var J=p.current,oe=v.isEnd(r,J,G);if(o||!p||!v.isEdge(r,J,G)){ee=!0;var pe=S.extractProps(z);r.apply({type:"split_node",path:G,position:T,properties:pe})}T=G[G.length-1]+(ee||oe?1:0)}if(t.at==null){var De=d.current||v.end(r,[]);O.select(r,De)}}finally{var de;p.unref(),(de=d)===null||de===void 0||de.unref()}}})},ag=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(t)||(t=[t]);var a={};for(var u of t)a[u]=null;O.setNodes(r,a,n)},ug=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};v.withoutNormalizing(r,()=>{var{mode:n="lowest",split:a=!1,voids:u=!1}=t,{at:s=r.selection,match:i}=t;if(s){i==null&&(i=D.isPath(s)?Hr(r,s):d=>M.isElement(d)&&v.isBlock(r,d)),D.isPath(s)&&(s=v.range(r,s));var o=b.isRange(s)?v.rangeRef(r,s):null,f=v.nodes(r,{at:s,match:i,mode:n,voids:u}),c=Array.from(f,d=>{var[,m]=d;return v.pathRef(r,m)}).reverse(),g=function(){var m=p.unref(),[C]=v.node(r,m),A=v.range(r,m);a&&o&&(A=b.intersection(o.current,A)),O.liftNodes(r,{at:A,match:y=>M.isAncestor(C)&&C.children.includes(y),voids:u})};for(var p of c)g();o&&o.unref()}})};function vs(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function gs(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?vs(Object(t),!0).forEach(function(n){he(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):vs(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var sg=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};v.withoutNormalizing(r,()=>{var{mode:a="lowest",split:u=!1,voids:s=!1}=n,{match:i,at:o=r.selection}=n;if(o){if(i==null&&(D.isPath(o)?i=Hr(r,o):r.isInline(t)?i=A=>M.isElement(A)&&v.isInline(r,A)||x.isText(A):i=A=>M.isElement(A)&&v.isBlock(r,A)),u&&b.isRange(o)){var[f,c]=b.edges(o),g=v.rangeRef(r,o,{affinity:"inward"});O.splitNodes(r,{at:c,match:i,voids:s}),O.splitNodes(r,{at:f,match:i,voids:s}),o=g.unref(),n.at==null&&O.select(r,o)}var p=Array.from(v.nodes(r,{at:o,match:r.isInline(t)?A=>M.isElement(A)&&v.isBlock(r,A):A=>v.isEditor(A),mode:"lowest",voids:s})),d=function(){var y=b.isRange(o)?b.intersection(o,v.range(r,C)):o;if(!y)return 0;var B=Array.from(v.nodes(r,{at:y,match:i,mode:a,voids:s}));if(B.length>0){var[P]=B,N=B[B.length-1],[,w]=P,[,j]=N;if(w.length===0&&j.length===0)return 0;var F=D.equals(w,j)?D.parent(w):D.common(w,j),I=v.range(r,w,j),_=v.node(r,F),[T]=_,z=F.length+1,G=D.next(j.slice(0,z)),ee=gs(gs({},t),{},{children:[]});O.insertNodes(r,ee,{at:G,voids:s}),O.moveNodes(r,{at:I,match:J=>M.isAncestor(T)&&T.children.includes(J),to:G.concat(0),voids:s})}},m;for(var[,C]of p)m=d()}})},Li=()=>{var e={children:[],operations:[],selection:null,marks:null,isElementReadOnly:()=>!1,isInline:()=>!1,isSelectable:()=>!0,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return xc(e,...n)},addMark:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Lc(e,...n)},deleteBackward:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Kc(e,...n)},deleteForward:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Wc(e,...n)},deleteFragment:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Uc(e,...n)},getFragment:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return jc(e,...n)},insertBreak:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return rv(e,...n)},insertSoftBreak:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return nv(e,...n)},insertFragment:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Kv(e,...n)},insertNode:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return tv(e,...n)},insertText:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return uv(e,...n)},normalizeNode:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Rc(e,...n)},removeMark:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return jv(e,...n)},getDirtyPaths:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Nc(e,...n)},shouldNormalize:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Ic(e,...n)},above:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Mc(e,...n)},after:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Hc(e,...n)},before:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return zc(e,...n)},collapse:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Wv(e,...n)},delete:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return zv(e,...n)},deselect:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Uv(e,...n)},edges:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return qc(e,...n)},elementReadOnly:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Gc(e,...n)},end:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Vc(e,...n)},first:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return kc(e,...n)},fragment:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Jc(e,...n)},getMarks:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return dv(e,...n)},hasBlocks:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Zc(e,...n)},hasInlines:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Xc(e,...n)},hasPath:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Qc(e,...n)},hasTexts:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return ev(e,...n)},insertNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Jv(e,...n)},isBlock:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return sv(e,...n)},isEdge:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return iv(e,...n)},isEmpty:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return ov(e,...n)},isEnd:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return fv(e,...n)},isNormalizing:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return lv(e,...n)},isStart:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return cv(e,...n)},last:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return vv(e,...n)},leaf:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return gv(e,...n)},levels:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return hv(e,...n)},liftNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Yv(e,...n)},mergeNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Qv(e,...n)},move:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return qv(e,...n)},moveNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return eg(e,...n)},next:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return mv(e,...n)},node:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Cv(e,...n)},nodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Av(e,...n)},normalize:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return yv(e,...n)},parent:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Bv(e,...n)},path:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Fv(e,...n)},pathRef:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Ev(e,...n)},pathRefs:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return bv(e,...n)},point:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return $v(e,...n)},pointRef:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return wv(e,...n)},pointRefs:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Ov(e,...n)},positions:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Sv(e,...n)},previous:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Pv(e,...n)},range:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return xv(e,...n)},rangeRef:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return _v(e,...n)},rangeRefs:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Tv(e,...n)},removeNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Mi(e,...n)},select:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Gv(e,...n)},setNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return rg(e,...n)},setNormalizing:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Rv(e,...n)},setPoint:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Vv(e,...n)},setSelection:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return kv(e,...n)},splitNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return ng(e,...n)},start:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Iv(e,...n)},string:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Mv(e,...n)},unhangRange:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Lv(e,...n)},unsetNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return ag(e,...n)},unwrapNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return ug(e,...n)},void:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Yc(e,...n)},withoutNormalizing:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Ri(e,...n)},wrapNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return sg(e,...n)},shouldMergeNodesRemovePrevNode:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Hv(e,...n)}};return e},ig=Object.defineProperty,og=Object.defineProperties,fg=Object.getOwnPropertyDescriptors,tn=Object.getOwnPropertySymbols,Hi=Object.prototype.hasOwnProperty,zi=Object.prototype.propertyIsEnumerable,hs=(e,r,t)=>r in e?ig(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,Ki=(e,r)=>{for(var t in r||(r={}))Hi.call(r,t)&&hs(e,t,r[t]);if(tn)for(var t of tn(r))zi.call(r,t)&&hs(e,t,r[t]);return e},lg=(e,r)=>og(e,fg(r)),va=(e,r)=>{var t={};for(var n in e)Hi.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&tn)for(var n of tn(e))r.indexOf(n)<0&&zi.call(e,n)&&(t[n]=e[n]);return t},$e=(e,r)=>()=>(console.warn(`[OVERRIDE_MISSING] The method editor.${e}() has not been implemented or overridden. This may cause unexpected behavior. Please ensure that all required editor methods are properly defined.`),r),SO=()=>{const e=Li();return e.hasEditableTarget=$e("hasEditableTarget",!1),e.hasRange=$e("hasRange",!1),e.hasSelectableTarget=$e("hasSelectableTarget",!1),e.hasTarget=$e("hasTarget",!1),e.insertData=$e("insertData"),e.insertFragmentData=$e("insertFragmentData"),e.insertTextData=$e("insertTextData",!1),e.isTargetInsideNonReadonlyVoid=$e("isTargetInsideNonReadonlyVoid",!1),e.setFragmentData=$e("setFragmentData"),e.history={redos:[],undos:[]},e.undo=$e("undo"),e.redo=$e("redo"),e.writeHistory=$e("writeHistory"),e},Wi=(e,r,t)=>v.pathRef(e,r,t),ga=(e,r,t)=>v.pointRef(e,r,t),PO=(e,r)=>v.deleteBackward(e,r),He=e=>M.isElement(e),vt=(e,r)=>He(r)&&v.isBlock(e,r);function cg(e){return Array.isArray(e)?e:[e]}var Ui=(e,r,t)=>t?typeof t=="object"?Object.entries(t).every(([n,a])=>cg(a).includes(e[n])):t(e,r):!0,Dt=(e,r={})=>{const{block:t,match:n}=r;return lg(Ki({},r),{match:n||t?(a,u)=>Ui(a,u,n)&&(!t||vt(e,a)):void 0})},Rr=(e,r)=>v.above(e,Dt(e,r)),qi=(e,r,t={})=>{const{unhang:n=!0,voids:a}=t;return b.isRange(r)&&n?v.unhangRange(e,r,{voids:a}):r},mn=(e,r)=>(qi(e,r==null?void 0:r.at,r),v.nodes(e,Dt(e,r))),Gi=(e,r,t)=>{try{return v.parent(e,r,t)}catch{}},Vi=(e,r)=>v.previous(e,r),xa=(e,r)=>v.isEmpty(e,r),Ke=(e,r)=>{let t=!1;return v.withoutNormalizing(e,()=>{t=!!r()}),t},Re=e=>x.isText(e),ki=e=>Re(e)?!0:e.children.length===1&&ki(e.children[0]),vg=(e,r)=>{O.delete(e,r)},Ji=(e,r)=>O.moveNodes(e,r),Ir=(e,r)=>O.removeNodes(e,r),Yi=(e,r)=>{O.select(e,r)},gg=(e,r={})=>{Ke(e,()=>{let{at:t=e.selection,match:n}=r;const{hanging:a=!1,mergeNode:u,mode:s="lowest",removeEmptyAncestor:i,voids:o=!1}=r;if(!t)return;if(n==null)if(D.isPath(t)){const[_]=Gi(e,t);n=T=>_.children.includes(T)}else n=_=>vt(e,_);if(!a&&b.isRange(t)&&(t=v.unhangRange(e,t)),b.isRange(t))if(b.isCollapsed(t))t=t.anchor;else{const[,_]=b.edges(t),T=ga(e,_);vg(e,{at:t}),t=T.unref(),r.at==null&&Yi(e,t)}const f=mn(e,{at:t,match:n,mode:s,voids:o}),[c]=Array.from(f),g=Vi(e,{at:t,match:n,mode:s,voids:o});if(!c||!g)return;const[p,d]=c,[m,C]=g;if(d.length===0||C.length===0)return;const A=D.next(C),y=D.common(d,C),B=D.isSibling(d,C),P=v.levels(e,{at:d}),N=new Set(Array.from(P,([_])=>_).slice(y.length).slice(0,-1)),w=Rr(e,{at:d,match:_=>N.has(_)&&He(_)&&ki(_),mode:"highest"}),j=w&&Wi(e,w[1]);let F,I;if(Re(p)&&Re(m)){const _=p,T=va(_,["text"]);I=m.text.length,F=T}else if(He(p)&&He(m)){const _=p,T=va(_,["children"]);I=m.children.length,F=T}else throw new Error(`Cannot merge the node at path [${d}] with the previous sibling because it is not the same kind: ${JSON.stringify(p)} ${JSON.stringify(m)}`);if(!B&&!u&&Ji(e,{at:d,to:A,voids:o}),j)if(i){const _=j.current;_&&i(e,{at:_})}else Ir(e,{at:j.current,voids:o});u?u(e,{at:d,to:A}):He(m)&&xa(e,m)||Re(m)&&m.text===""?Ir(e,{at:C,voids:o}):e.apply({path:A,position:I,properties:F,type:"merge_node"}),j&&j.unref()})},Na=(e,r)=>v.end(e,r),ps=(e,r,t)=>v.leaf(e,r,t),Ds=(e,r,t)=>v.after(e,r,t),nn=(e,r,t)=>v.before(e,r,t),ja=(e,r)=>v.start(e,r),Jn=(e,r)=>v.void(e,r),Zi=(e,r)=>He(r)&&v.isVoid(e,r),_O=(e,r={})=>{Ke(e,()=>{const{distance:t=1,reverse:n=!1,unit:a="character",voids:u=!1}=r;let{at:s=e.selection,hanging:i=!1}=r;if(!s)return;if(b.isRange(s)&&b.isCollapsed(s)&&(s=s.anchor),U.isPoint(s)){const F=Jn(e,{at:s,mode:"highest"});if(!u&&F){const[,I]=F;s=I}else{const I={distance:t,unit:a},_=n?nn(e,s,I)||ja(e,[]):Ds(e,s,I)||Na(e,[]);s={anchor:s,focus:_},i=!0}}if(D.isPath(s)){Ir(e,{at:s,voids:u});return}if(b.isCollapsed(s))return;i||(s=v.unhangRange(e,s,{voids:u}));let[o,f]=b.edges(s);const c=Rr(e,{at:o,match:F=>vt(e,F),voids:u}),g=Rr(e,{at:f,match:F=>vt(e,F),voids:u}),p=c&&g&&!D.equals(c[1],g[1]),d=D.equals(o.path,f.path),m=u?null:Jn(e,{at:o,mode:"highest"}),C=u?null:Jn(e,{at:f,mode:"highest"});if(m){const F=nn(e,o);F&&c&&D.isAncestor(c[1],F.path)&&(o=F)}if(C){const F=Ds(e,f);F&&g&&D.isAncestor(g[1],F.path)&&(f=F)}const A=[];let y;const B=mn(e,{at:s,voids:u});for(const F of B){const[I,_]=F;y&&D.compare(_,y)===0||(!u&&Zi(e,I)||!D.isCommon(_,o.path)&&!D.isCommon(_,f.path))&&(A.push(F),y=_)}const P=Array.from(A,([,F])=>Wi(e,F)),N=ga(e,o),w=ga(e,f);if(!d&&!m){const F=N.current,[I]=ps(e,F),{path:_}=F,{offset:T}=o,z=I.text.slice(T);e.apply({offset:T,path:_,text:z,type:"remove_text"})}for(const F of P){const I=F.unref();Ir(e,{at:I,voids:u})}if(!C){const F=w.current,[I]=ps(e,F),{path:_}=F,T=d?o.offset:0,z=I.text.slice(T,f.offset);e.apply({offset:T,path:_,text:z,type:"remove_text"})}!d&&p&&w.current&&N.current&&gg(e,{at:w.current,hanging:!0,voids:u});const j=w.unref()||N.unref();r.at==null&&j&&Yi(e,j)})},hg=(e,r)=>v.edges(e,r),Ra=(e,r,t)=>{if(!r)return"";try{return v.string(e,r,t)}catch{return""}},pg=(e,r)=>v.fragment(e,r),Dg=(e,r)=>v.last(e,r),Ia=e=>v.marks(e),dg=(e,r)=>v.next(e,r),Xi=(e,r,t)=>{try{return v.node(e,r,t)}catch{}},ds=(e,r,t)=>v.path(e,r,t),Qi=(e,r,t)=>v.point(e,r,t),mg=(e,r,t)=>v.range(e,r,t),ha=(e,r,t)=>!!r&&v.isEnd(e,r,t),eo=(e,r)=>He(r)&&v.isInline(e,r),ms=(e,r,t)=>!!r&&v.isStart(e,r,t),TO=(e,r)=>v.normalize(e,r),Cg=(e,r)=>v.removeMark(e,r),Ag={isHistory(e){return ie(e)&&Array.isArray(e.redos)&&Array.isArray(e.undos)&&(e.redos.length===0||hr.isOperationList(e.redos[0].operations))&&(e.undos.length===0||hr.isOperationList(e.undos[0].operations))}},Yn=new WeakMap,yr=new WeakMap,Kt=new WeakMap,be={isHistoryEditor(e){return Ag.isHistory(e.history)&&v.isEditor(e)},isMerging(e){return yr.get(e)},isSaving(e){return Yn.get(e)},isSplittingOnce(e){return Kt.get(e)},redo(e){e.redo()},setSplittingOnce(e,r){Kt.set(e,r)},undo(e){e.undo()},withMerging(e,r){const t=be.isMerging(e);yr.set(e,!0),r(),yr.set(e,t)},withNewBatch(e,r){const t=be.isMerging(e);yr.set(e,!0),Kt.set(e,!0),r(),yr.set(e,t),Kt.delete(e)},withoutMerging(e,r){const t=be.isMerging(e);yr.set(e,!1),r(),yr.set(e,t)},withoutSaving(e,r){const t=be.isSaving(e);Yn.set(e,!1),r(),Yn.set(e,t)}},yg=e=>{const r=e,{apply:t}=r;return r.history={redos:[],undos:[]},r.redo=()=>{const{history:n}=r,{redos:a}=n;if(a.length>0){const u=a.at(-1);u.selectionBefore&&O.setSelection(r,u.selectionBefore),be.withoutSaving(r,()=>{v.withoutNormalizing(r,()=>{for(const s of u.operations)r.apply(s)})}),n.redos.pop(),r.writeHistory("undos",u)}},r.undo=()=>{const{history:n}=r,{undos:a}=n;if(a.length>0){const u=a.at(-1);be.withoutSaving(r,()=>{v.withoutNormalizing(r,()=>{const s=u.operations.map(hr.inverse).reverse();for(const i of s)r.apply(i);u.selectionBefore&&O.setSelection(r,u.selectionBefore)})}),r.writeHistory("redos",u),n.undos.pop()}},r.apply=n=>{const{history:a,operations:u}=r,{undos:s}=a,i=s.at(-1),o=i==null?void 0:i.operations.at(-1);let f=be.isSaving(r),c=be.isMerging(r);if(f==null&&(f=Eg(n)),f){if(c==null&&(i==null?c=!1:u.length>0?c=!0:c=Bg(n,o)),be.isSplittingOnce(r)&&(c=!1,be.setSplittingOnce(r,void 0)),i&&c)i.operations.push(n);else{const g={operations:[n],selectionBefore:r.selection};r.writeHistory("undos",g)}for(;s.length>100;)s.shift();a.redos=[]}t(n)},r.writeHistory=(n,a)=>{r.history[n].push(a)},r},Bg=(e,r)=>!!(r&&e.type==="insert_text"&&r.type==="insert_text"&&e.offset===r.offset+r.text.length&&D.equals(e.path,r.path)||r&&e.type==="remove_text"&&r.type==="remove_text"&&e.offset+e.text.length===r.offset&&D.equals(e.path,r.path)),Eg=(e,r)=>e.type!=="set_selection",xO=(e,r)=>be.withMerging(e,r),NO=(e,r)=>be.withoutMerging(e,r),jO=(e,r)=>be.withNewBatch(e,r),RO=(e,r,t)=>S.common(e,r,t),an=(e,r)=>{try{for(let t=0;t<r.length;t++){const n=r[t];if(Re(e)||!e.children[n])return null;e=e.children[n]}return e}catch{return null}},bg=(e,r,t)=>S.children(e,r,t),Fg=(e,r)=>S.descendants(e,r),IO=(e,r)=>S.leaf(e,r),MO=e=>S.extractProps(e),ro=e=>S.string(e),wg=(e,r)=>S.texts(e,r),LO=(e,r)=>S.nodes(e,r),HO=(e,r)=>S.has(e,r),Ma=e=>M.isAncestor(e),zO=e=>S.isNode(e),KO=e=>!!e&&b.isCollapsed(e),to=e=>!!e&&b.isExpanded(e),WO=(e,r)=>{O.collapse(e,r)},UO=e=>{O.deselect(e)};function Zn(e){return Array.isArray(e)?e:[e]}var no=(e,{allow:r,exclude:t,filter:n,level:a,maxLevel:u}={})=>{if(!e)return!1;const[s,i]=e;if(a&&!Zn(a).includes(i.length)||u&&i.length>u||n&&!n(e))return!1;if(r){const o=Zn(r);if(o.length>0&&!o.includes(s.type))return!1}if(t){const o=Zn(t);if(o.length>0&&o.includes(s.type))return!1}return!0},La=(e,r,t={})=>{var n=t,{nextBlock:a,removeEmpty:u}=n,s=va(n,["nextBlock","removeEmpty"]);Ri(e,()=>{if(u){const i=Rr(e,{at:s.at});if(i){const o=u===!0?{allow:["p"]}:u,{filter:f}=o;o.filter=([c,g])=>ro(c)||c.children.some(d=>eo(e,d))?!1:!f||f([c,g]),no(i,o)&&(Mi(e,{at:i[1]}),a=!1)}}if(a){const{at:i=e.selection}=s;if(i){const o=Na(e,i),f=Rr(e,{at:o,block:!0});f&&(s.at=D.next(f[1]))}}O.insertNodes(e,r,s)})},qO=(e,r,t)=>{O.insertText(e,r,t)},GO=(e,r)=>{O.move(e,r)},Og=(e,r,t)=>O.setNodes(e,r,t),$g=(e,r)=>{O.setSelection(e,r)},VO=(e,r)=>O.splitNodes(e,r),Sg=(e,r,t)=>O.unsetNodes(e,r,t),kO=(e,r)=>{O.unwrapNodes(e,Dt(e,r))},Pg=(e,r,t)=>{qi(e,t==null?void 0:t.at,t),O.wrapNodes(e,r,t)},_g=(e,r={})=>{try{const t=mn(e,Ki({at:e.selection||[]},Dt(e,r)));for(const[n,a]of t)return[n,a]}catch{return}},Tg=(e,r)=>!!_g(e,r),JO=(e,r,t)=>Og(e,r,t);function xg(){this.__data__=[],this.size=0}var Ng=xg;function jg(e,r){return e===r||e!==e&&r!==r}var zr=jg,Rg=zr;function Ig(e,r){for(var t=e.length;t--;)if(Rg(e[t][0],r))return t;return-1}var Cn=Ig,Mg=Cn,Lg=Array.prototype,Hg=Lg.splice;function zg(e){var r=this.__data__,t=Mg(r,e);if(t<0)return!1;var n=r.length-1;return t==n?r.pop():Hg.call(r,t,1),--this.size,!0}var Kg=zg,Wg=Cn;function Ug(e){var r=this.__data__,t=Wg(r,e);return t<0?void 0:r[t][1]}var qg=Ug,Gg=Cn;function Vg(e){return Gg(this.__data__,e)>-1}var kg=Vg,Jg=Cn;function Yg(e,r){var t=this.__data__,n=Jg(t,e);return n<0?(++this.size,t.push([e,r])):t[n][1]=r,this}var Zg=Yg,Xg=Ng,Qg=Kg,eh=qg,rh=kg,th=Zg;function Kr(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}Kr.prototype.clear=Xg;Kr.prototype.delete=Qg;Kr.prototype.get=eh;Kr.prototype.has=rh;Kr.prototype.set=th;var An=Kr,nh=An;function ah(){this.__data__=new nh,this.size=0}var uh=ah;function sh(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}var ih=sh;function oh(e){return this.__data__.get(e)}var fh=oh;function lh(e){return this.__data__.has(e)}var ch=lh,vh=typeof gr=="object"&&gr&&gr.Object===Object&&gr,ao=vh,gh=ao,hh=typeof self=="object"&&self&&self.Object===Object&&self,ph=gh||hh||Function("return this")(),We=ph,Dh=We,dh=Dh.Symbol,dt=dh,Cs=dt,uo=Object.prototype,mh=uo.hasOwnProperty,Ch=uo.toString,tt=Cs?Cs.toStringTag:void 0;function Ah(e){var r=mh.call(e,tt),t=e[tt];try{e[tt]=void 0;var n=!0}catch{}var a=Ch.call(e);return n&&(r?e[tt]=t:delete e[tt]),a}var yh=Ah,Bh=Object.prototype,Eh=Bh.toString;function bh(e){return Eh.call(e)}var Fh=bh,As=dt,wh=yh,Oh=Fh,$h="[object Null]",Sh="[object Undefined]",ys=As?As.toStringTag:void 0;function Ph(e){return e==null?e===void 0?Sh:$h:ys&&ys in Object(e)?wh(e):Oh(e)}var Wr=Ph;function _h(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var Ue=_h,Th=Wr,xh=Ue,Nh="[object AsyncFunction]",jh="[object Function]",Rh="[object GeneratorFunction]",Ih="[object Proxy]";function Mh(e){if(!xh(e))return!1;var r=Th(e);return r==jh||r==Rh||r==Nh||r==Ih}var Ha=Mh,Lh=We,Hh=Lh["__core-js_shared__"],zh=Hh,Xn=zh,Bs=function(){var e=/[^.]+$/.exec(Xn&&Xn.keys&&Xn.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Kh(e){return!!Bs&&Bs in e}var Wh=Kh,Uh=Function.prototype,qh=Uh.toString;function Gh(e){if(e!=null){try{return qh.call(e)}catch{}try{return e+""}catch{}}return""}var so=Gh,Vh=Ha,kh=Wh,Jh=Ue,Yh=so,Zh=/[\\^$.*+?()[\]{}|]/g,Xh=/^\[object .+?Constructor\]$/,Qh=Function.prototype,ep=Object.prototype,rp=Qh.toString,tp=ep.hasOwnProperty,np=RegExp("^"+rp.call(tp).replace(Zh,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ap(e){if(!Jh(e)||kh(e))return!1;var r=Vh(e)?np:Xh;return r.test(Yh(e))}var up=ap;function sp(e,r){return e==null?void 0:e[r]}var ip=sp,op=up,fp=ip;function lp(e,r){var t=fp(e,r);return op(t)?t:void 0}var Or=lp,cp=Or,vp=We,gp=cp(vp,"Map"),za=gp,hp=Or,pp=hp(Object,"create"),yn=pp,Es=yn;function Dp(){this.__data__=Es?Es(null):{},this.size=0}var dp=Dp;function mp(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var Cp=mp,Ap=yn,yp="__lodash_hash_undefined__",Bp=Object.prototype,Ep=Bp.hasOwnProperty;function bp(e){var r=this.__data__;if(Ap){var t=r[e];return t===yp?void 0:t}return Ep.call(r,e)?r[e]:void 0}var Fp=bp,wp=yn,Op=Object.prototype,$p=Op.hasOwnProperty;function Sp(e){var r=this.__data__;return wp?r[e]!==void 0:$p.call(r,e)}var Pp=Sp,_p=yn,Tp="__lodash_hash_undefined__";function xp(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=_p&&r===void 0?Tp:r,this}var Np=xp,jp=dp,Rp=Cp,Ip=Fp,Mp=Pp,Lp=Np;function Ur(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}Ur.prototype.clear=jp;Ur.prototype.delete=Rp;Ur.prototype.get=Ip;Ur.prototype.has=Mp;Ur.prototype.set=Lp;var Hp=Ur,bs=Hp,zp=An,Kp=za;function Wp(){this.size=0,this.__data__={hash:new bs,map:new(Kp||zp),string:new bs}}var Up=Wp;function qp(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}var Gp=qp,Vp=Gp;function kp(e,r){var t=e.__data__;return Vp(r)?t[typeof r=="string"?"string":"hash"]:t.map}var Bn=kp,Jp=Bn;function Yp(e){var r=Jp(this,e).delete(e);return this.size-=r?1:0,r}var Zp=Yp,Xp=Bn;function Qp(e){return Xp(this,e).get(e)}var eD=Qp,rD=Bn;function tD(e){return rD(this,e).has(e)}var nD=tD,aD=Bn;function uD(e,r){var t=aD(this,e),n=t.size;return t.set(e,r),this.size+=t.size==n?0:1,this}var sD=uD,iD=Up,oD=Zp,fD=eD,lD=nD,cD=sD;function qr(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}qr.prototype.clear=iD;qr.prototype.delete=oD;qr.prototype.get=fD;qr.prototype.has=lD;qr.prototype.set=cD;var Ka=qr,vD=An,gD=za,hD=Ka,pD=200;function DD(e,r){var t=this.__data__;if(t instanceof vD){var n=t.__data__;if(!gD||n.length<pD-1)return n.push([e,r]),this.size=++t.size,this;t=this.__data__=new hD(n)}return t.set(e,r),this.size=t.size,this}var dD=DD,mD=An,CD=uh,AD=ih,yD=fh,BD=ch,ED=dD;function Gr(e){var r=this.__data__=new mD(e);this.size=r.size}Gr.prototype.clear=CD;Gr.prototype.delete=AD;Gr.prototype.get=yD;Gr.prototype.has=BD;Gr.prototype.set=ED;var En=Gr,bD=Or,FD=function(){try{var e=bD(Object,"defineProperty");return e({},"",{}),e}catch{}}(),io=FD,Fs=io;function wD(e,r,t){r=="__proto__"&&Fs?Fs(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}var Wa=wD,OD=Wa,$D=zr;function SD(e,r,t){(t!==void 0&&!$D(e[r],t)||t===void 0&&!(r in e))&&OD(e,r,t)}var oo=SD;function PD(e){return function(r,t,n){for(var a=-1,u=Object(r),s=n(r),i=s.length;i--;){var o=s[e?i:++a];if(t(u[o],o,u)===!1)break}return r}}var _D=PD,TD=_D,xD=TD(),fo=xD,un={exports:{}};un.exports;(function(e,r){var t=We,n=r&&!r.nodeType&&r,a=n&&!0&&e&&!e.nodeType&&e,u=a&&a.exports===n,s=u?t.Buffer:void 0,i=s?s.allocUnsafe:void 0;function o(f,c){if(c)return f.slice();var g=f.length,p=i?i(g):new f.constructor(g);return f.copy(p),p}e.exports=o})(un,un.exports);var lo=un.exports,ND=We,jD=ND.Uint8Array,co=jD,ws=co;function RD(e){var r=new e.constructor(e.byteLength);return new ws(r).set(new ws(e)),r}var Ua=RD,ID=Ua;function MD(e,r){var t=r?ID(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}var vo=MD;function LD(e,r){var t=-1,n=e.length;for(r||(r=Array(n));++t<n;)r[t]=e[t];return r}var go=LD,HD=Ue,Os=Object.create,zD=function(){function e(){}return function(r){if(!HD(r))return{};if(Os)return Os(r);e.prototype=r;var t=new e;return e.prototype=void 0,t}}(),KD=zD;function WD(e,r){return function(t){return e(r(t))}}var ho=WD,UD=ho,qD=UD(Object.getPrototypeOf,Object),qa=qD,GD=Object.prototype;function VD(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||GD;return e===t}var Ga=VD,kD=KD,JD=qa,YD=Ga;function ZD(e){return typeof e.constructor=="function"&&!YD(e)?kD(JD(e)):{}}var po=ZD;function XD(e){return e!=null&&typeof e=="object"}var ur=XD,QD=Wr,ed=ur,rd="[object Arguments]";function td(e){return ed(e)&&QD(e)==rd}var nd=td,$s=nd,ad=ur,Do=Object.prototype,ud=Do.hasOwnProperty,sd=Do.propertyIsEnumerable,id=$s(function(){return arguments}())?$s:function(e){return ad(e)&&ud.call(e,"callee")&&!sd.call(e,"callee")},Va=id,od=Array.isArray,Te=od,fd=9007199254740991;function ld(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=fd}var ka=ld,cd=Ha,vd=ka;function gd(e){return e!=null&&vd(e.length)&&!cd(e)}var Vr=gd,hd=Vr,pd=ur;function Dd(e){return pd(e)&&hd(e)}var dd=Dd,sn={exports:{}};function md(){return!1}var Cd=md;sn.exports;(function(e,r){var t=We,n=Cd,a=r&&!r.nodeType&&r,u=a&&!0&&e&&!e.nodeType&&e,s=u&&u.exports===a,i=s?t.Buffer:void 0,o=i?i.isBuffer:void 0,f=o||n;e.exports=f})(sn,sn.exports);var bn=sn.exports,Ad=Wr,yd=qa,Bd=ur,Ed="[object Object]",bd=Function.prototype,Fd=Object.prototype,mo=bd.toString,wd=Fd.hasOwnProperty,Od=mo.call(Object);function $d(e){if(!Bd(e)||Ad(e)!=Ed)return!1;var r=yd(e);if(r===null)return!0;var t=wd.call(r,"constructor")&&r.constructor;return typeof t=="function"&&t instanceof t&&mo.call(t)==Od}var Sd=$d,Pd=Wr,_d=ka,Td=ur,xd="[object Arguments]",Nd="[object Array]",jd="[object Boolean]",Rd="[object Date]",Id="[object Error]",Md="[object Function]",Ld="[object Map]",Hd="[object Number]",zd="[object Object]",Kd="[object RegExp]",Wd="[object Set]",Ud="[object String]",qd="[object WeakMap]",Gd="[object ArrayBuffer]",Vd="[object DataView]",kd="[object Float32Array]",Jd="[object Float64Array]",Yd="[object Int8Array]",Zd="[object Int16Array]",Xd="[object Int32Array]",Qd="[object Uint8Array]",e0="[object Uint8ClampedArray]",r0="[object Uint16Array]",t0="[object Uint32Array]",Z={};Z[kd]=Z[Jd]=Z[Yd]=Z[Zd]=Z[Xd]=Z[Qd]=Z[e0]=Z[r0]=Z[t0]=!0;Z[xd]=Z[Nd]=Z[Gd]=Z[jd]=Z[Vd]=Z[Rd]=Z[Id]=Z[Md]=Z[Ld]=Z[Hd]=Z[zd]=Z[Kd]=Z[Wd]=Z[Ud]=Z[qd]=!1;function n0(e){return Td(e)&&_d(e.length)&&!!Z[Pd(e)]}var a0=n0;function u0(e){return function(r){return e(r)}}var Ja=u0,on={exports:{}};on.exports;(function(e,r){var t=ao,n=r&&!r.nodeType&&r,a=n&&!0&&e&&!e.nodeType&&e,u=a&&a.exports===n,s=u&&t.process,i=function(){try{var o=a&&a.require&&a.require("util").types;return o||s&&s.binding&&s.binding("util")}catch{}}();e.exports=i})(on,on.exports);var Ya=on.exports,s0=a0,i0=Ja,Ss=Ya,Ps=Ss&&Ss.isTypedArray,o0=Ps?i0(Ps):s0,Za=o0;function f0(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}var Co=f0,l0=Wa,c0=zr,v0=Object.prototype,g0=v0.hasOwnProperty;function h0(e,r,t){var n=e[r];(!(g0.call(e,r)&&c0(n,t))||t===void 0&&!(r in e))&&l0(e,r,t)}var Ao=h0,p0=Ao,D0=Wa;function d0(e,r,t,n){var a=!t;t||(t={});for(var u=-1,s=r.length;++u<s;){var i=r[u],o=n?n(t[i],e[i],i,t,e):void 0;o===void 0&&(o=e[i]),a?D0(t,i,o):p0(t,i,o)}return t}var mt=d0;function m0(e,r){for(var t=-1,n=Array(e);++t<e;)n[t]=r(t);return n}var C0=m0,A0=9007199254740991,y0=/^(?:0|[1-9]\d*)$/;function B0(e,r){var t=typeof e;return r=r??A0,!!r&&(t=="number"||t!="symbol"&&y0.test(e))&&e>-1&&e%1==0&&e<r}var Xa=B0,E0=C0,b0=Va,F0=Te,w0=bn,O0=Xa,$0=Za,S0=Object.prototype,P0=S0.hasOwnProperty;function _0(e,r){var t=F0(e),n=!t&&b0(e),a=!t&&!n&&w0(e),u=!t&&!n&&!a&&$0(e),s=t||n||a||u,i=s?E0(e.length,String):[],o=i.length;for(var f in e)(r||P0.call(e,f))&&!(s&&(f=="length"||a&&(f=="offset"||f=="parent")||u&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||O0(f,o)))&&i.push(f);return i}var yo=_0;function T0(e){var r=[];if(e!=null)for(var t in Object(e))r.push(t);return r}var x0=T0,N0=Ue,j0=Ga,R0=x0,I0=Object.prototype,M0=I0.hasOwnProperty;function L0(e){if(!N0(e))return R0(e);var r=j0(e),t=[];for(var n in e)n=="constructor"&&(r||!M0.call(e,n))||t.push(n);return t}var H0=L0,z0=yo,K0=H0,W0=Vr;function U0(e){return W0(e)?z0(e,!0):K0(e)}var kr=U0,q0=mt,G0=kr;function V0(e){return q0(e,G0(e))}var k0=V0,_s=oo,J0=lo,Y0=vo,Z0=go,X0=po,Ts=Va,xs=Te,Q0=dd,em=bn,rm=Ha,tm=Ue,nm=Sd,am=Za,Ns=Co,um=k0;function sm(e,r,t,n,a,u,s){var i=Ns(e,t),o=Ns(r,t),f=s.get(o);if(f){_s(e,t,f);return}var c=u?u(i,o,t+"",e,r,s):void 0,g=c===void 0;if(g){var p=xs(o),d=!p&&em(o),m=!p&&!d&&am(o);c=o,p||d||m?xs(i)?c=i:Q0(i)?c=Z0(i):d?(g=!1,c=J0(o,!0)):m?(g=!1,c=Y0(o,!0)):c=[]:nm(o)||Ts(o)?(c=i,Ts(i)?c=um(i):(!tm(i)||rm(i))&&(c=X0(o))):g=!1}g&&(s.set(o,c),a(c,o,n,u,s),s.delete(o)),_s(e,t,c)}var im=sm,om=En,fm=oo,lm=fo,cm=im,vm=Ue,gm=kr,hm=Co;function Bo(e,r,t,n,a){e!==r&&lm(r,function(u,s){if(a||(a=new om),vm(u))cm(e,r,s,t,Bo,n,a);else{var i=n?n(hm(e,s),u,s+"",e,r,a):void 0;i===void 0&&(i=u),fm(e,s,i)}},gm)}var Qa=Bo;function pm(e){return e}var eu=pm;function Dm(e,r,t){switch(t.length){case 0:return e.call(r);case 1:return e.call(r,t[0]);case 2:return e.call(r,t[0],t[1]);case 3:return e.call(r,t[0],t[1],t[2])}return e.apply(r,t)}var Eo=Dm,dm=Eo,js=Math.max;function mm(e,r,t){return r=js(r===void 0?e.length-1:r,0),function(){for(var n=arguments,a=-1,u=js(n.length-r,0),s=Array(u);++a<u;)s[a]=n[r+a];a=-1;for(var i=Array(r+1);++a<r;)i[a]=n[a];return i[r]=t(s),dm(e,this,i)}}var Cm=mm;function Am(e){return function(){return e}}var ym=Am,Bm=ym,Rs=io,Em=eu,bm=Rs?function(e,r){return Rs(e,"toString",{configurable:!0,enumerable:!1,value:Bm(r),writable:!0})}:Em,Fm=bm,wm=800,Om=16,$m=Date.now;function Sm(e){var r=0,t=0;return function(){var n=$m(),a=Om-(n-t);if(t=n,a>0){if(++r>=wm)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}var Pm=Sm,_m=Fm,Tm=Pm,xm=Tm(_m),Nm=xm,jm=eu,Rm=Cm,Im=Nm;function Mm(e,r){return Im(Rm(e,r,jm),e+"")}var ru=Mm,Lm=zr,Hm=Vr,zm=Xa,Km=Ue;function Wm(e,r,t){if(!Km(t))return!1;var n=typeof r;return(n=="number"?Hm(t)&&zm(r,t.length):n=="string"&&r in t)?Lm(t[r],e):!1}var bo=Wm,Um=ru,qm=bo;function Gm(e){return Um(function(r,t){var n=-1,a=t.length,u=a>1?t[a-1]:void 0,s=a>2?t[2]:void 0;for(u=e.length>3&&typeof u=="function"?(a--,u):void 0,s&&qm(t[0],t[1],s)&&(u=a<3?void 0:u,a=1),r=Object(r);++n<a;){var i=t[n];i&&e(r,i,n,u)}return r})}var Fo=Gm,Vm=Qa,km=Fo,Jm=km(function(e,r,t,n){Vm(e,r,t,n)}),wo=Jm;const Ym=ze(wo);var Is=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),Zm=(e,r)=>!e||e.nodeName===r?e:Zm(e.parentElement,r),YO=(e,...r)=>()=>{e==null||e(...r)},ZO=e=>{const t=(e.match(/\w{2}/g)||[]).map(n=>String.fromCodePoint(Number.parseInt(n,16)));return btoa(t.join(""))},Xm=/^(?:\w+:)?\/\/(\S+)$/,Qm=/mailto:([^?\\]+)/,e1=/^localhost[\d:?]*(?:[^\d:?]\S*)?$/,r1=/^[^\s.]+\.\S{2,}$/,XO=e=>{if(typeof e!="string")return!1;const r=e.match(Xm),t=e.match(Qm),n=r||t;if(!n)return!1;const a=n[1];if(!a)return!1;try{new URL(e)}catch{return!1}return e1.test(a)||r1.test(a)},QO=(e,r,{handlerKeys:t,handlerQuery:n=a=>a.startsWith("on")}={})=>{const a=new Map,u={},s=i=>{i&&Object.entries(i).forEach(([o,f])=>{var c;(!t||t.includes(o))&&(!n||n(o))&&typeof f=="function"?(a.has(o)||a.set(o,[]),(c=a.get(o))==null||c.push(f),u[o]=(...g)=>{var p;(p=a.get(o))==null||p.forEach(d=>d(...g))}):u[o]=f})};return s(e),s(r),u},e3=(e,{allowedSchemes:r,permitInvalid:t=!1})=>{if(!e)return null;let n=null;try{n=new URL(e)}catch{return t?e:null}return r&&!r.includes(n.protocol.slice(0,-1))?null:n.href},t1=e=>e===void 0,n1=e=>e===null,a1=e=>t1(e)||n1(e),Oo=e=>!a1(e);function pa(e,r){return(...t)=>e(r,...t)}var sr={};Object.defineProperty(sr,"__esModule",{value:!0});var u1=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),Qn={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},$o={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:u1?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},tu={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var Wt=1;Wt<20;Wt++)tu["f"+Wt]=111+Wt;function Fn(e,r,t){r&&!("byKey"in r)&&(t=r,r=null),Array.isArray(e)||(e=[e]);var n=e.map(function(s){return So(s,r)}),a=function(i){return n.some(function(o){return Po(o,i)})},u=t==null?a:a(t);return u}function s1(e,r){return Fn(e,r)}function i1(e,r){return Fn(e,{byKey:!0},r)}function So(e,r){var t=r&&r.byKey,n={};e=e.replace("++","+add");var a=e.split("+"),u=a.length;for(var s in Qn)n[Qn[s]]=!1;var i=!0,o=!1,f=void 0;try{for(var c=a[Symbol.iterator](),g;!(i=(g=c.next()).done);i=!0){var p=g.value,d=p.endsWith("?")&&p.length>1;d&&(p=p.slice(0,-1));var m=nu(p),C=Qn[m];if(p.length>1&&!C&&!$o[p]&&!tu[m])throw new TypeError('Unknown modifier: "'+p+'"');(u===1||!C)&&(t?n.key=m:n.which=_o(p)),C&&(n[C]=d?null:!0)}}catch(A){o=!0,f=A}finally{try{!i&&c.return&&c.return()}finally{if(o)throw f}}return n}function Po(e,r){for(var t in e){var n=e[t],a=void 0;if(n!=null&&(t==="key"&&r.key!=null?a=r.key.toLowerCase():t==="which"?a=n===91&&r.which===93?91:r.which:a=r[t],!(a==null&&n===!1)&&a!==n))return!1}return!0}function _o(e){e=nu(e);var r=tu[e]||e.toUpperCase().charCodeAt(0);return r}function nu(e){return e=e.toLowerCase(),e=$o[e]||e,e}sr.default=Fn;var r3=sr.isHotkey=Fn;sr.isCodeHotkey=s1;var ea=sr.isKeyHotkey=i1;sr.parseHotkey=So;sr.compareHotkey=Po;sr.toKeyCode=_o;sr.toKeyName=nu;var o1=Qa,f1=Fo,l1=f1(function(e,r,t){o1(e,r,t)}),c1=l1;const v1=ze(c1);var g1=Te;function h1(){if(!arguments.length)return[];var e=arguments[0];return g1(e)?e:[e]}var p1=h1;const Er=ze(p1);function D1(e,r){for(var t=-1,n=e==null?0:e.length,a=Array(n);++t<n;)a[t]=r(e[t],t,e);return a}var To=D1,d1="__lodash_hash_undefined__";function m1(e){return this.__data__.set(e,d1),this}var C1=m1;function A1(e){return this.__data__.has(e)}var y1=A1,B1=Ka,E1=C1,b1=y1;function fn(e){var r=-1,t=e==null?0:e.length;for(this.__data__=new B1;++r<t;)this.add(e[r])}fn.prototype.add=fn.prototype.push=E1;fn.prototype.has=b1;var F1=fn;function w1(e,r){for(var t=-1,n=e==null?0:e.length;++t<n;)if(r(e[t],t,e))return!0;return!1}var O1=w1;function $1(e,r){return e.has(r)}var S1=$1,P1=F1,_1=O1,T1=S1,x1=1,N1=2;function j1(e,r,t,n,a,u){var s=t&x1,i=e.length,o=r.length;if(i!=o&&!(s&&o>i))return!1;var f=u.get(e),c=u.get(r);if(f&&c)return f==r&&c==e;var g=-1,p=!0,d=t&N1?new P1:void 0;for(u.set(e,r),u.set(r,e);++g<i;){var m=e[g],C=r[g];if(n)var A=s?n(C,m,g,r,e,u):n(m,C,g,e,r,u);if(A!==void 0){if(A)continue;p=!1;break}if(d){if(!_1(r,function(y,B){if(!T1(d,B)&&(m===y||a(m,y,t,n,u)))return d.push(B)})){p=!1;break}}else if(!(m===C||a(m,C,t,n,u))){p=!1;break}}return u.delete(e),u.delete(r),p}var xo=j1;function R1(e){var r=-1,t=Array(e.size);return e.forEach(function(n,a){t[++r]=[a,n]}),t}var I1=R1;function M1(e){var r=-1,t=Array(e.size);return e.forEach(function(n){t[++r]=n}),t}var L1=M1,Ms=dt,Ls=co,H1=zr,z1=xo,K1=I1,W1=L1,U1=1,q1=2,G1="[object Boolean]",V1="[object Date]",k1="[object Error]",J1="[object Map]",Y1="[object Number]",Z1="[object RegExp]",X1="[object Set]",Q1="[object String]",eC="[object Symbol]",rC="[object ArrayBuffer]",tC="[object DataView]",Hs=Ms?Ms.prototype:void 0,ra=Hs?Hs.valueOf:void 0;function nC(e,r,t,n,a,u,s){switch(t){case tC:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case rC:return!(e.byteLength!=r.byteLength||!u(new Ls(e),new Ls(r)));case G1:case V1:case Y1:return H1(+e,+r);case k1:return e.name==r.name&&e.message==r.message;case Z1:case Q1:return e==r+"";case J1:var i=K1;case X1:var o=n&U1;if(i||(i=W1),e.size!=r.size&&!o)return!1;var f=s.get(e);if(f)return f==r;n|=q1,s.set(e,r);var c=z1(i(e),i(r),n,a,u,s);return s.delete(e),c;case eC:if(ra)return ra.call(e)==ra.call(r)}return!1}var aC=nC;function uC(e,r){for(var t=-1,n=r.length,a=e.length;++t<n;)e[a+t]=r[t];return e}var No=uC,sC=No,iC=Te;function oC(e,r,t){var n=r(e);return iC(e)?n:sC(n,t(e))}var jo=oC;function fC(e,r){for(var t=-1,n=e==null?0:e.length,a=0,u=[];++t<n;){var s=e[t];r(s,t,e)&&(u[a++]=s)}return u}var lC=fC;function cC(){return[]}var Ro=cC,vC=lC,gC=Ro,hC=Object.prototype,pC=hC.propertyIsEnumerable,zs=Object.getOwnPropertySymbols,DC=zs?function(e){return e==null?[]:(e=Object(e),vC(zs(e),function(r){return pC.call(e,r)}))}:gC,au=DC,dC=ho,mC=dC(Object.keys,Object),CC=mC,AC=Ga,yC=CC,BC=Object.prototype,EC=BC.hasOwnProperty;function bC(e){if(!AC(e))return yC(e);var r=[];for(var t in Object(e))EC.call(e,t)&&t!="constructor"&&r.push(t);return r}var FC=bC,wC=yo,OC=FC,$C=Vr;function SC(e){return $C(e)?wC(e):OC(e)}var Ct=SC,PC=jo,_C=au,TC=Ct;function xC(e){return PC(e,TC,_C)}var Io=xC,Ks=Io,NC=1,jC=Object.prototype,RC=jC.hasOwnProperty;function IC(e,r,t,n,a,u){var s=t&NC,i=Ks(e),o=i.length,f=Ks(r),c=f.length;if(o!=c&&!s)return!1;for(var g=o;g--;){var p=i[g];if(!(s?p in r:RC.call(r,p)))return!1}var d=u.get(e),m=u.get(r);if(d&&m)return d==r&&m==e;var C=!0;u.set(e,r),u.set(r,e);for(var A=s;++g<o;){p=i[g];var y=e[p],B=r[p];if(n)var P=s?n(B,y,p,r,e,u):n(y,B,p,e,r,u);if(!(P===void 0?y===B||a(y,B,t,n,u):P)){C=!1;break}A||(A=p=="constructor")}if(C&&!A){var N=e.constructor,w=r.constructor;N!=w&&"constructor"in e&&"constructor"in r&&!(typeof N=="function"&&N instanceof N&&typeof w=="function"&&w instanceof w)&&(C=!1)}return u.delete(e),u.delete(r),C}var MC=IC,LC=Or,HC=We,zC=LC(HC,"DataView"),KC=zC,WC=Or,UC=We,qC=WC(UC,"Promise"),GC=qC,VC=Or,kC=We,JC=VC(kC,"Set"),YC=JC,ZC=Or,XC=We,QC=ZC(XC,"WeakMap"),eA=QC,Da=KC,da=za,ma=GC,Ca=YC,Aa=eA,Mo=Wr,Jr=so,Ws="[object Map]",rA="[object Object]",Us="[object Promise]",qs="[object Set]",Gs="[object WeakMap]",Vs="[object DataView]",tA=Jr(Da),nA=Jr(da),aA=Jr(ma),uA=Jr(Ca),sA=Jr(Aa),Br=Mo;(Da&&Br(new Da(new ArrayBuffer(1)))!=Vs||da&&Br(new da)!=Ws||ma&&Br(ma.resolve())!=Us||Ca&&Br(new Ca)!=qs||Aa&&Br(new Aa)!=Gs)&&(Br=function(e){var r=Mo(e),t=r==rA?e.constructor:void 0,n=t?Jr(t):"";if(n)switch(n){case tA:return Vs;case nA:return Ws;case aA:return Us;case uA:return qs;case sA:return Gs}return r});var wn=Br,ta=En,iA=xo,oA=aC,fA=MC,ks=wn,Js=Te,Ys=bn,lA=Za,cA=1,Zs="[object Arguments]",Xs="[object Array]",Ut="[object Object]",vA=Object.prototype,Qs=vA.hasOwnProperty;function gA(e,r,t,n,a,u){var s=Js(e),i=Js(r),o=s?Xs:ks(e),f=i?Xs:ks(r);o=o==Zs?Ut:o,f=f==Zs?Ut:f;var c=o==Ut,g=f==Ut,p=o==f;if(p&&Ys(e)){if(!Ys(r))return!1;s=!0,c=!1}if(p&&!c)return u||(u=new ta),s||lA(e)?iA(e,r,t,n,a,u):oA(e,r,o,t,n,a,u);if(!(t&cA)){var d=c&&Qs.call(e,"__wrapped__"),m=g&&Qs.call(r,"__wrapped__");if(d||m){var C=d?e.value():e,A=m?r.value():r;return u||(u=new ta),a(C,A,t,n,u)}}return p?(u||(u=new ta),fA(e,r,t,n,a,u)):!1}var hA=gA,pA=hA,ei=ur;function Lo(e,r,t,n,a){return e===r?!0:e==null||r==null||!ei(e)&&!ei(r)?e!==e&&r!==r:pA(e,r,t,n,Lo,a)}var uu=Lo,DA=En,dA=uu,mA=1,CA=2;function AA(e,r,t,n){var a=t.length,u=a,s=!n;if(e==null)return!u;for(e=Object(e);a--;){var i=t[a];if(s&&i[2]?i[1]!==e[i[0]]:!(i[0]in e))return!1}for(;++a<u;){i=t[a];var o=i[0],f=e[o],c=i[1];if(s&&i[2]){if(f===void 0&&!(o in e))return!1}else{var g=new DA;if(n)var p=n(f,c,o,e,r,g);if(!(p===void 0?dA(c,f,mA|CA,n,g):p))return!1}}return!0}var yA=AA,BA=Ue;function EA(e){return e===e&&!BA(e)}var Ho=EA,bA=Ho,FA=Ct;function wA(e){for(var r=FA(e),t=r.length;t--;){var n=r[t],a=e[n];r[t]=[n,a,bA(a)]}return r}var OA=wA;function $A(e,r){return function(t){return t==null?!1:t[e]===r&&(r!==void 0||e in Object(t))}}var zo=$A,SA=yA,PA=OA,_A=zo;function TA(e){var r=PA(e);return r.length==1&&r[0][2]?_A(r[0][0],r[0][1]):function(t){return t===e||SA(t,e,r)}}var xA=TA,NA=Wr,jA=ur,RA="[object Symbol]";function IA(e){return typeof e=="symbol"||jA(e)&&NA(e)==RA}var su=IA,MA=Te,LA=su,HA=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zA=/^\w*$/;function KA(e,r){if(MA(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||LA(e)?!0:zA.test(e)||!HA.test(e)||r!=null&&e in Object(r)}var iu=KA,Ko=Ka,WA="Expected a function";function ou(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(WA);var t=function(){var n=arguments,a=r?r.apply(this,n):n[0],u=t.cache;if(u.has(a))return u.get(a);var s=e.apply(this,n);return t.cache=u.set(a,s)||u,s};return t.cache=new(ou.Cache||Ko),t}ou.Cache=Ko;var UA=ou,qA=UA,GA=500;function VA(e){var r=qA(e,function(n){return t.size===GA&&t.clear(),n}),t=r.cache;return r}var kA=VA,JA=kA,YA=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ZA=/\\(\\)?/g,XA=JA(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(YA,function(t,n,a,u){r.push(a?u.replace(ZA,"$1"):n||t)}),r}),QA=XA,ri=dt,ey=To,ry=Te,ty=su,ny=1/0,ti=ri?ri.prototype:void 0,ni=ti?ti.toString:void 0;function Wo(e){if(typeof e=="string")return e;if(ry(e))return ey(e,Wo)+"";if(ty(e))return ni?ni.call(e):"";var r=e+"";return r=="0"&&1/e==-ny?"-0":r}var ay=Wo,uy=ay;function sy(e){return e==null?"":uy(e)}var iy=sy,oy=Te,fy=iu,ly=QA,cy=iy;function vy(e,r){return oy(e)?e:fy(e,r)?[e]:ly(cy(e))}var Uo=vy,gy=su,hy=1/0;function py(e){if(typeof e=="string"||gy(e))return e;var r=e+"";return r=="0"&&1/e==-hy?"-0":r}var On=py,Dy=Uo,dy=On;function my(e,r){r=Dy(r,e);for(var t=0,n=r.length;e!=null&&t<n;)e=e[dy(r[t++])];return t&&t==n?e:void 0}var qo=my,Cy=qo;function Ay(e,r,t){var n=e==null?void 0:Cy(e,r);return n===void 0?t:n}var yy=Ay;function By(e,r){return e!=null&&r in Object(e)}var Ey=By,by=Uo,Fy=Va,wy=Te,Oy=Xa,$y=ka,Sy=On;function Py(e,r,t){r=by(r,e);for(var n=-1,a=r.length,u=!1;++n<a;){var s=Sy(r[n]);if(!(u=e!=null&&t(e,s)))break;e=e[s]}return u||++n!=a?u:(a=e==null?0:e.length,!!a&&$y(a)&&Oy(s,a)&&(wy(e)||Fy(e)))}var _y=Py,Ty=Ey,xy=_y;function Ny(e,r){return e!=null&&xy(e,r,Ty)}var jy=Ny,Ry=uu,Iy=yy,My=jy,Ly=iu,Hy=Ho,zy=zo,Ky=On,Wy=1,Uy=2;function qy(e,r){return Ly(e)&&Hy(r)?zy(Ky(e),r):function(t){var n=Iy(t,e);return n===void 0&&n===r?My(t,e):Ry(r,n,Wy|Uy)}}var Gy=qy;function Vy(e){return function(r){return r==null?void 0:r[e]}}var ky=Vy,Jy=qo;function Yy(e){return function(r){return Jy(r,e)}}var Zy=Yy,Xy=ky,Qy=Zy,eB=iu,rB=On;function tB(e){return eB(e)?Xy(rB(e)):Qy(e)}var nB=tB,aB=xA,uB=Gy,sB=eu,iB=Te,oB=nB;function fB(e){return typeof e=="function"?e:e==null?sB:typeof e=="object"?iB(e)?uB(e[0],e[1]):aB(e):oB(e)}var lB=fB,cB=fo,vB=Ct;function gB(e,r){return e&&cB(e,r,vB)}var hB=gB,pB=Vr;function DB(e,r){return function(t,n){if(t==null)return t;if(!pB(t))return e(t,n);for(var a=t.length,u=r?a:-1,s=Object(t);(r?u--:++u<a)&&n(s[u],u,s)!==!1;);return t}}var dB=DB,mB=hB,CB=dB,AB=CB(mB),yB=AB,BB=yB,EB=Vr;function bB(e,r){var t=-1,n=EB(e)?Array(e.length):[];return BB(e,function(a,u,s){n[++t]=r(a,u,s)}),n}var FB=bB,wB=To,OB=lB,$B=FB,SB=Te;function PB(e,r){var t=SB(e)?wB:$B;return t(e,OB(r))}var _B=PB;const TB=ze(_B);function xB(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}var NB=xB;const jB=ze(NB);var RB=Object.defineProperty,IB=Object.defineProperties,MB=Object.getOwnPropertyDescriptors,ln=Object.getOwnPropertySymbols,Go=Object.prototype.hasOwnProperty,Vo=Object.prototype.propertyIsEnumerable,ai=(e,r,t)=>r in e?RB(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,Be=(e,r)=>{for(var t in r||(r={}))Go.call(r,t)&&ai(e,t,r[t]);if(ln)for(var t of ln(r))Vo.call(r,t)&&ai(e,t,r[t]);return e},wr=(e,r)=>IB(e,MB(r)),At=(e,r)=>{var t={};for(var n in e)Go.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&ln)for(var n of ln(e))r.indexOf(n)<0&&Vo.call(e,n)&&(t[n]=e[n]);return t},t3=(e,r)=>{try{const{at:t=e.selection,match:n,reverse:a=!1,voids:u=!1}=r;if(!t)return;let s,i;if(Ni.isSpan(t))[s,i]=t;else if(b.isRange(t)){const c=ds(e,t,{edge:"start"}),g=ds(e,t,{edge:"end"});s=a?g:c,i=a?c:g}let o=[e,[]];D.isPath(t)&&(o=Xi(e,t));const f=Fg(o[0],{from:s,pass:([c])=>u?!1:Zi(e,c),reverse:a,to:i});for(const[c,g]of f)if(Ui(c,g,n))return[c,t.concat(g)]}catch{return}},n3=(e,r)=>{var t;const{selection:n}=e,a=(t=n==null?void 0:n.focus)==null?void 0:t.path[0];if(typeof a=="number")return Xi(e,[a])},_e=(e,r={})=>Rr(e,wr(Be({},r),{block:!0})),a3=(e,r)=>[...mn(e,wr(Be({},r),{block:!0}))],u3=e=>{const[r,t]=e;if(Ma(r)){const{children:n}=r;return n.map((a,u)=>{const s=t.concat([u]);return[a,s]})}return[]},s3=(e,r={})=>{var t=r,{at:n}=t,a=At(t,["at"]);const u=n??e.selection;if(!u)return null;const[s,i]=hg(e,u??e.selection),o=_e(e,Be({at:s},a));if(!o)return null;const f=_e(e,Be({at:i},a));return f?[o,f]:null};function i3(e,{key:r,defaultValue:t,getProp:n,mode:a="block"}={}){if(e.length===0)return t;const u=n??(i=>i[r]);let s;for(const i of e){if(a==="block"||a==="all"){const o=u(i);if(o!==void 0){if(s===void 0)s=o;else if(s!==o)return;if(a==="block")continue}else if(a==="block")return t}if(a==="text"||a==="all"){const o=Array.from(wg(i));for(const[f]of o){const c=u(f);if(c!==void 0){if(s===void 0)s=c;else if(s!==c)return}else if(a==="text")return t}}}return s}var LB=e=>{const[r,t]=e;if(Re(r)||r.children.length===0)return null;const n=r.children;return[n.at(-1),t.concat([n.length-1])]},HB=e=>{const r=LB(e);return r?r[1]:e[1].concat([-1])},o3=(e,r)=>{const t=HB(e);return D.equals(t,r)},ko=(e,r)=>{if(!(r+1)||!Ma(e))return e;const{children:t}=e,n=t.at(-1);return ko(n,r-1)},f3=(e,r)=>{const{children:t}=e,n=t.at(-1);if(!n)return;const[,a]=Dg(e,[]);return[ko(n,r-1),a.slice(0,r+1)]},zB=(e,r)=>{if(!e)return;const t=Ia(e);return t==null?void 0:t[r]},l3=(e,r)=>{const t=dg(e,{at:r});if(t)return ja(e,t[1])},KB=(e,r)=>{const[t,n]=e,a=r[n.length],u=[],s=t.children;if(a+1<t.children.length)for(let i=a+1;i<t.children.length;i++)u.push(s[i]);return u},WB=(e,r)=>{if(r.length===0)return;const t=r[0][1],n=r.at(-1)[1];return mg(e,t,n)},UB=(e,r={})=>{var t=r,{at:n}=t,a=At(t,["at"]);if(n||(n=e.selection),!n)return;const[u,s]=b.edges(n),i=_e(e,Be({at:u},a)),o=_e(e,Be({at:s},a));if(!(!i&&!o))return!i||!o?!0:!D.equals(i[1],o[1])},qB=(e,r,t)=>{var n;if(!t||!t.match&&!t.matchString)return nn(e,r,t);const a=!t.unit||t.unit==="offset",u=t.matchString?Er(t.matchString):[""],s=(n=t.matchByRegex)!=null?n:!1;let i;return u.some(o=>{var f,c;let g=r,p=Qi(e,r,{edge:"end"});const d=o.length+1,m=Array.from({length:d});let C=0;for(;;){const A=nn(e,g,t);if(!A||UB(e,{at:{anchor:A,focus:p}}))return;const y=Ra(e,{anchor:A,focus:p});let B=y;if(a&&d&&(m.unshift({point:A,text:y}),m.pop(),B=TB(m.slice(0,-1),"text").join("")),(s?!!o.match(B):B===o)||(f=t.match)!=null&&f.call(t,{at:r,beforePoint:A,beforeString:B}))return t.afterMatch?d&&a?(i=(c=m.at(-1))==null?void 0:c.point,!!i):(i=p,!0):(i=A,!0);if(p=A,g=A,C+=1,!t.skipInvalid&&(!o||C>=o.length))return}}),i},GB=(e,{at:r=e.selection,focus:t}={})=>{let n;return b.isRange(r)&&(n=t?r.focus:r.anchor),U.isPoint(r)&&(n=r),D.isPath(r)&&(n={offset:0,path:r}),n},c3=(e,r)=>{const t=Vi(e,{at:r});if(t)return Na(e,t[1])},v3=e=>{if(e.length===0)return;const r=e.at(-1);if(!(r<=0))return e.slice(0,-1).concat(r-1)},VB=(e,r)=>{const t=jB(r);if(t>0){const n=t-1,a=r.slice(0,-1).concat([n]),u=an(e,a);return u?[u,a]:void 0}},g3=(e,r,t)=>{const n=qB(e,r,t);if(!n)return;const a=Qi(e,r,{edge:"end"});return{anchor:n,focus:a}},h3=(e,r={})=>{var t;const n=(t=_e(e,r))==null?void 0:t[1];if(!n)return;const a=ja(e,n),u=GB(e,r);if(u)return{anchor:a,focus:u}},kB=(e,{structuralTypes:r}={})=>{const t=(n,a=[])=>(n.forEach(u=>{if(r!=null&&r.includes(u.type))return t(u.children,a);a.push(u)}),a);return t(e)},p3=(e,r)=>{if(!e.selection)return[];const t=pg(e,e.selection);return t.length===0?[]:kB(t,r)},D3=e=>Ra(e,e.selection),JB=(e,r)=>!ro(r)&&!r.children.some(t=>eo(e,t)),d3=e=>{var r;const t=(r=_e(e))==null?void 0:r[0];return t?JB(e,t):!1},m3=e=>{if(!e.selection)return!1;const r=_e(e);if(!r)return!1;const t=e.selection.focus,n=Gi(e,e.selection);if(!n)return!1;const[,a]=n;if(!ha(e,t,a))return!1;const u=KB(r,t.path);if(u.length>0){for(const s of u)if(Re(s)&&s.text)return!1}else return ha(e,t,r[1]);return!0},C3=e=>e.children.length===1&&xa(e,e.children[0]),A3=e=>e.at(-1)===0,YB=(e,r)=>Oo(zB(e,r)),ZB=(e,r={})=>{var t=r,{at:n}=t,a=At(t,["at"]);if(n||(n=e.selection),!n)return;const[u,s]=b.edges(n),i=_e(e,Be({at:u},a)),o=_e(e,Be({at:s},a));if(!(!i||!o))return D.equals(i[1],o[1])},XB=(e,r)=>{var t,n;const a=(t=_e(e,r))==null?void 0:t[1];return!!a&&ha(e,(n=e.selection)==null?void 0:n.focus,a)},Jo=(e,r)=>{var t;const{selection:n}=e;if(!n)return!1;const a=(t=_e(e,r))==null?void 0:t[1];return a?ms(e,n.focus,a)||to(e.selection)&&ms(e,n.anchor,a):!1},y3=(e,r={})=>{var t=r,n=At(t,["at"]);return XB(e,n)&&Jo(e,n)&&ZB(e,n)},B3=e=>to(e.selection),E3=(e,r)=>{const t=r.at(-1);t&&e.insertNodes(r.map(n=>n[0]),{at:D.next(t[1])})},QB=(e,r,t)=>{La(e,r,t)},b3=(e,r,t)=>{QB(e,{children:[{text:""}],type:r},Dt(e,t))},eE=(e,{at:r,fromStartIndex:t=0,match:n,to:a})=>{let u=0;const s=D.isPath(r)?r:r[1],i=D.isPath(r)?an(e,s):r[0];if(!i||!vt(e,i))return u;for(let o=i.children.length-1;o>=t;o--){const f=[...s,o],c=an(e,f);(!n||c&&n([c,f]))&&(Ji(e,{at:f,to:a}),u++)}return u},F3=(e,r={})=>{const t=_e(e,r);if(!t)return;const n=VB(e,t[1]);n&&xa(e,n[0])&&e.removeNodes({at:n[1]})},ya=(e,r)=>{var t=r,{key:n,at:a,shouldChange:u=!0}=t,s=At(t,["key","at","shouldChange"]),i;const o=a??e.selection;if(n=Er(n),o){if(b.isRange(o)&&b.isExpanded(o))Sg(e,n,Be({at:o,match:Re,split:!0},s));else if(e.selection){const f=(i=Ia(e))!=null?i:{};n.forEach(c=>{delete f[c]}),e.marks=f,u&&e.onChange()}}},rE=(e,r,t)=>{Ke(e,()=>{for(const[,n]of bg(e,r,{reverse:!0}))Ir(e,wr(Be({},t),{at:n}))})},tE=e=>{const r=Ia(e);r&&Object.keys(r).forEach(t=>{Cg(e,t)})},w3=(e,{at:r,insertOptions:t,nodes:n,removeOptions:a})=>{Ke(e,()=>{Ir(e,wr(Be({},a),{at:r})),La(e,n,wr(Be({},t),{at:r}))})},Yo=(e,{at:r,insertOptions:t,nodes:n,removeOptions:a})=>{Ke(e,()=>{rE(e,r,a),La(e,n,wr(Be({},t),{at:r.concat([0])}))})},O3=(e,r)=>{const t=WB(e,r);t&&$g(e,t)},$3=(e,r,t=[])=>{e.selection&&Ke(e,()=>{const n=Er(t);ya(e,{key:n}),ya(e,{key:Object.keys(r)}),Object.keys(r).forEach(a=>{e.addMark(a,r[a])})})},nE=(e,{key:r,clear:t})=>{e.selection&&Ke(e,()=>{if(YB(e,r)){e.removeMark(r);return}if(t){const a=Er(t);ya(e,{key:a})}e.addMark(r,!0)})},S3=(e,r,t)=>{const n=t==null?void 0:t.at,a=an(e,n);a!=null&&a.children&&Ke(e,()=>{const u=n.concat([0]);Pg(e,r,wr(Be({},t),{at:u})),!(a.children.length<2)&&eE(e,{at:n,fromStartIndex:1,to:u.concat([1])})})};function gt(e){"@babel/helpers - typeof";return gt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},gt(e)}function aE(e,r){if(gt(e)!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(gt(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function uE(e){var r=aE(e,"string");return gt(r)==="symbol"?r:String(r)}function Mr(e,r,t){return r=uE(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Zo=new WeakMap,Xo=new WeakMap;class fu{}class $n extends fu{constructor(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),Mr(this,"offset",void 0),Mr(this,"path",void 0);var{offset:t,path:n}=r;this.offset=t,this.path=n}}class Sn extends fu{constructor(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),Mr(this,"offset",void 0),Mr(this,"path",void 0);var{offset:t,path:n}=r;this.offset=t,this.path=n}}var sE=(e,r)=>{var t=e.text.length;Zo.set(e,[t,r])},iE=e=>Zo.get(e),oE=(e,r)=>{var t=e.text.length;Xo.set(e,[t,r])},fE=e=>Xo.get(e);function ui(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Ba(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ui(Object(t),!0).forEach(function(n){Mr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ui(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var Vt=new WeakSet,Pn=e=>{var r=[],t=a=>{if(a!=null){var u=r[r.length-1];if(typeof a=="string"){var s={text:a};Vt.add(s),a=s}if(x.isText(a)){var i=a;x.isText(u)&&Vt.has(u)&&Vt.has(i)&&x.equals(u,i,{loose:!0})?u.text+=i.text:r.push(i)}else if(M.isElement(a))r.push(a);else if(a instanceof fu){var o=r[r.length-1];x.isText(o)||(t(""),o=r[r.length-1]),a instanceof $n?sE(o,a):a instanceof Sn&&oE(o,a)}else throw new Error("Unexpected hyperscript child object: ".concat(a))}};for(var n of e.flat(1/0))t(n);return r};function lE(e,r,t){return new $n(r)}function cE(e,r,t){return[new $n(r),new Sn(r)]}function Qo(e,r,t){return Ba(Ba({},r),{},{children:Pn(t)})}function vE(e,r,t){return new Sn(r)}function gE(e,r,t){return Pn(t)}function hE(e,r,t){var n=t.find(u=>u instanceof $n),a=t.find(u=>u instanceof Sn);if(!n||n.offset==null||n.path==null)throw new Error("The <selection> hyperscript tag must have an <anchor> tag as a child with `path` and `offset` attributes defined.");if(!a||a.offset==null||a.path==null)throw new Error("The <selection> hyperscript tag must have a <focus> tag as a child with `path` and `offset` attributes defined.");return Ba({anchor:{offset:n.offset,path:n.path},focus:{offset:a.offset,path:a.path}},r)}function pE(e,r,t){var n=Pn(t);if(n.length>1)throw new Error("The <text> hyperscript tag must only contain a single node's worth of children.");var[a]=n;if(a==null&&(a={text:""}),!x.isText(a))throw new Error(`
    The <text> hyperscript tag can only contain text content as children.`);return Vt.delete(a),Object.assign(a,r),a}var DE=e=>(r,t,n)=>{var a=[],u;for(var s of n)b.isRange(s)?u=s:a.push(s);var i=Pn(a),o={},f=e();Object.assign(f,t),f.children=i;for(var[c,g]of S.texts(f)){var p=iE(c),d=fE(c);if(p!=null){var[m]=p;o.anchor={path:g,offset:m}}if(d!=null){var[C]=d;o.focus={path:g,offset:C}}}if(o.anchor&&!o.focus)throw new Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<anchor />`. For collapsed selections, use `<cursor />` instead.");if(!o.anchor&&o.focus)throw new Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<focus />`. For collapsed selections, use `<cursor />` instead.");return u!=null?f.selection=u:b.isRange(o)&&(f.selection=o),f};function si(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function st(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?si(Object(t),!0).forEach(function(n){Mr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):si(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var dE={anchor:lE,cursor:cE,editor:DE(Li),element:Qo,focus:vE,fragment:gE,selection:hE,text:pE},mE=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{elements:t={}}=r,n=AE(t),a=st(st(st({},dE),n),r.creators),u=CE(a);return u},CE=e=>{var r=function(n,a){for(var u=arguments.length,s=new Array(u>2?u-2:0),i=2;i<u;i++)s[i-2]=arguments[i];var o=e[n];if(!o)throw new Error("No hyperscript creator found for tag: <".concat(n,">"));a==null&&(a={}),ie(a)||(s=[a].concat(s),a={}),s=s.filter(c=>!!c).flat();var f=o(n,a,s);return f};return r},AE=e=>{var r={},t=function(){var u=e[n];if(typeof u!="object")throw new Error("Properties specified for a hyperscript shorthand should be an object, but for the custom element <".concat(n,">  tag you passed: ").concat(u));r[n]=(s,i,o)=>Qo("element",st(st({},u),i),o)};for(var n in e)t();return r},lu=mE();function yE(e,r){for(var t=-1,n=e==null?0:e.length;++t<n&&r(e[t],t,e)!==!1;);return e}var BE=yE,EE=mt,bE=Ct;function FE(e,r){return e&&EE(r,bE(r),e)}var wE=FE,OE=mt,$E=kr;function SE(e,r){return e&&OE(r,$E(r),e)}var PE=SE,_E=mt,TE=au;function xE(e,r){return _E(e,TE(e),r)}var NE=xE,jE=No,RE=qa,IE=au,ME=Ro,LE=Object.getOwnPropertySymbols,HE=LE?function(e){for(var r=[];e;)jE(r,IE(e)),e=RE(e);return r}:ME,ef=HE,zE=mt,KE=ef;function WE(e,r){return zE(e,KE(e),r)}var UE=WE,qE=jo,GE=ef,VE=kr;function kE(e){return qE(e,VE,GE)}var JE=kE,YE=Object.prototype,ZE=YE.hasOwnProperty;function XE(e){var r=e.length,t=new e.constructor(r);return r&&typeof e[0]=="string"&&ZE.call(e,"index")&&(t.index=e.index,t.input=e.input),t}var QE=XE,eb=Ua;function rb(e,r){var t=r?eb(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}var tb=rb,nb=/\w*$/;function ab(e){var r=new e.constructor(e.source,nb.exec(e));return r.lastIndex=e.lastIndex,r}var ub=ab,ii=dt,oi=ii?ii.prototype:void 0,fi=oi?oi.valueOf:void 0;function sb(e){return fi?Object(fi.call(e)):{}}var ib=sb,ob=Ua,fb=tb,lb=ub,cb=ib,vb=vo,gb="[object Boolean]",hb="[object Date]",pb="[object Map]",Db="[object Number]",db="[object RegExp]",mb="[object Set]",Cb="[object String]",Ab="[object Symbol]",yb="[object ArrayBuffer]",Bb="[object DataView]",Eb="[object Float32Array]",bb="[object Float64Array]",Fb="[object Int8Array]",wb="[object Int16Array]",Ob="[object Int32Array]",$b="[object Uint8Array]",Sb="[object Uint8ClampedArray]",Pb="[object Uint16Array]",_b="[object Uint32Array]";function Tb(e,r,t){var n=e.constructor;switch(r){case yb:return ob(e);case gb:case hb:return new n(+e);case Bb:return fb(e,t);case Eb:case bb:case Fb:case wb:case Ob:case $b:case Sb:case Pb:case _b:return vb(e,t);case pb:return new n;case Db:case Cb:return new n(e);case db:return lb(e);case mb:return new n;case Ab:return cb(e)}}var xb=Tb,Nb=wn,jb=ur,Rb="[object Map]";function Ib(e){return jb(e)&&Nb(e)==Rb}var Mb=Ib,Lb=Mb,Hb=Ja,li=Ya,ci=li&&li.isMap,zb=ci?Hb(ci):Lb,Kb=zb,Wb=wn,Ub=ur,qb="[object Set]";function Gb(e){return Ub(e)&&Wb(e)==qb}var Vb=Gb,kb=Vb,Jb=Ja,vi=Ya,gi=vi&&vi.isSet,Yb=gi?Jb(gi):kb,Zb=Yb,Xb=En,Qb=BE,eF=Ao,rF=wE,tF=PE,nF=lo,aF=go,uF=NE,sF=UE,iF=Io,oF=JE,fF=wn,lF=QE,cF=xb,vF=po,gF=Te,hF=bn,pF=Kb,DF=Ue,dF=Zb,mF=Ct,CF=kr,AF=1,yF=2,BF=4,rf="[object Arguments]",EF="[object Array]",bF="[object Boolean]",FF="[object Date]",wF="[object Error]",tf="[object Function]",OF="[object GeneratorFunction]",$F="[object Map]",SF="[object Number]",nf="[object Object]",PF="[object RegExp]",_F="[object Set]",TF="[object String]",xF="[object Symbol]",NF="[object WeakMap]",jF="[object ArrayBuffer]",RF="[object DataView]",IF="[object Float32Array]",MF="[object Float64Array]",LF="[object Int8Array]",HF="[object Int16Array]",zF="[object Int32Array]",KF="[object Uint8Array]",WF="[object Uint8ClampedArray]",UF="[object Uint16Array]",qF="[object Uint32Array]",Y={};Y[rf]=Y[EF]=Y[jF]=Y[RF]=Y[bF]=Y[FF]=Y[IF]=Y[MF]=Y[LF]=Y[HF]=Y[zF]=Y[$F]=Y[SF]=Y[nf]=Y[PF]=Y[_F]=Y[TF]=Y[xF]=Y[KF]=Y[WF]=Y[UF]=Y[qF]=!0;Y[wF]=Y[tf]=Y[NF]=!1;function kt(e,r,t,n,a,u){var s,i=r&AF,o=r&yF,f=r&BF;if(t&&(s=a?t(e,n,a,u):t(e)),s!==void 0)return s;if(!DF(e))return e;var c=gF(e);if(c){if(s=lF(e),!i)return aF(e,s)}else{var g=fF(e),p=g==tf||g==OF;if(hF(e))return nF(e,i);if(g==nf||g==rf||p&&!a){if(s=o||p?{}:vF(e),!i)return o?sF(e,tF(s,e)):uF(e,rF(s,e))}else{if(!Y[g])return a?e:{};s=cF(e,g,i)}}u||(u=new Xb);var d=u.get(e);if(d)return d;u.set(e,s),dF(e)?e.forEach(function(A){s.add(kt(A,r,t,A,e,u))}):pF(e)&&e.forEach(function(A,y){s.set(y,kt(A,r,t,y,e,u))});var m=f?o?oF:iF:o?CF:mF,C=c?void 0:m(e);return Qb(C||e,function(A,y){C&&(y=A,A=e[y]),eF(s,y,kt(A,r,t,y,e,u))}),s}var GF=kt,VF=GF,kF=1,JF=4;function YF(e){return VF(e,kF|JF)}var ZF=YF;const P3=ze(ZF);var XF=uu;function QF(e,r){return XF(e,r)}var ew=QF;const _3=ze(ew),rw=Symbol(),af=Symbol(),nt="a",Jt="w";let tw=(e,r)=>new Proxy(e,r);const Ea=Object.getPrototypeOf,hi=new WeakMap,nw=e=>e&&(hi.has(e)?hi.get(e):Ea(e)===Object.prototype||Ea(e)===Array.prototype),pi=e=>typeof e=="object"&&e!==null,aw=e=>{if(Array.isArray(e))return Array.from(e);const r=Object.getOwnPropertyDescriptors(e);return Object.values(r).forEach(t=>{t.configurable=!0}),Object.create(Ea(e),r)},uf=e=>e[af]||e,sf=(e,r,t,n)=>{if(!nw(e))return e;let a=n&&n.get(e);if(!a){const o=uf(e);a=(f=>Object.values(Object.getOwnPropertyDescriptors(f)).some(c=>!c.configurable&&!c.writable))(o)?[o,aw(o)]:[o],n==null||n.set(e,a)}const[u,s]=a;let i=t&&t.get(u);return i&&i[1].f===!!s||(i=((o,f)=>{const c={f};let g=!1;const p=(m,C)=>{if(!g){let A=c[nt].get(o);if(A||(A={},c[nt].set(o,A)),m===Jt)A[Jt]=!0;else{let y=A[m];y||(y=new Set,A[m]=y),y.add(C)}}},d={get:(m,C)=>C===af?o:(p("k",C),sf(Reflect.get(m,C),c[nt],c.c,c.t)),has:(m,C)=>C===rw?(g=!0,c[nt].delete(o),!0):(p("h",C),Reflect.has(m,C)),getOwnPropertyDescriptor:(m,C)=>(p("o",C),Reflect.getOwnPropertyDescriptor(m,C)),ownKeys:m=>(p(Jt),Reflect.ownKeys(m))};return f&&(d.set=d.deleteProperty=()=>!1),[d,c]})(u,!!s),i[1].p=tw(s||u,i[0]),t&&t.set(u,i)),i[1][nt]=r,i[1].c=t,i[1].t=n,i[1].p},ba=(e,r,t,n,a=Object.is)=>{if(a(e,r))return!1;if(!pi(e)||!pi(r))return!0;const u=t.get(uf(e));if(!u)return!0;if(n){const i=n.get(e);if(i&&i.n===r)return i.g;n.set(e,{n:r,g:!1})}let s=null;try{for(const i of u.h||[])if(s=Reflect.has(e,i)!==Reflect.has(r,i),s)return s;if(u[Jt]===!0){if(s=((i,o)=>{const f=Reflect.ownKeys(i),c=Reflect.ownKeys(o);return f.length!==c.length||f.some((g,p)=>g!==c[p])})(e,r),s)return s}else for(const i of u.o||[])if(s=!!Reflect.getOwnPropertyDescriptor(e,i)!=!!Reflect.getOwnPropertyDescriptor(r,i),s)return s;for(const i of u.k||[])if(s=ba(e[i],r[i],t,n,a),s)return s;return s===null&&(s=!0),s}finally{n&&n.set(e,{n:r,g:s})}};const uw=e=>()=>{const[,t]=rr.useReducer(c=>c+1,0),n=new WeakMap,a=rr.useRef(),u=rr.useRef(),s=rr.useRef();rr.useEffect(()=>{a.current=n,u.current!==s.current&&ba(u.current,s.current,n,new WeakMap)&&(u.current=s.current,t())});const i=rr.useCallback(c=>(s.current=c,u.current&&u.current!==c&&a.current&&!ba(u.current,c,a.current,new WeakMap)?u.current:(u.current=c,c)),[]),o=e(i),f=rr.useMemo(()=>new WeakMap,[]);return sf(o,n,f)},Yt={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Fa=new Map,qt=e=>{const r=Fa.get(e);return r?Object.fromEntries(Object.entries(r.stores).map(([t,n])=>[t,n.getState()])):{}},sw=(e,r,t)=>{if(e===void 0)return{type:"untracked",connection:r.connect(t)};const n=Fa.get(t.name);if(n)return{type:"tracked",store:e,...n};const a={connection:r.connect(t),stores:{}};return Fa.set(t.name,a),{type:"tracked",store:e,...a}},iw=(e,r={})=>(t,n,a)=>{const{enabled:u,anonymousActionType:s,store:i,...o}=r;let f;try{f=(u??(Yt?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!f)return(Yt?"production":void 0)!=="production"&&u&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),e(t,n,a);const{connection:c,...g}=sw(i,f,o);let p=!0;a.setState=(C,A,y)=>{const B=t(C,A);if(!p)return B;const P=y===void 0?{type:s||"anonymous"}:typeof y=="string"?{type:y}:y;return i===void 0?(c==null||c.send(P,n()),B):(c==null||c.send({...P,type:`${i}/${P.type}`},{...qt(o.name),[i]:a.getState()}),B)};const d=(...C)=>{const A=p;p=!1,t(...C),p=A},m=e(a.setState,n,a);if(g.type==="untracked"?c==null||c.init(m):(g.stores[g.store]=a,c==null||c.init(Object.fromEntries(Object.entries(g.stores).map(([C,A])=>[C,C===g.store?m:A.getState()])))),a.dispatchFromDevtools&&typeof a.dispatch=="function"){let C=!1;const A=a.dispatch;a.dispatch=(...y)=>{(Yt?"production":void 0)!=="production"&&y[0].type==="__setState"&&!C&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),C=!0),A(...y)}}return c.subscribe(C=>{var A;switch(C.type){case"ACTION":if(typeof C.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return na(C.payload,y=>{if(y.type==="__setState"){if(i===void 0){d(y.state);return}Object.keys(y.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const B=y.state[i];if(B==null)return;JSON.stringify(a.getState())!==JSON.stringify(B)&&d(B);return}a.dispatchFromDevtools&&typeof a.dispatch=="function"&&a.dispatch(y)});case"DISPATCH":switch(C.payload.type){case"RESET":return d(m),i===void 0?c==null?void 0:c.init(a.getState()):c==null?void 0:c.init(qt(o.name));case"COMMIT":if(i===void 0){c==null||c.init(a.getState());return}return c==null?void 0:c.init(qt(o.name));case"ROLLBACK":return na(C.state,y=>{if(i===void 0){d(y),c==null||c.init(a.getState());return}d(y[i]),c==null||c.init(qt(o.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return na(C.state,y=>{if(i===void 0){d(y);return}JSON.stringify(a.getState())!==JSON.stringify(y[i])&&d(y[i])});case"IMPORT_STATE":{const{nextLiftedState:y}=C.payload,B=(A=y.computedStates.slice(-1)[0])==null?void 0:A.state;if(!B)return;d(i===void 0?B:B[i]),c==null||c.send(null,y);return}case"PAUSE_RECORDING":return p=!p}return}}),m},ow=iw,na=(e,r)=>{let t;try{t=JSON.parse(e)}catch(n){console.error("[zustand devtools middleware] Could not parse the received json",n)}t!==void 0&&r(t)};function fw(e,r){let t;try{t=e()}catch{return}return{getItem:a=>{var u;const s=o=>o===null?null:JSON.parse(o,void 0),i=(u=t.getItem(a))!=null?u:null;return i instanceof Promise?i.then(s):s(i)},setItem:(a,u)=>t.setItem(a,JSON.stringify(u,void 0)),removeItem:a=>t.removeItem(a)}}const ht=e=>r=>{try{const t=e(r);return t instanceof Promise?t:{then(n){return ht(n)(t)},catch(n){return this}}}catch(t){return{then(n){return this},catch(n){return ht(n)(t)}}}},lw=(e,r)=>(t,n,a)=>{let u={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:A=>A,version:0,merge:(A,y)=>({...y,...A}),...r},s=!1;const i=new Set,o=new Set;let f;try{f=u.getStorage()}catch{}if(!f)return e((...A)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),t(...A)},n,a);const c=ht(u.serialize),g=()=>{const A=u.partialize({...n()});let y;const B=c({state:A,version:u.version}).then(P=>f.setItem(u.name,P)).catch(P=>{y=P});if(y)throw y;return B},p=a.setState;a.setState=(A,y)=>{p(A,y),g()};const d=e((...A)=>{t(...A),g()},n,a);let m;const C=()=>{var A;if(!f)return;s=!1,i.forEach(B=>B(n()));const y=((A=u.onRehydrateStorage)==null?void 0:A.call(u,n()))||void 0;return ht(f.getItem.bind(f))(u.name).then(B=>{if(B)return u.deserialize(B)}).then(B=>{if(B)if(typeof B.version=="number"&&B.version!==u.version){if(u.migrate)return u.migrate(B.state,B.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return B.state}).then(B=>{var P;return m=u.merge(B,(P=n())!=null?P:d),t(m,!0),g()}).then(()=>{y==null||y(m,void 0),s=!0,o.forEach(B=>B(m))}).catch(B=>{y==null||y(void 0,B)})};return a.persist={setOptions:A=>{u={...u,...A},A.getStorage&&(f=A.getStorage())},clearStorage:()=>{f==null||f.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>C(),hasHydrated:()=>s,onHydrate:A=>(i.add(A),()=>{i.delete(A)}),onFinishHydration:A=>(o.add(A),()=>{o.delete(A)})},C(),m||d},cw=(e,r)=>(t,n,a)=>{let u={storage:fw(()=>localStorage),partialize:C=>C,version:0,merge:(C,A)=>({...A,...C}),...r},s=!1;const i=new Set,o=new Set;let f=u.storage;if(!f)return e((...C)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),t(...C)},n,a);const c=()=>{const C=u.partialize({...n()});return f.setItem(u.name,{state:C,version:u.version})},g=a.setState;a.setState=(C,A)=>{g(C,A),c()};const p=e((...C)=>{t(...C),c()},n,a);a.getInitialState=()=>p;let d;const m=()=>{var C,A;if(!f)return;s=!1,i.forEach(B=>{var P;return B((P=n())!=null?P:p)});const y=((A=u.onRehydrateStorage)==null?void 0:A.call(u,(C=n())!=null?C:p))||void 0;return ht(f.getItem.bind(f))(u.name).then(B=>{if(B)if(typeof B.version=="number"&&B.version!==u.version){if(u.migrate)return[!0,u.migrate(B.state,B.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,B.state];return[!1,void 0]}).then(B=>{var P;const[N,w]=B;if(d=u.merge(w,(P=n())!=null?P:p),t(d,!0),N)return c()}).then(()=>{y==null||y(d,void 0),d=n(),s=!0,o.forEach(B=>B(d))}).catch(B=>{y==null||y(void 0,B)})};return a.persist={setOptions:C=>{u={...u,...C},C.storage&&(f=C.storage)},clearStorage:()=>{f==null||f.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>m(),hasHydrated:()=>s,onHydrate:C=>(i.add(C),()=>{i.delete(C)}),onFinishHydration:C=>(o.add(C),()=>{o.delete(C)})},u.skipHydration||m(),d||p},vw=(e,r)=>"getStorage"in r||"serialize"in r||"deserialize"in r?((Yt?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),lw(e,r)):cw(e,r),gw=vw;var of={exports:{}},ff={},lf={exports:{}},cf={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lr=rr;function hw(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var pw=typeof Object.is=="function"?Object.is:hw,Dw=Lr.useState,dw=Lr.useEffect,mw=Lr.useLayoutEffect,Cw=Lr.useDebugValue;function Aw(e,r){var t=r(),n=Dw({inst:{value:t,getSnapshot:r}}),a=n[0].inst,u=n[1];return mw(function(){a.value=t,a.getSnapshot=r,aa(a)&&u({inst:a})},[e,t,r]),dw(function(){return aa(a)&&u({inst:a}),e(function(){aa(a)&&u({inst:a})})},[e]),Cw(t),t}function aa(e){var r=e.getSnapshot;e=e.value;try{var t=r();return!pw(e,t)}catch{return!0}}function yw(e,r){return r()}var Bw=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?yw:Aw;cf.useSyncExternalStore=Lr.useSyncExternalStore!==void 0?Lr.useSyncExternalStore:Bw;lf.exports=cf;var vf=lf.exports;const T3=ze(vf);/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _n=rr,Ew=vf;function bw(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Fw=typeof Object.is=="function"?Object.is:bw,ww=Ew.useSyncExternalStore,Ow=_n.useRef,$w=_n.useEffect,Sw=_n.useMemo,Pw=_n.useDebugValue;ff.useSyncExternalStoreWithSelector=function(e,r,t,n,a){var u=Ow(null);if(u.current===null){var s={hasValue:!1,value:null};u.current=s}else s=u.current;u=Sw(function(){function o(d){if(!f){if(f=!0,c=d,d=n(d),a!==void 0&&s.hasValue){var m=s.value;if(a(m,d))return g=m}return g=d}if(m=g,Fw(c,d))return m;var C=n(d);return a!==void 0&&a(m,C)?m:(c=d,g=C)}var f=!1,c,g,p=t===void 0?null:t;return[function(){return o(r())},p===null?void 0:function(){return o(p())}]},[r,t,n,a]);var i=ww(e,u[0],u[1]);return $w(function(){s.hasValue=!0,s.value=i},[i]),Pw(i),i};of.exports=ff;var _w=of.exports;const Tw=ze(_w),xw={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Di=e=>{let r;const t=new Set,n=(c,g)=>{const p=typeof c=="function"?c(r):c;if(!Object.is(p,r)){const d=r;r=g??(typeof p!="object"||p===null)?p:Object.assign({},r,p),t.forEach(m=>m(r,d))}},a=()=>r,o={setState:n,getState:a,getInitialState:()=>f,subscribe:c=>(t.add(c),()=>t.delete(c)),destroy:()=>{(xw?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),t.clear()}},f=r=e(n,a,o);return o},Nw=e=>e?Di(e):Di,{useDebugValue:jw}=_l,{useSyncExternalStoreWithSelector:Rw}=Tw,Iw=e=>e;function Mw(e,r=Iw,t){const n=Rw(e.subscribe,e.getState,e.getServerState||e.getInitialState,r,t);return jw(n),n}var cn={exports:{}};cn.exports;(function(e,r){var t=200,n="Expected a function",a="__lodash_hash_undefined__",u=1,s=2,i=1/0,o=9007199254740991,f="[object Arguments]",c="[object Array]",g="[object Boolean]",p="[object Date]",d="[object Error]",m="[object Function]",C="[object GeneratorFunction]",A="[object Map]",y="[object Number]",B="[object Object]",P="[object Promise]",N="[object RegExp]",w="[object Set]",j="[object String]",F="[object Symbol]",I="[object WeakMap]",_="[object ArrayBuffer]",T="[object DataView]",z="[object Float32Array]",G="[object Float64Array]",ee="[object Int8Array]",J="[object Int16Array]",oe="[object Int32Array]",pe="[object Uint8Array]",De="[object Uint8ClampedArray]",de="[object Uint16Array]",re="[object Uint32Array]",ce=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xe=/^\w*$/,me=/^\./,Ne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qe=/[\\^$.*+?()[\]{}|]/g,K=/\\(\\)?/g,ae=/^\[object .+?Constructor\]$/,Ie=/^(?:0|[1-9]\d*)$/,V={};V[z]=V[G]=V[ee]=V[J]=V[oe]=V[pe]=V[De]=V[de]=V[re]=!0,V[f]=V[c]=V[_]=V[g]=V[T]=V[p]=V[d]=V[m]=V[A]=V[y]=V[B]=V[N]=V[w]=V[j]=V[I]=!1;var Ge=typeof gr=="object"&&gr&&gr.Object===Object&&gr,Dr=typeof self=="object"&&self&&self.Object===Object&&self,Ce=Ge||Dr||Function("return this")(),ir=r&&!r.nodeType&&r,Ve=ir&&!0&&e&&!e.nodeType&&e,fe=Ve&&Ve.exports===ir,$r=fe&&Ge.process,Bt=function(){try{return $r&&$r.binding("util")}catch{}}(),Et=Bt&&Bt.isTypedArray;function bt(l,h){for(var E=-1,$=l?l.length:0;++E<$;)if(h(l[E],E,l))return!0;return!1}function xn(l){return function(h){return h==null?void 0:h[l]}}function Zr(l,h){for(var E=-1,$=Array(l);++E<l;)$[E]=h(E);return $}function Xr(l){return function(h){return l(h)}}function or(l,h){return l==null?void 0:l[h]}function Sr(l){var h=!1;if(l!=null&&typeof l.toString!="function")try{h=!!(l+"")}catch{}return h}function Ft(l){var h=-1,E=Array(l.size);return l.forEach(function($,H){E[++h]=[H,$]}),E}function ke(l,h){return function(E){return l(h(E))}}function fr(l){var h=-1,E=Array(l.size);return l.forEach(function($){E[++h]=$}),E}var wt=Array.prototype,lr=Function.prototype,Je=Object.prototype,Pr=Ce["__core-js_shared__"],Me=function(){var l=/[^.]+$/.exec(Pr&&Pr.keys&&Pr.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),Ot=lr.toString,je=Je.hasOwnProperty,Le=Je.toString,Nn=RegExp("^"+Ot.call(je).replace(qe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$t=Ce.Symbol,St=Ce.Uint8Array,jn=Je.propertyIsEnumerable,Rn=wt.splice,In=ke(Object.keys,Object),Mn=_r(Ce,"DataView"),Qr=_r(Ce,"Map"),Ln=_r(Ce,"Promise"),Hn=_r(Ce,"Set"),zn=_r(Ce,"WeakMap"),et=_r(Object,"create"),wf=mr(Mn),Of=mr(Qr),$f=mr(Ln),Sf=mr(Hn),Pf=mr(zn),Pt=$t?$t.prototype:void 0,Kn=Pt?Pt.valueOf:void 0,du=Pt?Pt.toString:void 0;function dr(l){var h=-1,E=l?l.length:0;for(this.clear();++h<E;){var $=l[h];this.set($[0],$[1])}}function _f(){this.__data__=et?et(null):{}}function Tf(l){return this.has(l)&&delete this.__data__[l]}function xf(l){var h=this.__data__;if(et){var E=h[l];return E===a?void 0:E}return je.call(h,l)?h[l]:void 0}function Nf(l){var h=this.__data__;return et?h[l]!==void 0:je.call(h,l)}function jf(l,h){var E=this.__data__;return E[l]=et&&h===void 0?a:h,this}dr.prototype.clear=_f,dr.prototype.delete=Tf,dr.prototype.get=xf,dr.prototype.has=Nf,dr.prototype.set=jf;function Ye(l){var h=-1,E=l?l.length:0;for(this.clear();++h<E;){var $=l[h];this.set($[0],$[1])}}function Rf(){this.__data__=[]}function If(l){var h=this.__data__,E=Tt(h,l);if(E<0)return!1;var $=h.length-1;return E==$?h.pop():Rn.call(h,E,1),!0}function Mf(l){var h=this.__data__,E=Tt(h,l);return E<0?void 0:h[E][1]}function Lf(l){return Tt(this.__data__,l)>-1}function Hf(l,h){var E=this.__data__,$=Tt(E,l);return $<0?E.push([l,h]):E[$][1]=h,this}Ye.prototype.clear=Rf,Ye.prototype.delete=If,Ye.prototype.get=Mf,Ye.prototype.has=Lf,Ye.prototype.set=Hf;function Ze(l){var h=-1,E=l?l.length:0;for(this.clear();++h<E;){var $=l[h];this.set($[0],$[1])}}function zf(){this.__data__={hash:new dr,map:new(Qr||Ye),string:new dr}}function Kf(l){return xt(this,l).delete(l)}function Wf(l){return xt(this,l).get(l)}function Uf(l){return xt(this,l).has(l)}function qf(l,h){return xt(this,l).set(l,h),this}Ze.prototype.clear=zf,Ze.prototype.delete=Kf,Ze.prototype.get=Wf,Ze.prototype.has=Uf,Ze.prototype.set=qf;function _t(l){var h=-1,E=l?l.length:0;for(this.__data__=new Ze;++h<E;)this.add(l[h])}function Gf(l){return this.__data__.set(l,a),this}function Vf(l){return this.__data__.has(l)}_t.prototype.add=_t.prototype.push=Gf,_t.prototype.has=Vf;function Xe(l){this.__data__=new Ye(l)}function kf(){this.__data__=new Ye}function Jf(l){return this.__data__.delete(l)}function Yf(l){return this.__data__.get(l)}function Zf(l){return this.__data__.has(l)}function Xf(l,h){var E=this.__data__;if(E instanceof Ye){var $=E.__data__;if(!Qr||$.length<t-1)return $.push([l,h]),this;E=this.__data__=new Ze($)}return E.set(l,h),this}Xe.prototype.clear=kf,Xe.prototype.delete=Jf,Xe.prototype.get=Yf,Xe.prototype.has=Zf,Xe.prototype.set=Xf;function Qf(l,h){var E=Cr(l)||Fu(l)?Zr(l.length,String):[],$=E.length,H=!!$;for(var R in l)je.call(l,R)&&!(H&&(R=="length"||yu(R,$)))&&E.push(R);return E}function Tt(l,h){for(var E=l.length;E--;)if(bu(l[E][0],h))return E;return-1}var el=hl();function rl(l,h){return l&&el(l,h,Mt)}function mu(l,h){h=Nt(h,l)?[h]:Cu(h);for(var E=0,$=h.length;l!=null&&E<$;)l=l[jt(h[E++])];return E&&E==$?l:void 0}function tl(l){return Le.call(l)}function nl(l,h){return l!=null&&h in Object(l)}function Wn(l,h,E,$,H){return l===h?!0:l==null||h==null||!Rt(l)&&!It(h)?l!==l&&h!==h:al(l,h,Wn,E,$,H)}function al(l,h,E,$,H,R){var W=Cr(l),ue=Cr(h),te=c,le=c;W||(te=cr(l),te=te==f?B:te),ue||(le=cr(h),le=le==f?B:le);var Ae=te==B&&!Sr(l),ye=le==B&&!Sr(h),ve=te==le;if(ve&&!Ae)return R||(R=new Xe),W||bl(l)?Au(l,h,E,$,H,R):pl(l,h,te,E,$,H,R);if(!(H&s)){var we=Ae&&je.call(l,"__wrapped__"),Oe=ye&&je.call(h,"__wrapped__");if(we||Oe){var vr=we?l.value():l,Qe=Oe?h.value():h;return R||(R=new Xe),E(vr,Qe,$,H,R)}}return ve?(R||(R=new Xe),Dl(l,h,E,$,H,R)):!1}function ul(l,h,E,$){var H=E.length,R=H;if(l==null)return!R;for(l=Object(l);H--;){var W=E[H];if(W[2]?W[1]!==l[W[0]]:!(W[0]in l))return!1}for(;++H<R;){W=E[H];var ue=W[0],te=l[ue],le=W[1];if(W[2]){if(te===void 0&&!(ue in l))return!1}else{var Ae=new Xe,ye;if(!(ye===void 0?Wn(le,te,$,u|s,Ae):ye))return!1}}return!0}function sl(l){if(!Rt(l)||Al(l))return!1;var h=Ou(l)||Sr(l)?Nn:ae;return h.test(mr(l))}function il(l){return It(l)&&qn(l.length)&&!!V[Le.call(l)]}function ol(l){return typeof l=="function"?l:l==null?Sl:typeof l=="object"?Cr(l)?cl(l[0],l[1]):ll(l):Pl(l)}function fl(l){if(!yl(l))return In(l);var h=[];for(var E in Object(l))je.call(l,E)&&E!="constructor"&&h.push(E);return h}function ll(l){var h=dl(l);return h.length==1&&h[0][2]?Eu(h[0][0],h[0][1]):function(E){return E===l||ul(E,l,h)}}function cl(l,h){return Nt(l)&&Bu(h)?Eu(jt(l),h):function(E){var $=wl(E,l);return $===void 0&&$===h?Ol(E,l):Wn(h,$,void 0,u|s)}}function vl(l){return function(h){return mu(h,l)}}function gl(l){if(typeof l=="string")return l;if(Gn(l))return du?du.call(l):"";var h=l+"";return h=="0"&&1/l==-i?"-0":h}function Cu(l){return Cr(l)?l:Bl(l)}function hl(l){return function(h,E,$){for(var H=-1,R=Object(h),W=$(h),ue=W.length;ue--;){var te=W[++H];if(E(R[te],te,R)===!1)break}return h}}function Au(l,h,E,$,H,R){var W=H&s,ue=l.length,te=h.length;if(ue!=te&&!(W&&te>ue))return!1;var le=R.get(l);if(le&&R.get(h))return le==h;var Ae=-1,ye=!0,ve=H&u?new _t:void 0;for(R.set(l,h),R.set(h,l);++Ae<ue;){var we=l[Ae],Oe=h[Ae];if($)var vr=W?$(Oe,we,Ae,h,l,R):$(we,Oe,Ae,l,h,R);if(vr!==void 0){if(vr)continue;ye=!1;break}if(ve){if(!bt(h,function(Qe,Ar){if(!ve.has(Ar)&&(we===Qe||E(we,Qe,$,H,R)))return ve.add(Ar)})){ye=!1;break}}else if(!(we===Oe||E(we,Oe,$,H,R))){ye=!1;break}}return R.delete(l),R.delete(h),ye}function pl(l,h,E,$,H,R,W){switch(E){case T:if(l.byteLength!=h.byteLength||l.byteOffset!=h.byteOffset)return!1;l=l.buffer,h=h.buffer;case _:return!(l.byteLength!=h.byteLength||!$(new St(l),new St(h)));case g:case p:case y:return bu(+l,+h);case d:return l.name==h.name&&l.message==h.message;case N:case j:return l==h+"";case A:var ue=Ft;case w:var te=R&s;if(ue||(ue=fr),l.size!=h.size&&!te)return!1;var le=W.get(l);if(le)return le==h;R|=u,W.set(l,h);var Ae=Au(ue(l),ue(h),$,H,R,W);return W.delete(l),Ae;case F:if(Kn)return Kn.call(l)==Kn.call(h)}return!1}function Dl(l,h,E,$,H,R){var W=H&s,ue=Mt(l),te=ue.length,le=Mt(h),Ae=le.length;if(te!=Ae&&!W)return!1;for(var ye=te;ye--;){var ve=ue[ye];if(!(W?ve in h:je.call(h,ve)))return!1}var we=R.get(l);if(we&&R.get(h))return we==h;var Oe=!0;R.set(l,h),R.set(h,l);for(var vr=W;++ye<te;){ve=ue[ye];var Qe=l[ve],Ar=h[ve];if($)var $u=W?$(Ar,Qe,ve,h,l,R):$(Qe,Ar,ve,l,h,R);if(!($u===void 0?Qe===Ar||E(Qe,Ar,$,H,R):$u)){Oe=!1;break}vr||(vr=ve=="constructor")}if(Oe&&!vr){var Lt=l.constructor,Ht=h.constructor;Lt!=Ht&&"constructor"in l&&"constructor"in h&&!(typeof Lt=="function"&&Lt instanceof Lt&&typeof Ht=="function"&&Ht instanceof Ht)&&(Oe=!1)}return R.delete(l),R.delete(h),Oe}function xt(l,h){var E=l.__data__;return Cl(h)?E[typeof h=="string"?"string":"hash"]:E.map}function dl(l){for(var h=Mt(l),E=h.length;E--;){var $=h[E],H=l[$];h[E]=[$,H,Bu(H)]}return h}function _r(l,h){var E=or(l,h);return sl(E)?E:void 0}var cr=tl;(Mn&&cr(new Mn(new ArrayBuffer(1)))!=T||Qr&&cr(new Qr)!=A||Ln&&cr(Ln.resolve())!=P||Hn&&cr(new Hn)!=w||zn&&cr(new zn)!=I)&&(cr=function(l){var h=Le.call(l),E=h==B?l.constructor:void 0,$=E?mr(E):void 0;if($)switch($){case wf:return T;case Of:return A;case $f:return P;case Sf:return w;case Pf:return I}return h});function ml(l,h,E){h=Nt(h,l)?[h]:Cu(h);for(var $,H=-1,W=h.length;++H<W;){var R=jt(h[H]);if(!($=l!=null&&E(l,R)))break;l=l[R]}if($)return $;var W=l?l.length:0;return!!W&&qn(W)&&yu(R,W)&&(Cr(l)||Fu(l))}function yu(l,h){return h=h??o,!!h&&(typeof l=="number"||Ie.test(l))&&l>-1&&l%1==0&&l<h}function Nt(l,h){if(Cr(l))return!1;var E=typeof l;return E=="number"||E=="symbol"||E=="boolean"||l==null||Gn(l)?!0:xe.test(l)||!ce.test(l)||h!=null&&l in Object(h)}function Cl(l){var h=typeof l;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?l!=="__proto__":l===null}function Al(l){return!!Me&&Me in l}function yl(l){var h=l&&l.constructor,E=typeof h=="function"&&h.prototype||Je;return l===E}function Bu(l){return l===l&&!Rt(l)}function Eu(l,h){return function(E){return E==null?!1:E[l]===h&&(h!==void 0||l in Object(E))}}var Bl=Un(function(l){l=Fl(l);var h=[];return me.test(l)&&h.push(""),l.replace(Ne,function(E,$,H,R){h.push(H?R.replace(K,"$1"):$||E)}),h});function jt(l){if(typeof l=="string"||Gn(l))return l;var h=l+"";return h=="0"&&1/l==-i?"-0":h}function mr(l){if(l!=null){try{return Ot.call(l)}catch{}try{return l+""}catch{}}return""}function Un(l,h){if(typeof l!="function"||h&&typeof h!="function")throw new TypeError(n);var E=function(){var $=arguments,H=h?h.apply(this,$):$[0],R=E.cache;if(R.has(H))return R.get(H);var W=l.apply(this,$);return E.cache=R.set(H,W),W};return E.cache=new(Un.Cache||Ze),E}Un.Cache=Ze;function bu(l,h){return l===h||l!==l&&h!==h}function Fu(l){return El(l)&&je.call(l,"callee")&&(!jn.call(l,"callee")||Le.call(l)==f)}var Cr=Array.isArray;function wu(l){return l!=null&&qn(l.length)&&!Ou(l)}function El(l){return It(l)&&wu(l)}function Ou(l){var h=Rt(l)?Le.call(l):"";return h==m||h==C}function qn(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=o}function Rt(l){var h=typeof l;return!!l&&(h=="object"||h=="function")}function It(l){return!!l&&typeof l=="object"}function Gn(l){return typeof l=="symbol"||It(l)&&Le.call(l)==F}var bl=Et?Xr(Et):il;function Fl(l){return l==null?"":gl(l)}function wl(l,h,E){var $=l==null?void 0:mu(l,h);return $===void 0?E:$}function Ol(l,h){return l!=null&&ml(l,h,nl)}function Mt(l){return wu(l)?Qf(l):fl(l)}function $l(l,h){var E={};return h=ol(h),rl(l,function($,H,R){E[H]=h($,H,R)}),E}function Sl(l){return l}function Pl(l){return Nt(l)?xn(jt(l)):vl(l)}e.exports=$l})(cn,cn.exports);cn.exports;var Lw=Object.defineProperty,Hw=Object.defineProperties,zw=Object.getOwnPropertyDescriptors,di=Object.getOwnPropertySymbols,Kw=Object.prototype.hasOwnProperty,Ww=Object.prototype.propertyIsEnumerable,mi=(e,r,t)=>r in e?Lw(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,Pe=(e,r)=>{for(var t in r||(r={}))Kw.call(r,t)&&mi(e,t,r[t]);if(di)for(var t of di(r))Ww.call(r,t)&&mi(e,t,r[t]);return e},pt=(e,r)=>Hw(e,zw(r)),Uw=e=>(r,t,n)=>{const a=(u,s)=>r(dn(u),!0,s);return n.setState=a,e(a,t,n)},qw=(e,r)=>{const t={};return Object.keys(e.getState()).forEach(n=>{t[n]=a=>{if(e.getState()[n]===a)return;const s=n.replace(/^\S/,i=>i.toUpperCase());e.setState(i=>{i[n]=a},`@@${r}/set${s}`)}}),t},Gw=e=>{const r={};return Object.keys(e.getState()).forEach(t=>{r[t]=()=>e.getState()[t]}),r},Vw=(e,r)=>{const t={};return Object.keys(r.getState()).forEach(n=>{t[n]=a=>e(u=>u[n],a)}),t},kw=(e,r)=>{const t={};return Object.keys(r.getState()).forEach(n=>{t[n]=()=>e()[n]}),t};function Jw(e,...r){return r.reduce((t,n)=>n(t),e)}var Yw=(e,r)=>{const t=e(r.set,r.get,r);return pt(Pe({},r),{set:Pe(Pe({},r.set),t)})},Zw=(e,r)=>{const t=Pe({},r.use),n=Pe({},r.useTracked),a=Pe({},r.get);return Object.keys(e(r.store.getState(),r.get,r)).forEach(u=>{t[u]=(...s)=>r.useStore(i=>{const f=e(i,r.get,r)[u];return f(...s)}),n[u]=(...s)=>{const i=r.useTrackedStore(),f=e(i,r.get,r)[u];return f(...s)},a[u]=(...s)=>{const o=e(r.store.getState(),r.get,r)[u];return o(...s)}}),pt(Pe({},r),{get:a,use:t,useTracked:n})},wa=e=>pt(Pe({},e),{extendSelectors:r=>wa(Zw(r,e)),extendActions:r=>wa(Yw(r,e))}),Xw=e=>(r,t={})=>{var n,a;const{middlewares:u=[],devtools:s,persist:i,immer:o}=t;Wl((n=o==null?void 0:o.enabledAutoFreeze)!=null?n:!1),o!=null&&o.enableMapSet&&Kl();const f=[Uw,...u];if(i!=null&&i.enabled){const w=pt(Pe({},i),{name:(a=i.name)!=null?a:e});f.push(j=>gw(j,w))}s!=null&&s.enabled&&f.push(w=>ow(w,pt(Pe({},s),{name:e}))),f.push(Nw);const g=(w=>Jw(w,...f))(()=>r),p=(w,j)=>Mw(g,w,j),d=qw(g,e),m=(w,j)=>{g.setState(F=>{Object.assign(F,w)},j||`@@${e}/mergeState`)},C=(w,j)=>{g.setState(w,j||`@@${e}/setState`)},A=Vw(p,g),y=Gw(g),B=uw(p),P=kw(B,g),N={get:Pe({state:g.getState},y),name:e,set:Pe({state:C,mergeState:m},d),store:g,use:A,useTracked:P,useStore:p,useTrackedStore:B,extendSelectors:()=>N,extendActions:()=>N};return wa(N)},x3=Xw,Qw=Qa,Ci=Ue;function gf(e,r,t,n,a,u){return Ci(e)&&Ci(r)&&(u.set(r,e),Qw(e,r,void 0,gf,u),u.delete(r)),e}var e2=gf,r2=Eo,t2=ru,n2=e2,a2=wo;t2(function(e){return e.push(void 0,n2),r2(a2,void 0,e)});let N3=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((r,t)=>(t&=63,t<36?r+=t.toString(36):t<62?r+=(t-26).toString(36).toUpperCase():t>62?r+="-":r+="_",r),"");var u2=Object.defineProperty,s2=Object.defineProperties,i2=Object.getOwnPropertyDescriptors,vn=Object.getOwnPropertySymbols,hf=Object.prototype.hasOwnProperty,pf=Object.prototype.propertyIsEnumerable,Ai=(e,r,t)=>r in e?u2(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,q=(e,r)=>{for(var t in r||(r={}))hf.call(r,t)&&Ai(e,t,r[t]);if(vn)for(var t of vn(r))pf.call(r,t)&&Ai(e,t,r[t]);return e},ge=(e,r)=>s2(e,i2(r)),Df=(e,r)=>{var t={};for(var n in e)hf.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&vn)for(var n of vn(e))r.indexOf(n)<0&&pf.call(e,n)&&(t[n]=e[n]);return t};function ua(e,...r){return Ym({},e,...r,(t,n,a)=>{if(Array.isArray(n))return n;if(a==="options")return q(q({},t),n)})}function Tr(e){return typeof e=="function"}function ne(e={}){var r;let t,n;Tr(e)?(t={key:""},n=s=>e(s)):t=e;const a=(r=t.key)!=null?r:"",u=ua({key:a,__apiExtensions:[],__configuration:null,__extensions:n?[n]:[],__optionExtensions:[],api:{},dependencies:[],editor:{},inject:{},node:{type:a},options:{},override:{},parser:{},parsers:{},plugins:[],priority:100,render:{},shortcuts:{},transforms:{},handlers:{}},e);return u.configure=s=>{const i=q({},u);return i.__configuration=o=>Tr(s)?s(o):s,ne(i)},u.configurePlugin=(s,i)=>{const o=q({},u),f=g=>{let p=!1;const d=g.map(m=>{if(m.key===s.key)return p=!0,ne(ge(q({},m),{__configuration:C=>Tr(i)?i(C):i}));if(m.plugins&&m.plugins.length>0){const C=f(m.plugins);if(C.found)return p=!0,ge(q({},m),{plugins:C.plugins})}return m});return{found:p,plugins:d}},c=f(o.plugins);return o.plugins=c.plugins,ne(o)},u.extendEditorApi=s=>{const i=q({},u);return i.__apiExtensions=[...i.__apiExtensions,{extension:s,isPluginSpecific:!1}],ne(i)},u.extendOptions=s=>{const i=q({},u);return i.__optionExtensions=[...i.__optionExtensions,s],ne(i)},u.extendApi=s=>{const i=q({},u);return i.__apiExtensions=[...i.__apiExtensions,{extension:s,isPluginSpecific:!0}],ne(i)},u.extendEditorTransforms=s=>{const i=q({},u);return i.__apiExtensions=[...i.__apiExtensions,{extension:s,isPluginSpecific:!1,isTransform:!0}],ne(i)},u.extendTransforms=s=>{const i=q({},u);return i.__apiExtensions=[...i.__apiExtensions,{extension:s,isPluginSpecific:!0,isTransform:!0}],ne(i)},u.extend=s=>{let i=q({},u);return Tr(s)?i.__extensions=[...i.__extensions,s]:i=ua(i,s),ne(i)},u.clone=()=>ua(u),u.extendPlugin=(s,i)=>{const o=q({},u),f=g=>{let p=!1;const d=g.map(m=>{if(m.key===s.key)return p=!0,ne(ge(q({},m),{__extensions:[...m.__extensions,C=>Tr(i)?i(C):i]}));if(m.plugins&&m.plugins.length>0){const C=f(m.plugins);if(C.found)return p=!0,ge(q({},m),{plugins:C.plugins})}return m});return{found:p,plugins:d}},c=f(o.plugins);return o.plugins=c.plugins,c.found||o.plugins.push(ne({key:s.key,__extensions:[g=>Tr(i)?i(g):i]})),ne(o)},u}function cu(e={}){return ne(e)}var vu=({apply:e,node:r,path:t=[],query:n,source:a})=>{no([r,t],n)&&(a instanceof Function?e(r,a()):e(r,a)),Ma(r)&&r.children.forEach((s,i)=>{vu({apply:e,node:s,path:t.concat([i]),query:n,source:a})})},df=(e,r)=>{const t=[];return[...e.pluginList].reverse().forEach(n=>{var a;const u=(a=n.inject.plugins)==null?void 0:a[r.key];u&&t.push(u)}),[r,...t]},j3=(e,r)=>{var t;const n=Object.values(e.plugins).find(a=>a.node.type===r);return(t=n==null?void 0:n.key)!=null?t:r},o2={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",insertSoftBreak:"shift+enter",italic:"mod+i",moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",splitBlock:"enter",tab:"tab",undo:"mod+z",untab:"shift+tab"},f2={deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},l2={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},Q=e=>{const r=o2[e],t=f2[e],n=l2[e],a=r&&ea(r),u=t&&ea(t),s=n&&ea(n);return i=>!!(a!=null&&a(i)||Is&&(u!=null&&u(i))||!Is&&(s!=null&&s(i)))},R3={isBold:Q("bold"),isCompose:Q("compose"),isDeleteBackward:Q("deleteBackward"),isDeleteForward:Q("deleteForward"),isDeleteLineBackward:Q("deleteLineBackward"),isDeleteLineForward:Q("deleteLineForward"),isDeleteWordBackward:Q("deleteWordBackward"),isDeleteWordForward:Q("deleteWordForward"),isExtendBackward:Q("extendBackward"),isExtendForward:Q("extendForward"),isExtendLineBackward:Q("extendLineBackward"),isExtendLineForward:Q("extendLineForward"),isItalic:Q("italic"),isMoveBackward:Q("moveBackward"),isMoveForward:Q("moveForward"),isMoveLineBackward:Q("moveLineBackward"),isMoveLineForward:Q("moveLineForward"),isMoveWordBackward:Q("moveWordBackward"),isMoveWordForward:Q("moveWordForward"),isRedo:Q("redo"),isSoftBreak:Q("insertSoftBreak"),isSplitBlock:Q("splitBlock"),isTransposeCharacter:Q("transposeCharacter"),isUndo:Q("undo")},c2=e=>{vu(ge(q({},e),{apply:v1}))};function pr(e,r){const t=e.getPlugin(r);return{api:e.api,editor:e,getOption:(n,...a)=>e.getOption(t,n,...a),getOptions:()=>e.getOptions(t),plugin:t,setOption:(n,a)=>e.setOption(t,n,a),setOptions:n=>e.setOptions(t,n),tf:e.transforms,type:t.node.type}}ne({key:"ast",parser:{deserialize:({data:e})=>{const r=decodeURIComponent(window.atob(e));let t;try{t=JSON.parse(r)}catch{}return t},format:"application/x-slate-fragment"}});ne({key:"dom"});var v2=({editor:e})=>yg(e);ne({key:"history",extendEditor:v2});var g2=({editor:e})=>{const{isInline:r,isVoid:t,markableVoid:n}=e,a=[],u=[],s=[];return e.pluginList.forEach(i=>{i.node.isInline&&u.push(i.node.type),i.node.isVoid&&a.push(i.node.type),i.node.isMarkableVoid&&s.push(i.node.type)}),e.isInline=i=>u.includes(i.type)?!0:r(i),e.isVoid=i=>a.includes(i.type)?!0:t(i),e.markableVoid=i=>s.includes(i.type)?!0:n(i),e};ne({key:"inlineVoid",extendEditor:g2});var h2=({editor:e})=>{const{insertData:r}=e;return e.insertData=t=>{[...e.pluginList].reverse().some(a=>{const u=a.parser;if(!u)return!1;const s=df(e,a),{deserialize:i,format:o,mimeTypes:f}=u;if(!o)return!1;const c=Array.isArray(o)?o:[o],g=f||c.map(p=>p.includes("/")?p:`text/${p}`);for(const p of g){let d=t.getData(p);if(!d||!iO(e,s,{data:d,dataTransfer:t}))continue;d=fO(e,s,{data:d,dataTransfer:t});let m=i==null?void 0:i(ge(q({},pr(e,a)),{data:d,dataTransfer:t}));if(m!=null&&m.length&&(m=lO(e,s,{data:d,dataTransfer:t,fragment:m}),m.length!==0))return oO(e,s,{data:d,dataTransfer:t,fragment:m}),!0}return!1})||r(t)},e};ne({key:"parser",extendEditor:h2});var p2=class extends Error{constructor(e,r="DEFAULT"){super(`[${r}] ${e}`),this.type=r,this.name="PlateError"}};cu({key:"debug",options:{isProduction:!0,logLevel:"error",logger:{error:(e,r,t)=>console.error(`${r?`[${r}] `:""}${e}`,t),info:(e,r,t)=>console.info(`${r?`[${r}] `:""}${e}`,t),log:(e,r,t)=>console.log(`${r?`[${r}] `:""}${e}`,t),warn:(e,r,t)=>console.warn(`${r?`[${r}] `:""}${e}`,t)},throwErrors:!0}}).extendEditorApi(({getOptions:e})=>{const r=["error","warn","info","log"],t=(n,a,u,s)=>{var i,o;const f=e();if(!(f.isProduction&&n==="log")&&r.indexOf(n)<=r.indexOf(f.logLevel)){if(n==="error"&&f.throwErrors)throw a instanceof Error?a:new p2(a,u);(o=(i=f.logger)[n])==null||o.call(i,a,u,s)}};return{debug:{error:(n,a,u)=>t("error",n,a,u),info:(n,a,u)=>t("info",n,a,u),log:(n,a,u)=>t("log",n,a,u),warn:(n,a,u)=>t("warn",n,a,u)}}});var D2=(e,r)=>{Yo(e,q({at:[],nodes:e.api.create.value()},r))},d2=e=>{D2(e),e.history.undos=[],e.history.redos=[],e.operations=[]},m2=(e,r,t)=>{var n;const{defaultType:a=e.getType(gu),type:u}=r,s=(n=t==null?void 0:t.at)!=null?n:e.selection;if(!u||!s)return;const i=Tg(e,ge(q({},t),{match:{type:u}}));i&&u===a||e.setNodes({type:i?a:u},{at:s})},gu=ne({key:"p",node:{isElement:!0},parsers:{html:{deserializer:{query:({element:e})=>e.style.fontFamily!=="Consolas",rules:[{validNodeName:"P"}]}}}}),C2=({editor:e})=>{const{apply:r,deleteBackward:t,deleteForward:n,deleteFragment:a}=e;e.prevSelection=null,e.currentKeyboardEvent=null;const u=()=>{Jo(e)&&tE(e)};return e.deleteBackward=s=>{t(s),u()},e.deleteForward=s=>{n(s),u()},e.deleteFragment=s=>{a(s),u()},e.apply=s=>{if(s.type==="set_selection"){const{properties:i}=s;e.prevSelection=i,r(s),e.currentKeyboardEvent=null;return}r(s)},e};cu({key:"slateNext",extendEditor:C2}).extendEditorApi(({editor:e})=>({create:{block:(r,t)=>q({children:[{text:""}],type:e.getType(gu)},r)}})).extendEditorApi(({api:e})=>({create:{value:()=>[e.create.block()]}})).extendEditorTransforms(({editor:e})=>({reset:()=>{d2(e)},setValue:r=>{let t=r;typeof r=="string"?t=e.api.html.deserialize({element:r}):(!r||r.length===0)&&(t=e.api.create.value()),Yo(e,{at:[],nodes:t})},toggle:{block:pa(m2,e),mark:pa(nE,e)}}));var sa="\r",at=`
`,yi=" ",xr=" ",I3="	",A2="​",yt=e=>e.nodeType===Node.ELEMENT_NODE,Tn=(e,r)=>{if(!r(e))return;let n=e.firstChild;for(;n;){const a=n,u=n.previousSibling;n=n.nextSibling,Tn(a,r),!a.previousSibling&&!a.nextSibling&&!a.parentNode&&n&&u!==n.previousSibling&&n.parentNode?n=u?u.nextSibling:e.firstChild:!a.previousSibling&&!a.nextSibling&&!a.parentNode&&n&&!n.previousSibling&&!n.nextSibling&&!n.parentNode&&(u?n=u.nextSibling?u.nextSibling.nextSibling:null:e.firstChild&&(n=e.firstChild.nextSibling))}},Yr=(e,r)=>{Tn(e,t=>yt(t)?r(t):!0)},M3=e=>{Yr(e,r=>{if(r.tagName!=="BR")return!0;const t=document.createTextNode(at);return r.parentElement&&r.parentElement.replaceChild(t,r),!1})},y2=e=>e.replaceAll(/\r\n|\r/g,`
`),B2=new Set(["BR","IMG","TD","TH"]),E2=e=>!B2.has(e.nodeName)&&!e.innerHTML.trim(),mf=e=>{if(E2(e)){const{parentElement:r}=e;e.remove(),r&&mf(r)}},L3=e=>{Yr(e,r=>(mf(r),!0))},b2=(e,r)=>{const t=document.createElement(r);t.innerHTML=e.innerHTML;for(const{name:n}of e.attributes){const a=e.getAttribute(n);a&&t.setAttribute(n,a)}return e.parentNode&&e.parentNode.replaceChild(t,e),t},H3=e=>{Yr(e,r=>(r.tagName==="FONT"&&(r.textContent?b2(r,"span"):r.remove()),!0))},F2=e=>e.startsWith("#"),Bi=e=>{e.outerHTML=e.innerHTML},z3=e=>{Yr(e,r=>{if(r.tagName!=="A")return!0;const t=r.getAttribute("href");if((!t||F2(t))&&Bi(r),t&&r.querySelector("img"))for(const n of r.querySelectorAll("span"))n.textContent||Bi(n);return!0})},hu=e=>e.nodeType===Node.TEXT_NODE,w2=(e,r)=>{Tn(e,t=>hu(t)?r(t):!0)},K3=e=>{w2(e,r=>{if(/^\n\s*$/.test(r.data)&&(r.previousElementSibling||r.nextElementSibling))return r.remove(),!0;if(r.data=r.data.replaceAll(/\n\s*/g,`
`),r.data.includes(sa)||r.data.includes(at)||r.data.includes(yi)){const t=r.data.includes(xr),n=/\S/.test(r.data),a=r.data.includes(at);if(!(t||n)&&!a)return r.data===yi?(r.data=xr,!0):(r.remove(),!0);if(r.previousSibling&&r.previousSibling.nodeName==="BR"&&r.parentElement){r.previousSibling.remove();const u=/^[\n\r]+/.exec(r.data),s=u?u[0].length:0;r.data=r.data.slice(Math.max(0,s)).replaceAll(new RegExp(at,"g"),xr).replaceAll(new RegExp(sa,"g"),xr),r.data=`
${r.data}`}else r.data=r.data.replaceAll(new RegExp(at,"g"),xr).replaceAll(new RegExp(sa,"g"),xr)}return!0})},O2=new Set(["A","ABBR","ACRONYM","B","BDI","BDO","BIG","BR","BUTTON","CANVAS","CITE","CODE","CONTENT","DATA","DEL","DFN","EM","EMBED","FONT","I","IFRAME","IMG","IMG","INPUT","INS","KBD","LABEL","MAP","MARK","MARQUEE","MENUITEM","METER","NOBR","OBJECT","OUTPUT","PICTURE","PORTAL","PROGRESS","Q","S","SAMP","SELECT","SHADOW","SMALL","SOURCE","SPAN","STRIKE","STRONG","SUB","SUP","TEXTAREA","TIME","TRACK","TT","U","VAR","VIDEO","WBR","math","svg"]),pu=e=>{if(!yt(e))return!1;const r=e,t=O2.has(r.tagName),n=r.style.display.split(" ")[0];return n===""?t:n.startsWith("inline")?!0:n==="inherit"&&r.parentElement?pu(r.parentElement):["contents","initial","none","revert","revert-layer","unset"].includes(n)?t:!1},Oa=e=>yt(e)?!pu(e):!1,$2=e=>e.nodeName==="TABLE",W3=e=>{Yr(e,r=>{const t=r;if(!r.getAttribute("style"))return!0;if(Oa(t)&&!$2(t)){const{style:{backgroundColor:a,color:u,fontFamily:s,fontSize:i,fontStyle:o,fontWeight:f,textDecoration:c}}=t;if(a||u||s||i||o||f||c){const g=document.createElement("span");["inherit","initial"].includes(u)||(g.style.color=u),g.style.fontFamily=s,g.style.fontSize=i,["inherit","initial","normal"].includes(u)||(g.style.fontStyle=o),[400,"normal"].includes(f)||(g.style.fontWeight=f),g.style.textDecoration=c,g.innerHTML=t.innerHTML,r.innerHTML=g.outerHTML}}return!0})},S2=(e,{shouldCollapseWhiteSpace:r=!0,trimEnd:t="collapse",trimStart:n="collapse",whiteSpaceIncludesNewlines:a=!0}={})=>(n==="all"&&(e=e.replace(/^\s+/,"")),t==="single-newline"&&(e=e.replace(/\n$/,"")),r&&(a?e=e.replaceAll(/\s+/g," "):(e=e.replaceAll(/[^\S\n\r]+/g," "),e=e.replaceAll(/^[^\S\n\r]+/gm,""),e=e.replaceAll(/[^\S\n\r]+$/gm,""))),e),P2=e=>{let r=e;for(;;){if(r.nextSibling)r=r.nextSibling;else{if(r=r.parentElement,r&&Oa(r))return!0;r=(r==null?void 0:r.nextSibling)||null}if(!r||Oa(r))return!0;if((r.textContent||"").length>0)return!1}},_2=e=>{e.inlineFormattingContext?e.inlineFormattingContext.atStart=!1:e.inlineFormattingContext={atStart:!0,lastHasTrailingWhiteSpace:!1}},Ei=e=>{e.inlineFormattingContext=null},T2=(e,r)=>{const t=e.textContent||"",n=t.trim()==="";(r.inlineFormattingContext||!n)&&_2(r);const{whiteSpaceRule:a}=r,u=a!=="normal"?"collapse":!r.inlineFormattingContext||r.inlineFormattingContext.atStart||r.inlineFormattingContext.lastHasTrailingWhiteSpace?"all":"collapse",s=a==="normal"?"collapse":P2(e)?"single-newline":"collapse",i={normal:!0,pre:!1,"pre-line":!0}[a],f=S2(t||"",{shouldCollapseWhiteSpace:i,trimEnd:s,trimStart:u,whiteSpaceIncludesNewlines:a!=="pre-line"});r.inlineFormattingContext&&i&&(r.inlineFormattingContext.lastHasTrailingWhiteSpace=f.endsWith(" ")),e.textContent=f},x2=(e,r)=>{if(yt(e)){Af(e,r);return}if(hu(e)){T2(e,r);return}Cf(e,r)},Cf=(e,r)=>{const t=Array.from(e.childNodes);for(const n of t)x2(n,r)},N2=e=>{const r=e.style.whiteSpace;switch(r){case"break-spaces":case"pre":case"pre-wrap":return"pre";case"normal":case"nowrap":return"normal";case"pre-line":return"pre-line"}return e.tagName==="PRE"?"pre":r==="initial"?"normal":null},Af=(e,r)=>{const t=pu(e),n=r.whiteSpaceRule,a=N2(e);a&&(r.whiteSpaceRule=a),t||Ei(r),Cf(e,r),t||Ei(r),r.whiteSpaceRule=n},j2=e=>{const r=e.cloneNode(!0);return Af(r,{inlineFormattingContext:null,whiteSpaceRule:"normal"}),r},Du=(e,r)=>Array.from(r.childNodes).flatMap(Bf(e)),R2=(e,r)=>{if(r.nodeName==="BODY")return lu("fragment",{},Du(e,r))},I2=e=>{if(e.nodeName==="BR")return`
`},yf=(e,r,{deserializeLeaf:t,element:n})=>{var a,u;const{node:{isElement:s,isLeaf:i,type:o},parsers:f}=r,c=(a=f==null?void 0:f.html)==null?void 0:a.deserializer;if(!c)return;const{attributeNames:g,isElement:p,isLeaf:d,query:m,rules:C}=c;let{parse:A}=c;const y=p||s,B=d||i;if(!t&&!y||t&&!B||C&&!C.some(({validAttribute:j,validClassName:F,validNodeName:I="*",validStyle:_})=>{var T;if(I){const z=Er(I);if(z.length>0&&!z.includes(n.nodeName)&&I!=="*")return!1}if(F&&!n.classList.contains(F))return!1;if(_)for(const[z,G]of Object.entries(_)){if(!Er(G).includes(n.style[z])&&G!=="*"||G==="*"&&!n.style[z])return;const J=(T=r.inject.nodeProps)==null?void 0:T.defaultNodeValue;if(J&&J===n.style[z])return!1}if(j)if(typeof j=="string"){if(!n.getAttributeNames().includes(j))return!1}else for(const[z,G]of Object.entries(j)){const ee=Er(G),J=n.getAttribute(z);if(!Oo(J)||!ee.includes(J))return!1}return!0})||m&&!m(ge(q({},pr(e,r)),{element:n})))return;if(!A)if(y)A=()=>({type:o});else if(B)A=()=>({[o]:!0});else return;let P=(u=A(ge(q({},pr(e,r)),{element:n,node:{}})))!=null?u:{};if(Object.keys(P).length===0)return;if(df(e,r).forEach(w=>{var j,F,I,_;const T=(_=(I=(F=(j=w.parsers)==null?void 0:j.html)==null?void 0:F.deserializer)==null?void 0:I.parse)==null?void 0:_.call(I,ge(q({},pr(e,r)),{element:n,node:P}));T&&(P=q(q({},P),T))}),g){const w={},j=n.getAttributeNames();for(const F of j)g.includes(F)&&(w[F]=n.getAttribute(F));Object.keys(w).length>0&&(P.attributes=w)}return ge(q({},c),{node:P})},M2=(e,r)=>{let t;return[...e.pluginList].reverse().some(n=>(t=yf(e,n,{element:r}),!!t)),t},L2=(e,r)=>{var t;const n=M2(e,r);if(n){const{node:a,withoutChildren:u}=n;let s=(t=a.children)!=null?t:Du(e,r);return(s.length===0||u)&&(s=[{text:""}]),lu("element",a,s)}},H2=(e,r)=>{let t={};return[...e.pluginList].reverse().forEach(n=>{const a=yf(e,n,{deserializeLeaf:!0,element:r});a&&(t=q(q({},t),a.node))}),t},z2=(e,r)=>{const t=H2(e,r);return Du(e,r).reduce((n,a)=>{if(!a)return n;if(He(a))Object.keys(t).length>0&&c2({node:a,query:{filter:([u])=>Re(u)},source:t}),n.push(a);else{const u=q({},t);Re(a)&&a.text&&Object.keys(u).forEach(s=>{u[s]&&a[s]&&(u[s]=a[s])}),n.push(lu("text",u,a))}return n},[])},K2=e=>{if(hu(e))return e.textContent||""},Bf=e=>r=>{const t=K2(r);if(t)return t;if(!yt(r))return null;const n=I2(r);if(n)return n;const a=R2(e,r);if(a)return a;const u=L2(e,r);return u||z2(e,r)},W2=(e,r)=>Bf(e)(r),U2=e=>{const r=document.createElement("body");return r.innerHTML=e,r},q2=(e,{collapseWhiteSpace:r=!0,element:t})=>{typeof t=="string"&&(t=U2(t)),r&&(t=j2(t));const n=W2(e,t);return sO(e,{descendants:n})},G2=(e,r)=>{let t=null;return Yr(e,n=>r(n)?(t=n,!1):!0),t},U3=(e,r)=>!!G2(e,r),V2=()=>NodeFilter.FILTER_ACCEPT,q3=e=>{const r=[],t=document.createNodeIterator(e,NodeFilter.SHOW_COMMENT,{acceptNode:V2});let n=t.nextNode();for(;n;)n.nodeValue&&r.push(n.nodeValue),n=t.nextNode();return r},Ef=e=>e.nodeType===Node.COMMENT_NODE,k2=e=>new DOMParser().parseFromString(e,"text/html"),G3=e=>`<body>${e.trim().replaceAll(new RegExp(A2,"g"),"")}</body>`,J2=e=>{const r=e.indexOf("<html");return r===-1?e:e.slice(Math.max(0,r))},Y2=e=>{const r=e.lastIndexOf("</html>");return r===-1?e:e.slice(0,Math.max(0,r+7))},Z2=e=>J2(Y2(e)),X2=[Z2,y2],V3=e=>X2.reduce((r,t)=>t(r),e),Q2=(e,r)=>{Tn(e,t=>Ef(t)?r(t):!0)},k3=(e,r,t)=>{const n=a=>Ef(a)&&a.data===t;Q2(e,a=>{if(a.data===r){let u=a.nextSibling;for(a.remove();u&&!n(u);){const{nextSibling:s}=u;u.remove(),u=s}u&&n(u)&&u.remove()}return!0})},J3=ne({key:"html"}).extendApi(({editor:e})=>({deserialize:pa(q2,e)})).extend({parser:{deserialize:({api:e,data:r})=>{const t=k2(r);return e.html.deserialize({element:t.body})},format:"text/html"}}),eO=({editor:e,getOptions:r})=>{const{apply:t}=e;return e.apply=n=>{Ke(e,()=>{t(n);const a=r();if(a.maxLength){const u=Ra(e,[]).length;if(u>a.maxLength){const s=u-a.maxLength;e.delete({distance:s,reverse:!0,unit:"character"})}}})},e};cu({key:"length",extendEditor:eO});var rO=e=>r=>Re(r)||He(r)&&e.isInline(r),tO=e=>()=>({children:[],type:e}),nO=(e,r)=>e.some((t,n,a)=>{const u=a[n-1];return n!==0?r(t)!==r(u):!1}),aO=(e,r,t)=>{const n=nO(e,r),{fragment:a}=e.reduce((u,s)=>{if(n&&r(s)){let i=u.precedingBlock;i||(i=t(),u.precedingBlock=i,u.fragment.push(i)),i.children.push(s)}else u.fragment.push(s),u.precedingBlock=null;return u},{fragment:[],precedingBlock:null});return a},uO=e=>e.length===0?[{text:""}]:e,bf=(e,r,t)=>(e=uO(e),e=aO(e,r,t),e=e.map(n=>He(n)?ge(q({},n),{children:bf(n.children,r,t)}):n),e),sO=(e,{descendants:r})=>{const t=rO(e),n=e.getType(gu),a=tO(n);return bf(r,t,a)},iO=(e,r,{data:t,dataTransfer:n})=>r.every(a=>{var u;const s=(u=a.parser)==null?void 0:u.query;return!s||s(ge(q({},pr(e,a)),{data:t,dataTransfer:n}))}),oO=(e,r,t)=>{var n=t,{fragment:a}=n,u=Df(n,["fragment"]);Ke(e,()=>{r.some(s=>{var i,o;return((o=(i=s.parser)==null?void 0:i.preInsert)==null?void 0:o.call(i,q(ge(q({},pr(e,s)),{fragment:a}),u)))===!0}),e.insertFragment(a)})},fO=(e,r,{data:t,dataTransfer:n})=>(r.forEach(a=>{var u;const s=(u=a.parser)==null?void 0:u.transformData;s&&(t=s(ge(q({},pr(e,a)),{data:t,dataTransfer:n})))}),t),lO=(e,r,t)=>{var n=t,{fragment:a}=n,u=Df(n,["fragment"]);return r.forEach(s=>{var i;const o=(i=s.parser)==null?void 0:i.transformFragment;o&&(a=o(q(q({fragment:a},u),pr(e,s))))}),a},Y3=(e,r)=>r.map(t=>e.getType(t)),cO=ru,vO=zr,gO=bo,hO=kr,Ff=Object.prototype,pO=Ff.hasOwnProperty,DO=cO(function(e,r){e=Object(e);var t=-1,n=r.length,a=n>2?r[2]:void 0;for(a&&gO(r[0],r[1],a)&&(n=1);++t<n;)for(var u=r[t],s=hO(u),i=-1,o=s.length;++i<o;){var f=s[i],c=e[f];(c===void 0||vO(c,Ff[f])&&!pO.call(e,f))&&(e[f]=u[f])}return e}),dO=DO;const mO=ze(dO);var CO=Object.defineProperty,AO=Object.defineProperties,yO=Object.getOwnPropertyDescriptors,bi=Object.getOwnPropertySymbols,BO=Object.prototype.hasOwnProperty,EO=Object.prototype.propertyIsEnumerable,Fi=(e,r,t)=>r in e?CO(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,bO=(e,r)=>{for(var t in r||(r={}))BO.call(r,t)&&Fi(e,t,r[t]);if(bi)for(var t of bi(r))EO.call(r,t)&&Fi(e,t,r[t]);return e},FO=(e,r)=>AO(e,yO(r)),Z3=e=>{vu(FO(bO({},e),{apply:mO}))};export{df as $,vt as A,xa as B,B3 as C,cu as D,_e as E,d3 as F,ro as G,to as H,XB as I,WO as J,Sg as K,Re as L,Tg as M,C3 as N,P3 as O,D as P,jO as Q,b as R,NO as S,xO as T,p3 as U,Ra as V,mg as W,nn as X,ne as Y,x3 as Z,Gi as _,n3 as a,Yr as a$,iO as a0,XO as a1,KO as a2,U as a3,an as a4,MO as a5,D2 as a6,J3 as a7,UB as a8,JO as a9,wg as aA,LO as aB,zO as aC,jB as aD,Dt as aE,S as aF,s3 as aG,Y3 as aH,S3 as aI,HO as aJ,GO as aK,Yo as aL,ha as aM,zB as aN,$3 as aO,ya as aP,Oo as aQ,j3 as aR,Qi as aS,vf as aT,$O as aU,YO as aV,Is as aW,qO as aX,T3 as aY,R3 as aZ,ga as a_,He as aa,Pg as ab,gu as ac,RO as ad,qi as ae,kO as af,Wi as ag,vg as ah,ms as ai,m3 as aj,QB as ak,Ia as al,VO as am,u3 as an,Ui as ao,v3 as ap,Ji as aq,t3 as ar,HB as as,eE as at,_O as au,b3 as av,Jo as aw,A3 as ax,o3 as ay,Ds as az,pa as b,K3 as b$,G3 as b0,Oa as b1,w3 as b2,D3 as b3,F3 as b4,a3 as b5,We as b6,Ue as b7,su as b8,O as b9,yg as bA,TO as bB,tE as bC,_3 as bD,v1 as bE,lu as bF,Ma as bG,Er as bH,YB as bI,i3 as bJ,QO as bK,e3 as bL,c3 as bM,l3 as bN,IO as bO,g3 as bP,h3 as bQ,U3 as bR,Zm as bS,PO as bT,qB as bU,ds as bV,vu as bW,Z3 as bX,f3 as bY,V3 as bZ,L3 as b_,M as ba,v as bb,Ee as bc,x as bd,Ao as be,Uo as bf,Xa as bg,On as bh,qo as bi,jy as bj,dt as bk,Va as bl,Te as bm,No as bn,Cm as bo,Nm as bp,NB as bq,Sd as br,To as bs,mt as bt,JE as bu,GF as bv,SO as bw,ea as bx,nE as by,Ym as bz,y3 as c,M3 as c0,z3 as c1,H3 as c2,W3 as c3,Ef as c4,k3 as c5,ZO as c6,b2 as c7,yi as c8,q3 as c9,xr as ca,I3 as cb,sa as cc,at as cd,ZB as d,E3 as e,Xi as f,mn as g,La as h,r3 as i,O3 as j,Og as k,_g as l,Na as m,N3 as n,Vi as o,dg as p,eo as q,Ir as r,Yi as s,no as t,Rr as u,Zi as v,Ke as w,ja as x,UO as y,pr as z};
